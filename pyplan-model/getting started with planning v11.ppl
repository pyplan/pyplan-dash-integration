{"modelProp": {"changeIdentifier": "1", "libs": [], "onOpenDashId": null, "onOpenModel": "openDiagram"}, "nodeList": [{"color": null, "definition": "result = 0", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "50", "identifier": "creating_my_first_model", "moduleId": "_model_", "nodeClass": "model", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Basic Planning Model", "units": null, "w": "100", "x": 100, "y": 100, "z": 1}, {"color": null, "definition": "# you must declare here the imported libraries you want to use all accross the nodes.\n# any library not declared here will require the corresponding import sentence in the node it is used.\nimport numpy, pandas, cubepy, xarray\n#fill the following dict keys with the alias you wish to use for any imported library\nresult = {\n    \"np\":numpy,\n    \"pd\":pandas,\n    \"cubepy\":cubepy,\n    \"xr\":xarray\n}", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "34", "identifier": "imports", "moduleId": "pyplan_library", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Default imports", "units": null, "w": "106", "x": 103, "y": 190, "z": 1}, {"color": "#9999ff", "definition": "# Create Region index dimension\nresult = pd.Index(hist_sales_db['Region'].unique())", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "region", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Region", "units": null, "w": "129", "x": 528, "y": 133, "z": 1}, {"color": "#d9d9d9", "definition": null, "description": "Indexes Definition", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "639", "identifier": "af81dd019664c4ba9b017da1ca0e3d1e0_copy", "moduleId": "index_definitions", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": "973", "x": 4, "y": 17, "z": -1}, {"color": "#9999ff", "definition": "# Create Item Type index dimension\nresult = pd.Index( hist_sales_db['Item Type'].unique() )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "item_type", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Item Type", "units": null, "w": "129", "x": 71, "y": 98, "z": 1}, {"color": "#9999ff", "definition": "# Create Sales Channels index dimension\nresult = pd.Index( sales_channel_selector.value  )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "sales_channel", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Sales Channel", "units": null, "w": "129", "x": 71, "y": 131, "z": 1}, {"color": "#d9d9d9", "definition": null, "description": "Getting Stated with Planning - Dash integration example", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "a0f06b8c60ffe4af4a1c355cce809170f", "moduleId": "creating_my_first_model", "nodeClass": "text", "nodeFont": "Helvetica,21", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 1}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": 1324, "x": 8, "y": 18, "z": "-2"}, {"color": "#9fc5e8", "definition": "", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 50, "identifier": "pyplan_library", "moduleId": "creating_my_first_model", "nodeClass": "module", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pyplan library", "units": null, "w": 100, "x": 30, "y": 730, "z": 1}, {"color": "#9999ff", "definition": "# set Parent index\nself.set_hierarchy([region.name], ['country_to_region_map'])\n\nresult = pd.Index(hist_sales_db['Country'].unique())", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "country", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Country", "units": null, "w": "129", "x": 654, "y": 133, "z": 1}, {"color": "#4CBCFF", "definition": "_df = hist_sales_db\n# Selected columns\n_df = _df[['Region', 'Country']]\n# Set index\n_df = _df.drop_duplicates()\n_df = _df.rename(columns = {'Country': 'country'})\n_df = _df.set_index('country')['Region']\n\nresult = _df.to_xarray()", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "country_to_region_map", "moduleId": "index_definitions", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "country_to_region_map", "units": null, "w": "249", "x": 535, "y": 169, "z": 1}, {"color": "#9999ff", "definition": "# set multiple Parent indexes\nself.set_hierarchy([\"quarters\",\"semesters\",\"years\"], [\"time_to_quarter\",\"time_to_semester\",\"time_to_years\"] )\n\nresult = pd.Index( create_time( initial_modeling_date, fin_mod_date, freq='M', format='%Y.%m' ).values )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "time", "moduleId": "time_related_indexes", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "time", "units": null, "w": "83", "x": 20, "y": 90, "z": 1}, {"color": "#9999ff", "definition": "result = apply_fn( time, lambda x: x[:4] )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "years", "moduleId": "time_related_indexes", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "years", "units": null, "w": "79", "x": 257, "y": 90, "z": 1}, {"color": "#9999ff", "definition": "_quarters = [ys[:4] + '.Q' + str(q) for ys in years for q in range(1,5)]\n_quarters = _quarters[3: ] if initial_modeling_date[5: ] == '12' else _quarters\n    \nresult = pd.Index(_quarters)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "quarters", "moduleId": "time_related_indexes", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Quarters", "units": null, "w": "83", "x": 98, "y": 90, "z": 1}, {"color": "#efefef", "definition": null, "description": "Commercial Planning", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 253, "identifier": "af81dd019664c4ba9b017da1ca0e3d1e0_copy1", "moduleId": "creating_my_first_model", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": 474, "x": 7, "y": 57, "z": -1}, {"color": "#4CBCFF", "definition": "_time = to_dataarray(time)\n\nresult = apply_fn(_time, lambda x: x[:4] + '.Q1' if int(x[5:]) <= 3 else x[:4] + '.Q2' if int(x[5:]) <= 6 else x[:4] + '.Q3' if int(x[5:]) <= 9 else x[:4] + '.Q4' )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "time_to_quarter", "moduleId": "time_related_indexes", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Time to Quarter", "units": null, "w": "96", "x": 26, "y": 130, "z": 1}, {"color": "#4CBCFF", "definition": "_time = to_dataarray(time)\n\nresult = apply_fn(_time, lambda x: x[:4] + '.S1' if int(x[5:]) <= 6 else x[:4] + '.S2' )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "time_to_semester", "moduleId": "time_related_indexes", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Time to Semester", "units": null, "w": "96", "x": 128, "y": 130, "z": 1}, {"color": "#9999ff", "definition": "_semesters = []\n\nfor year in years.values:\n    for semester in range(1,3):\n        _semesters.append( year + '.S' + str(semester))\n\nif initial_modeling_date[5:] == '12':\n    _semesters_ok = _semesters[1:]\nelse:\n    _semesters_ok = _semesters\n    \nresult = pd.Index( _semesters_ok )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "semesters", "moduleId": "time_related_indexes", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Semesters", "units": null, "w": "86", "x": 175, "y": 90, "z": 1}, {"color": "#4CBCFF", "definition": "_array_time = to_dataarray(time)\n\nresult = apply_fn( _array_time, lambda x: x[:4] )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "time_to_years", "moduleId": "time_related_indexes", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Time to Years", "units": null, "w": "96", "x": 230, "y": 130, "z": 1}, {"color": "#4CBCFF", "definition": "result = elastic_volume_projection__ * a_of_supply * projected_prices", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "revenue_projection", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,1,4,0,$,0,,0", "originalId": null, "picture": null, "title": "Revenue Projection", "units": null, "w": 131, "x": 827, "y": 154, "z": 1}, {"color": "#ffff00", "definition": "result = xr.DataArray([[[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.0,0.2,0.2,0.2,0.2,0.2,0.2,0.0,0.0,0.0,0.0,0.0,0.0,0.2,0.2,   0.2,0.2,0.2,0.2,0.0,0.0,0.0,0.0,0.0,0.0,0.2,0.2,0.2,0.2,0.2,0.2,0.0,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.0,0.0,0.0,0.0,0.1,0.1,0.1,   0.1,0.1,0.1,0.1,0.1,0.0,0.0,0.0,0.0,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.1,0.1,0.3,0.3,0.5,0.5,0.5,0.5,0.3,0.3,0.1,0.1,0.1,0.1,0.3,0.3,0.5,   0.5,0.5,0.5,0.3,0.3,0.1,0.1,0.1,0.1,0.3,0.3,0.5,0.5,0.5,0.5,0.3,0.3,   0.1,0.1],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,   0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15,   0.15,0.15,0.15,0.15,0.15,0.15,0.15,0.15],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,   0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,0.4,   0.4,0.4],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]], [[0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,   0.0,0.0],  [0.0,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25,   0.25,0.25,0.25,0.25,0.25,0.25,0.25,0.25]]],[item_type,discount_scenarios,time])", "description": "<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\" style=\"color: rgb(0, 0, 0); background-image: none; margin-top: 0px; margin-bottom: 0.25em; overflow: visible; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.8em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\">Sales promotion</h1><div id=\"bodyContent\" class=\"mw-body-content\" style=\"position: relative; font-size: calc(0.875em); line-height: 1.6; z-index: 0;\"><div id=\"siteSub\" class=\"noprint\" style=\"font-size: 12.880000114440918px;\">From Wikipedia, the free encyclopedia</div><div id=\"contentSub\" style=\"font-size: 11.760000228881836px; line-height: 1.2em; margin: 0px 0px 1.4em 1em; color: rgb(84, 89, 93); width: auto;\"></div><div id=\"jump-to-nav\"></div><a class=\"mw-jump-link\" href=\"https://en.wikipedia.org/wiki/Sales_promotion#mw-head\" style=\"color: rgb(11, 0, 128); background-image: none; display: block; clip: rect(1px, 1px, 1px, 1px); width: 1px; height: 1px; margin: -1px; border: 0px; padding: 0px; overflow: hidden; position: absolute !important;\">Jump to navigation</a><a class=\"mw-jump-link\" href=\"https://en.wikipedia.org/wiki/Sales_promotion#p-search\" style=\"color: rgb(11, 0, 128); background-image: none; display: block; clip: rect(1px, 1px, 1px, 1px); width: 1px; height: 1px; margin: -1px; border: 0px; padding: 0px; overflow: hidden; position: absolute !important;\">Jump to search</a><div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\" style=\"direction: ltr;\"><div class=\"mw-parser-output\"><div class=\"boilerplate metadata nomobile plainlinks tfd\" id=\"tfd\" style=\"background-color: transparent; padding: 0px 0.2em; text-align: center; position: relative; float: right; clear: right; width: 20em;\"><span style=\"font-size: xx-small;\">\u2039&nbsp;The&nbsp;<a href=\"https://en.wikipedia.org/wiki/Help:Template\" title=\"Help:Template\" style=\"color: rgb(11, 0, 128); background-image: none;\">template</a>&nbsp;<i><a href=\"https://en.wikipedia.org/wiki/Template:Sidebar_with_collapsible_lists\" title=\"Template:Sidebar with collapsible lists\" style=\"color: rgb(11, 0, 128); background-image: none;\">Sidebar with collapsible lists</a></i>&nbsp;is being&nbsp;<a href=\"https://en.wikipedia.org/wiki/Wikipedia:Templates_for_discussion/Log/2020_April_20#Template:Sidebar_with_collapsible_lists\" title=\"Wikipedia:Templates for discussion/Log/2020 April 20\" style=\"color: rgb(11, 0, 128); background-image: none;\">considered for merging</a>.&nbsp;\u203a</span></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\"><b>Sales promotion</b>&nbsp;is one of the elements of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Promotional_mix\" title=\"Promotional mix\" style=\"color: rgb(11, 0, 128); background-image: none;\">promotional mix</a>. The primary elements in the promotional mix are&nbsp;<a href=\"https://en.wikipedia.org/wiki/Advertising\" title=\"Advertising\" style=\"color: rgb(11, 0, 128); background-image: none;\">advertising</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales\" title=\"Sales\" style=\"color: rgb(11, 0, 128); background-image: none;\">personal selling</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Direct_marketing\" title=\"Direct marketing\" style=\"color: rgb(11, 0, 128); background-image: none;\">direct marketing</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Publicity\" title=\"Publicity\" style=\"color: rgb(11, 0, 128); background-image: none;\">publicity</a>/<a href=\"https://en.wikipedia.org/wiki/Public_relations\" title=\"Public relations\" style=\"color: rgb(11, 0, 128); background-image: none;\">public relations</a>. Sales promotion uses both media and non-media marketing communications for a pre-determined, limited time to increase consumer demand, stimulate market demand or improve product availability. Examples include&nbsp;<a href=\"https://en.wikipedia.org/wiki/Competition\" title=\"Competition\" style=\"color: rgb(11, 0, 128); background-image: none;\">contests</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Coupon\" title=\"Coupon\" style=\"color: rgb(11, 0, 128); background-image: none;\">coupons</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Freebie_marketing\" class=\"mw-redirect\" title=\"Freebie marketing\" style=\"color: rgb(11, 0, 128); background-image: none;\">freebies</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Loss_leader\" title=\"Loss leader\" style=\"color: rgb(11, 0, 128); background-image: none;\">loss leaders</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Point_of_purchase\" class=\"mw-redirect\" title=\"Point of purchase\" style=\"color: rgb(11, 0, 128); background-image: none;\">point of purchase</a>&nbsp;displays,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Premium_(marketing)\" title=\"Premium (marketing)\" style=\"color: rgb(11, 0, 128); background-image: none;\">premiums</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Prize_(marketing)\" title=\"Prize (marketing)\" style=\"color: rgb(11, 0, 128); background-image: none;\">prizes</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Product_sample\" title=\"Product sample\" style=\"color: rgb(11, 0, 128); background-image: none;\">product samples</a>, and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Rebate_(marketing)\" title=\"Rebate (marketing)\" style=\"color: rgb(11, 0, 128); background-image: none;\">rebates</a>.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Sales promotions can be directed at either the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Customer\" title=\"Customer\" style=\"color: rgb(11, 0, 128); background-image: none;\">customer</a>, sales staff, or&nbsp;<a href=\"https://en.wikipedia.org/wiki/Distribution_(business)\" class=\"mw-redirect\" title=\"Distribution (business)\" style=\"color: rgb(11, 0, 128); background-image: none;\">distribution</a>&nbsp;channel members (such as&nbsp;<a href=\"https://en.wikipedia.org/wiki/Retailer\" class=\"mw-redirect\" title=\"Retailer\" style=\"color: rgb(11, 0, 128); background-image: none;\">retailers</a>). Sales promotions targeted at the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Consumer\" title=\"Consumer\" style=\"color: rgb(11, 0, 128); background-image: none;\">consumer</a>&nbsp;are called&nbsp;<b>consumer sales promotions</b>. Sales promotions targeted at retailers and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Wholesalers\" class=\"mw-redirect\" title=\"Wholesalers\" style=\"color: rgb(11, 0, 128); background-image: none;\">wholesale</a>&nbsp;are called&nbsp;<b>trade sales promotions</b>.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Sales promotion includes several communications activities that attempt to provide added value or incentives to consumers, wholesalers, retailers, or other organizational customers to stimulate immediate sales. These efforts can attempt to stimulate product interest, trial, or purchase. Examples of devices used in sales promotion include coupons, samples, premiums, point-of-purchase (POP) displays, contests, rebates, and sweepstakes.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Sales promotion is implemented to attract new customers, to hold present customers, to counteract competition, and to take advantage of opportunities that are revealed by market research. It is made up of activities, both outside and inside activities, to enhance company sales. Outside sales promotion activities include advertising, publicity, public relations activities, and special sales events. Inside sales promotion activities include window displays, product and promotional material display and promotional programs such as premium awards and contests.<sup id=\"cite_ref-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-1\" style=\"color: rgb(11, 0, 128); background-image: none;\">[1]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Sale promotions often come in the form of discounts. Discounts impact the way consumers think and behave when shopping. The type of savings and its location can affect the way consumers view a product and affect their purchase decision.<sup id=\"cite_ref-Yin_2-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;The two most common discounts are price discounts (\u201con sale items\u201d) and bonus packs (\u201cbulk items\u201d).<sup id=\"cite_ref-Yin_2-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;Price discounts are the reduction of an original sale by a certain percentage while bonus packs are deals in which the consumer receives more for the original price.<sup id=\"cite_ref-Yin_2-2\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;Many companies present different forms of discounts in&nbsp;<a href=\"https://en.wikipedia.org/wiki/Advertising\" title=\"Advertising\" style=\"color: rgb(11, 0, 128); background-image: none;\">advertisements</a>, hoping to convince consumers to buy their products.</p><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\" style=\"border: 1px solid rgb(162, 169, 177); background-color: rgb(248, 249, 250); padding: 7px; font-size: 13.300000190734863px; display: table;\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\" style=\"text-align: center; direction: ltr;\"><h2 id=\"mw-toc-heading\" style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border: 0px; font-size: 13.300000190734863px; font-family: sans-serif; line-height: 1.3; display: inline;\">Contents</h2><span class=\"toctogglespan\" style=\"font-size: 12.50200080871582px;\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\" style=\"cursor: pointer; color: rgb(6, 69, 173);\"></label></span></div><ul style=\"list-style-image: none; margin: 0.3em 0px; padding: 0px; list-style-type: none;\"><li class=\"toclevel-1 tocsection-1\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Sales_promotion:_definition\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Sales promotion: definition</span></a></li><li class=\"toclevel-1 tocsection-2\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Consumer_sales_promotion_types\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Consumer sales promotion types</span></a><ul style=\"list-style-image: none; margin-right: 0px; margin-left: 2em; padding: 0px; list-style-type: none;\"><li class=\"toclevel-2 tocsection-3\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Online_deals_vs._In-store_deals\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">2.1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Online deals vs. In-store deals</span></a></li></ul></li><li class=\"toclevel-1 tocsection-4\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Trade_sales_promotion_techniques\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Trade sales promotion techniques</span></a></li><li class=\"toclevel-1 tocsection-5\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Retail_Mechanics\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Retail Mechanics</span></a></li><li class=\"toclevel-1 tocsection-6\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Consumer_Thought_Process\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Consumer Thought Process</span></a><ul style=\"list-style-image: none; margin-right: 0px; margin-left: 2em; padding: 0px; list-style-type: none;\"><li class=\"toclevel-2 tocsection-7\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Meaningful_Savings:_Gain_or_Loss\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5.1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Meaningful Savings: Gain or Loss</span></a></li><li class=\"toclevel-2 tocsection-8\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Impulse_Buying\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5.2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Impulse Buying</span></a></li><li class=\"toclevel-2 tocsection-9\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Comparing_Prices\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5.3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Comparing Prices</span></a></li><li class=\"toclevel-2 tocsection-10\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Right_Digit_Effect\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5.4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Right Digit Effect</span></a></li><li class=\"toclevel-2 tocsection-11\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Framing_Effect\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5.5</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Framing Effect</span></a></li><li class=\"toclevel-2 tocsection-12\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Outside_Forces\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5.6</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Outside Forces</span></a></li></ul></li><li class=\"toclevel-1 tocsection-13\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#Political_issues\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Political issues</span></a></li><li class=\"toclevel-1 tocsection-14\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#See_also\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">7</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">See also</span></a></li><li class=\"toclevel-1 tocsection-15\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#References\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">8</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">References</span></a></li><li class=\"toclevel-1 tocsection-16\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#External_links\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">9</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">External links</span></a></li></ul></div><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Sales_promotion:_definition\">Sales promotion: definition</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=1\" title=\"Edit section: Sales promotion: definition\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Sales promotion represents a variety of techniques used to stimulate the purchase of a product or brand. Sales promotion has a tactical, rather than strategic role in marketing communications and brand strategy, it is also a form of advertisement used within a short period of time. Researchers Farhangmehr and Brito, reviewed the definitions of sales promotions in marketing texts and journals and identified a set of common characteristics of sales promotion, including:<sup id=\"cite_ref-3\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-3\" style=\"color: rgb(11, 0, 128); background-image: none;\">[3]</a></sup></p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Short-term effects and duration;</li><li style=\"margin-bottom: 0.1em;\">Operates and influences only the last phase of the purchase process;</li><li style=\"margin-bottom: 0.1em;\">Exhibits a secondary role in relation to other forms of marketing communication;</li><li style=\"margin-bottom: 0.1em;\">Performs an accessory role regarding the products core benefits</li><li style=\"margin-bottom: 0.1em;\">Is not a single technique, rather it is a set of techniques used for a specific purpose</li></ul><div class=\"thumb tright\" style=\"margin: 0.5em 0px 1.3em 1.4em; width: auto; background-color: transparent; clear: right; float: right;\"><div class=\"thumbinner\" style=\"min-width: 100px; border: 1px solid rgb(200, 204, 209); padding: 3px; background-color: rgb(248, 249, 250); font-size: 13.15999984741211px; text-align: center; overflow: hidden; width: 222px;\"><a href=\"https://en.wikipedia.org/wiki/File:Cokecaps.JPG\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Cokecaps.JPG/220px-Cokecaps.JPG\" decoding=\"async\" width=\"220\" height=\"165\" class=\"thumbimage\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Cokecaps.JPG/330px-Cokecaps.JPG 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Cokecaps.JPG/440px-Cokecaps.JPG 2x\" data-file-width=\"3264\" data-file-height=\"2448\" style=\"border: 1px solid rgb(200, 204, 209); background-color: rgb(255, 255, 255);\"></a><div class=\"thumbcaption\" style=\"border: 0px; line-height: 1.4em; padding: 3px; font-size: 12.370400428771973px; text-align: left;\"><div class=\"magnify\" style=\"float: right; margin-left: 3px; margin-right: 0px;\"><a href=\"https://en.wikipedia.org/wiki/File:Cokecaps.JPG\" class=\"internal\" title=\"Enlarge\" style=\"color: rgb(11, 0, 128); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e&quot;); display: block; text-indent: 15px; white-space: nowrap; overflow: hidden; width: 15px; height: 11px; -webkit-user-select: none;\"></a></div>Cokecaps is a manufacturer-sponsored sales promotion targeted at consumers</div></div></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Both manufacturers and retailers make extensive use of sales promotions. Retailer-sponsored sales promotions are directed at consumers. Manufacturers use two types of sales promotion, namely:<sup id=\"cite_ref-Gedenek,_K._pp.345-359_4-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Gedenek,_K._pp.345-359-4\" style=\"color: rgb(11, 0, 128); background-image: none;\">[4]</a></sup></p><dl style=\"margin-top: 0.2em; margin-bottom: 0.5em;\"><dd style=\"margin-left: 1.6em; margin-bottom: 0.1em;\">1.&nbsp;<i>Consumer sales promotions</i>: Sales promotions targeted at consumers or end-users and designed to stimulate the actual purchase</dd><dd style=\"margin-left: 1.6em; margin-bottom: 0.1em;\">2.&nbsp;<i>Trade promotions</i>: Sales promotions targeted at trade, especially retailers, designed to increase sales to retailers, to carry the product or brand or to support the retailer in consumer-oriented promotions</dd></dl><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Consumer_sales_promotion_types\">Consumer sales promotion types</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=2\" title=\"Edit section: Consumer sales promotion types\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Consumer sales promotions are short term techniques designed to achieve short term objectives, such as to stimulate a purchase, encourage store traffic or simply to build excitement for a product or brand. Traditional sales promotions techniques include:&nbsp;</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Price deal: A temporary reduction in the price, such as 50% off.</li><li style=\"margin-bottom: 0.1em;\">Loyal Reward Program: Consumers collect points, miles, or credits for purchases and redeem them for rewards.</li><li style=\"margin-bottom: 0.1em;\">Cents-off deal: Offers a brand at a lower price. Price reduction may be a percentage marked on the package.</li><li style=\"margin-bottom: 0.1em;\">Price-pack/Bonus packs deal: The packaging offers a consumer a certain percentage more of the product for the same price (for example, 25 percent extra). This is another type of deal \u201cin which customers are offered more of the product for the same price\u201d.<sup id=\"cite_ref-Yin_2-3\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;For example, a sales company may offer their consumers a bonus pack in which they can receive two products for the price of one. In these scenarios, this bonus pack is framed as a gain because buyers believe that they are obtaining a free product.<sup id=\"cite_ref-Yin_2-4\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;The purchase of a bonus pack, however, is not always beneficial for the consumer. Sometimes consumers will end up spending money on an item they would not normally buy had it not been in a bonus pack. As a result, items bought in a bonus pack are often wasted and is viewed as a \u201closs\u201d for the consumer.</li><li style=\"margin-bottom: 0.1em;\">Coupons: coupons have become a standard mechanism for sales promotions.</li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Loss_leader\" title=\"Loss leader\" style=\"color: rgb(11, 0, 128); background-image: none;\">Loss leader</a>: the price of a popular product is temporarily reduced below cost in order to stimulate other profitable sales</li><li style=\"margin-bottom: 0.1em;\">Free-standing insert (FSI): A coupon booklet is inserted into the local newspaper for delivery.</li><li style=\"margin-bottom: 0.1em;\">Checkout dispensers: On checkout the customer is given a coupon based on products purchased.</li><li style=\"margin-bottom: 0.1em;\">Mobile couponing: Coupons are available on a mobile phone. Consumers show the offer on a mobile phone to a salesperson for redemption.</li><li style=\"margin-bottom: 0.1em;\">Online interactive promotion game: Consumers play an interactive game associated with the promoted product.</li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Rebate_(marketing)\" title=\"Rebate (marketing)\" style=\"color: rgb(11, 0, 128); background-image: none;\">Rebates</a>: Consumers are offered money back if the receipt and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Barcode\" title=\"Barcode\" style=\"color: rgb(11, 0, 128); background-image: none;\">barcode</a>&nbsp;are mailed to the producer.</li><li style=\"margin-bottom: 0.1em;\">Contests/sweepstakes/games: The consumer is automatically entered into the event by purchasing the product.</li><li style=\"margin-bottom: 0.1em;\">Point-of-sale displays:-<ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin-top: 0.3em; margin-right: 0px; margin-left: 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Aisle interrupter: A sign that juts into the aisle from the shelf.</li><li style=\"margin-bottom: 0.1em;\">Dangler: A sign that sways when a consumer walks by it.</li><li style=\"margin-bottom: 0.1em;\">Dump bin: A bin full of products dumped inside.</li><li style=\"margin-bottom: 0.1em;\">Bidding portals: Getting prospects</li><li style=\"margin-bottom: 0.1em;\">Glorifier: A small stage that elevates a product above other products.</li><li style=\"margin-bottom: 0.1em;\">Wobbler: A sign that jiggles.</li><li style=\"margin-bottom: 0.1em;\">Lipstick Board: A board on which messages are written in crayon.</li><li style=\"margin-bottom: 0.1em;\">Necker: A coupon placed on the 'neck' of a bottle.</li><li style=\"margin-bottom: 0.1em;\">YES unit: \"your extra salesperson\" is a pull-out&nbsp;<a href=\"https://en.wikipedia.org/wiki/Fact_sheet\" title=\"Fact sheet\" style=\"color: rgb(11, 0, 128); background-image: none;\">fact sheet</a>.</li><li style=\"margin-bottom: 0.1em;\">Electroluminescent: Solar-powered, animated light in motion.</li></ul></li><li style=\"margin-bottom: 0.1em;\">Kids eat free specials: Offers a discount on the total dining bill by offering 1 free kids meal with each regular meal purchased.</li><li style=\"margin-bottom: 0.1em;\">Sampling: Consumers get one sample for free, after their trial and then could decide whether to buy or not.</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">New technologies have provided a range of new opportunities for sales promotions. Loyalty cards, personal shopping assistants, electronic shelf labels, and electronic advertising displays allow for more personalised communications and more targeted information at the point of purchase. For example, shoppers may receive alerts for special offers when they approach a product in a specific aisle.<sup id=\"cite_ref-Gedenek,_K._pp.345-359_4-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Gedenek,_K._pp.345-359-4\" style=\"color: rgb(11, 0, 128); background-image: none;\">[4]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Online_deals_vs._In-store_deals\">Online deals vs. In-store deals</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=3\" title=\"Edit section: Online deals vs. In-store deals\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">There are different types of discounts available online versus in the stores. On-shelf couponing: Coupons are present at the shelf where the product is available. * On-line couponing: Coupons are available online. Consumers print them out and take them to the store.Although discounts can be found online and in stores, there is a different thought process when shopping in each location. For example, \u201conline shoppers are more price-sensitive because of the readily available low search cost and direct price comparisons\u201d.<sup id=\"cite_ref-Yin_2-5\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>Consumers can easily go to&nbsp;<a href=\"https://en.wikipedia.org/wiki/Comparison_shopping_website\" title=\"Comparison shopping website\" style=\"color: rgb(11, 0, 128); background-image: none;\">other websites and find better deals</a>&nbsp;as opposed to physically going to various stores.<sup id=\"cite_ref-Yin_2-6\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;In addition, buyers tend to refrain from purchasing bonus packs online because of the skepticism (of fraud and scams) that may come with the deal.<sup id=\"cite_ref-Yin_2-7\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;Since \u201c\u2026bonus packs are more difficult than price discounts to process online, they are more difficult and effortful for the consumer to understand\u201d.<sup id=\"cite_ref-Yin_2-8\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;For example, a buy-one-get-one-free deal on a website requires more work than the same bonus pack offered in a store. Online, consumers have to deal with payment processing, shipping and handling fees, and days waiting for the products\u2019 arrival, while in a store, the products are available without those additional steps and delays.</p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Trade_sales_promotion_techniques\">Trade sales promotion techniques</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=4\" title=\"Edit section: Trade sales promotion techniques\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Trade allowances: short term incentive offered to induce a retailer to stock up on a product.</li><li style=\"margin-bottom: 0.1em;\">Dealer loader: An incentive given to induce a retailer to purchase and display a product.</li><li style=\"margin-bottom: 0.1em;\">Trade contest: A contest to reward retailers that sell the most product.</li><li style=\"margin-bottom: 0.1em;\">Point-of-purchase displays: Used to create the urge of \"impulse\" buying and selling your product on the spot.</li><li style=\"margin-bottom: 0.1em;\">Training programs: dealer employees are trained in selling the product.</li><li style=\"margin-bottom: 0.1em;\">Push money: also known as \"spiffs\". An extra commission paid to retail employees to push products.</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Trade discounts (also called functional discounts): These are payments to distribution channel members for performing some function .</p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Retail_Mechanics\">Retail Mechanics</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=5\" title=\"Edit section: Retail Mechanics\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Retailers have a stock number of retail 'mechanics' that they regularly roll out or rotate for new marketing initiatives.</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Buy x get y free a.k.a. BOGOF for&nbsp;<a href=\"https://en.wikipedia.org/wiki/Buy_One_Get_One_Free\" class=\"mw-redirect\" title=\"Buy One Get One Free\" style=\"color: rgb(11, 0, 128); background-image: none;\">Buy One Get One Free</a></li><li style=\"margin-bottom: 0.1em;\">Three for two</li><li style=\"margin-bottom: 0.1em;\">Buy a quantity for a lower price</li><li style=\"margin-bottom: 0.1em;\">Get x% of discount on weekdays.</li><li style=\"margin-bottom: 0.1em;\">Free gift with purchase</li></ul><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Consumer_Thought_Process\">Consumer Thought Process</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=6\" title=\"Edit section: Consumer Thought Process\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Meaningful_Savings:_Gain_or_Loss\">Meaningful Savings: Gain or Loss</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=7\" title=\"Edit section: Meaningful Savings: Gain or Loss\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Many discounts are designed to give consumers the perception of saving money when buying products, but not all discounted prices are viewed as favorable to buyers. Therefore, before making a purchase, consumers may weigh their options as either a gain or a loss to avoid the risk of losing money on a purchase.<sup id=\"cite_ref-Isabella_5-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;A \u201cgain\u201d view on a purchase results in chance taking<sup id=\"cite_ref-Isabella_5-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;For example, if there is a buy-one-get-one-half-off discount that seems profitable, a shopper will buy the product. On the other hand, a \u201closs\u201d viewpoint results in consumer aversion to taking any chances.<sup id=\"cite_ref-Isabella_5-2\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;For instance, consumers will pass on a buy-three-get-one-half-off discount if they believe they are not benefitting from the deal. Specifically, consumers will consider their options because \u201c\u2026the sensation of loss is 2.5 times greater than the sensation of gain for the same value\u201d.<sup id=\"cite_ref-Isabella_5-3\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Impulse_Buying\">Impulse Buying</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=8\" title=\"Edit section: Impulse Buying\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Impulse buying results from consumers\u2019 failure to weigh their options before buying a product. Impulse buying is \u201cany purchase that a shopper makes that has not been planned\u2026 [and is] sudden and immediate\u201d.<sup id=\"cite_ref-Yin_2-9\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;For example, if a consumer has no intention of buying a product before entering a store, but purchases an item without any forethought, that was impulse buying. Product manufactures want to promote and encourage this instant purchase impulse in consumers. Buyers can be very quick to make purchases without thinking about the consequences when a product is perceived to be a good deal.<sup id=\"cite_ref-Yin_2-10\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;Therefore, sales companies \u201cincreasingly implement promotional campaigns that will be effective in triggering consumer impulse buying behavior\u201d to increase sales and profits<sup id=\"cite_ref-Yin_2-11\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Comparing_Prices\">Comparing Prices</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=9\" title=\"Edit section: Comparing Prices\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Many consumers read left-to-right, and therefore, compare prices in the same manner.<sup id=\"cite_ref-Coulter_6-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;For example, if the price of a product is $93 and the sales price is $79, people will initially compare the left digits first (9 and 7) and notice the two digit difference.<sup id=\"cite_ref-Coulter_6-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;However, because of this habitual behavior, \u201cconsumers may perceive the ($14) difference between $93 and $79 as greater than the ($14) difference between $89 and $75\u201d.<sup id=\"cite_ref-Coulter_6-2\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;As a result, consumers often mistakenly believe they are receiving a better deal with the first set of prices based on the left digits solely.<sup id=\"cite_ref-Coulter_6-3\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;Because of that common misconception, companies capitalize on this sales pricing strategy more often than not to increase sales.</p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Right_Digit_Effect\">Right Digit Effect</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=10\" title=\"Edit section: Right Digit Effect\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The right digit effect focuses on the right digits of prices when the left digits are the same.<sup id=\"cite_ref-Coulter_6-4\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;In other words, prices like $45 and $42 force consumers to pay more attention to the right digits (the 2 and 5) to determine the discount received. This effect also \u201cimplies that consumers will perceive larger discounts for prices with small right digit endings, than for large right digit endings.<sup id=\"cite_ref-Coulter_6-5\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;For example, in a $32-to-$31 price reduction, consumers will believe to have received a greater deal than a $39-to-$38 price reduction. As a result, companies may use discounts with smaller right digits to mislead consumers into thinking they are receiving a better deal and increasing profit. However, consumers also are deceived by the infamous 9-ending prices.<sup id=\"cite_ref-Coulter_6-6\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;\u201cThe right digit effect [also] relates to consumers\u2019 tendency to identify 9-ending prices as sale (rather than regular) prices or to associate them with a discount.<sup id=\"cite_ref-Coulter_6-7\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Coulter-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup>&nbsp;For example, a regular price of $199 is mistakenly viewed as a sale or discount by consumers. Sales companies most commonly use this approach because the misinterpretation of consumers usually results in an increase of sales and profit.</p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Framing_Effect\">Framing Effect</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=11\" title=\"Edit section: Framing Effect\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The&nbsp;<a href=\"https://en.wikipedia.org/wiki/Framing_(social_sciences)\" title=\"Framing (social sciences)\" style=\"color: rgb(11, 0, 128); background-image: none;\">Framing Effect</a>&nbsp;is \u201cthe phenomenon that occurs when there is a change in an individual\u2019s preference between two or more alternatives caused by the way the problem is presented\u201d.<sup id=\"cite_ref-Isabella_5-4\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;In other words, the format in which something is presented will affect a person's viewpoint. This theory consists of three subcategories: risky choice framing, attribute framing and goal framing.<sup id=\"cite_ref-McKechnie_7-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-McKechnie-7\" style=\"color: rgb(11, 0, 128); background-image: none;\">[7]</a></sup>&nbsp;Risky choice framing references back to the gain-or-loss thought processes of consumers.<sup id=\"cite_ref-Isabella_5-5\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup><sup id=\"cite_ref-McKechnie_7-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-McKechnie-7\" style=\"color: rgb(11, 0, 128); background-image: none;\">[7]</a></sup>&nbsp;Consumers will take chances if the circumstance is profitable for them and avoid chance-taking if it is not. Attribute framing deals with one key phrase or feature of a price discount that is emphasized to inspire consumer shopping.<sup id=\"cite_ref-McKechnie_7-2\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-McKechnie-7\" style=\"color: rgb(11, 0, 128); background-image: none;\">[7]</a></sup>&nbsp;For example, the terms \u201cfree\u201d and \u201cbetter\u201d are used commonly to lure in shoppers to buy a product. Goal framing places pressure on buyers to act hastily or face the consequences of missing out on a definite price reduction.<sup id=\"cite_ref-McKechnie_7-3\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-McKechnie-7\" style=\"color: rgb(11, 0, 128); background-image: none;\">[7]</a></sup>&nbsp;A \u201climited time only\u201d (LTO) deal, for example, attempts to motivate buyers to make a purchase quickly, or buy on impulse, before the time runs out.<sup id=\"cite_ref-McKechnie_7-4\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-McKechnie-7\" style=\"color: rgb(11, 0, 128); background-image: none;\">[7]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Outside_Forces\">Outside Forces</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=12\" title=\"Edit section: Outside Forces\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Although there are aspects that can determine a consumer's shopping behavior, there are many outside factors that can influence the shoppers\u2019 decision in making a purchase. For example, even though a product's price is discounted, the quality of that product may dissuade the consumer from buying the item.<sup id=\"cite_ref-Isabella_5-6\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;If the product has poor customer reviews or has a short \u201clife span,\u201d shoppers will view that purchase as a loss and avoid taking a chance on it. A product can also be viewed negatively because of consumers\u2019 past experiences and expectations.<sup id=\"cite_ref-Isabella_5-7\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Isabella-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;For example, if the size of a product is misleading, buyers will not want to buy it. An item advertised as \u201chuge,\u201d but is only one inch tall, will ward off consumers. Also, \u201cthe effects of personal characteristics, such as consumers\u2019 gender, subjective norms, and impulsivity\u201d can also affect a consumer's purchase intentions.<sup id=\"cite_ref-Yin_2-12\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;For example, a female will, generally, purchase a cosmetic product more often than a male. In addition, \u201csome\u2026shoppers may be unable to buy [a product]\u2026because of financial constraints\u201d.<sup id=\"cite_ref-Yin_2-13\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-Yin-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;Neither a discounted price nor a bonus pack has the ability to entice consumers if they cannot afford the product.</p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Political_issues\">Political issues</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=13\" title=\"Edit section: Political issues\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Sales promotions have traditionally been heavily regulated in many advanced industrial nations, with the notable exception of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/United_States\" title=\"United States\" style=\"color: rgb(11, 0, 128); background-image: none;\">United States</a>. For example, the&nbsp;<a href=\"https://en.wikipedia.org/wiki/United_Kingdom\" title=\"United Kingdom\" style=\"color: rgb(11, 0, 128); background-image: none;\">United Kingdom</a>&nbsp;formerly operated under a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Resale_price_maintenance\" title=\"Resale price maintenance\" style=\"color: rgb(11, 0, 128); background-image: none;\">resale price maintenance</a>&nbsp;regime in which manufacturers could legally dictate the minimum resale price for virtually all goods; this practice was abolished in 1964.<sup id=\"cite_ref-8\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-8\" style=\"color: rgb(11, 0, 128); background-image: none;\">[8]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Most European countries also have controls on the scheduling and permissible types of sales promotions, as they are regarded in those countries as bordering upon&nbsp;<a href=\"https://en.wikipedia.org/wiki/Unfair_business_practices\" title=\"Unfair business practices\" style=\"color: rgb(11, 0, 128); background-image: none;\">unfair business practices</a>.&nbsp;&nbsp;<a href=\"https://en.wikipedia.org/wiki/Germany\" title=\"Germany\" style=\"color: rgb(11, 0, 128); background-image: none;\">Germany</a>&nbsp;is notorious for having the most strict regulations. Famous examples include the car wash that was barred from giving free car washes to regular customers and a baker who could not give a free cloth bag to customers who bought more than 10 rolls.<sup id=\"cite_ref-9\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_note-9\" style=\"color: rgb(11, 0, 128); background-image: none;\">[9]</a></sup></p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"See_also\">See also</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=14\" title=\"Edit section: See also\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Alcohol_advertising\" title=\"Alcohol advertising\" style=\"color: rgb(11, 0, 128); background-image: none;\">Alcohol advertising</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Behavioral_clustering\" title=\"Behavioral clustering\" style=\"color: rgb(11, 0, 128); background-image: none;\">Behavioral clustering</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Demand_chain\" title=\"Demand chain\" style=\"color: rgb(11, 0, 128); background-image: none;\">Demand chain</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Integrated_marketing_communications\" class=\"mw-redirect\" title=\"Integrated marketing communications\" style=\"color: rgb(11, 0, 128); background-image: none;\">Integrated marketing communications</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Institute_of_Sales_Promotion\" title=\"Institute of Sales Promotion\" style=\"color: rgb(11, 0, 128); background-image: none;\">Institute of Sales Promotion</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Marketing\" title=\"Marketing\" style=\"color: rgb(11, 0, 128); background-image: none;\">Marketing</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Marketing_communications\" title=\"Marketing communications\" style=\"color: rgb(11, 0, 128); background-image: none;\">Marketing communications</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Pricing\" title=\"Pricing\" style=\"color: rgb(11, 0, 128); background-image: none;\">Pricing</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Promotion_(marketing)\" title=\"Promotion (marketing)\" style=\"color: rgb(11, 0, 128); background-image: none;\">Promotion (marketing)</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Promotional_mix\" title=\"Promotional mix\" style=\"color: rgb(11, 0, 128); background-image: none;\">Promotional mix</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Promotional_merchandise\" title=\"Promotional merchandise\" style=\"color: rgb(11, 0, 128); background-image: none;\">Promotional merchandise</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Native_advertising\" title=\"Native advertising\" style=\"color: rgb(11, 0, 128); background-image: none;\">Native advertising</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_Promotion_(magazine)\" title=\"Sales Promotion (magazine)\" style=\"color: rgb(11, 0, 128); background-image: none;\">Sales Promotion (magazine)</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Tobacco_advertising\" class=\"mw-redirect\" title=\"Tobacco advertising\" style=\"color: rgb(11, 0, 128); background-image: none;\">Tobacco advertising</a></li></ul><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"References\">References</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_promotion&amp;action=edit&amp;section=15\" title=\"Edit section: References\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><table role=\"presentation\" class=\"mbox-small plainlinks sistersitebox\" style=\"font-size: 12.319999694824219px; clear: right; float: right; margin: 4px 0px 4px 1em; width: 238px; line-height: 1.25em; background-color: rgb(249, 249, 249); border: 1px solid rgb(170, 170, 170);\"><tbody><tr><td class=\"mbox-image\" style=\"border: none; padding-top: 2px; padding-bottom: 2px; padding-left: 0.9em; text-align: center;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/en/thumb/4/4a/Commons-logo.svg/30px-Commons-logo.svg.png\" decoding=\"async\" width=\"30\" height=\"40\" class=\"noviewer\" srcset=\"https://upload.wikimedia.org/wikipedia/en/thumb/4/4a/Commons-logo.svg/45px-Commons-logo.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/en/thumb/4/4a/Commons-logo.svg/59px-Commons-logo.svg.png 2x\" data-file-width=\"1024\" data-file-height=\"1376\"></td><td class=\"mbox-text plainlist\" style=\"border: none; padding: 0.25em 0.9em; width: 166.765625px;\">Wikimedia Commons has media related to&nbsp;<i><b><a href=\"https://commons.wikimedia.org/wiki/Category:Sales_promotion\" class=\"extiw\" title=\"commons:Category:Sales promotion\" style=\"color: rgb(102, 51, 102); background-image: none;\">Sales promotion</a></b></i>.</td></tr></tbody></table><div class=\"reflist\" style=\"font-size: 12.600000381469727px; margin-bottom: 0.5em; list-style-type: decimal;\"><div class=\"mw-references-wrap\"><ol class=\"references\" style=\"margin: 0.3em 0px 0px 3.2em; padding: 0px; list-style-image: none; counter-reset: mw-ref-extends-parent 0 list-item 0; list-style-type: inherit;\"><li id=\"cite_note-1\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-1\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\"><cite id=\"CITEREFTaylor1978\" class=\"citation book\" style=\"font-style: inherit; word-wrap: break-word;\">Taylor, John (1978).&nbsp;<i>How to start and succeed in a business of your own</i>. p.&nbsp;290.</cite><span title=\"ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook&amp;rft.genre=book&amp;rft.btitle=How+to+start+and+succeed+in+a+business+of+your+own&amp;rft.pages=290&amp;rft.date=1978&amp;rft.aulast=Taylor&amp;rft.aufirst=John&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASales+promotion\" class=\"Z3988\"></span></span></li><li id=\"cite_note-Yin-2\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\">^&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-0\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"cite-accessibility-label\" style=\"-webkit-user-select: none; top: -99999px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden; position: absolute !important; padding: 0px !important; border: 0px !important; height: 1px !important; width: 1px !important;\">Jump up to:&nbsp;</span><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>a</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-1\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>b</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-2\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>c</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-3\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>d</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-4\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>e</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-5\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>f</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-6\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>g</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-7\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>h</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-8\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>i</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-9\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>j</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-10\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>k</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-11\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>l</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-12\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>m</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Yin_2-13\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>n</b></i></sup></a></span>&nbsp;<span class=\"reference-text\"><cite id=\"CITEREFYinJin-Song2014\" class=\"citation journal\" style=\"font-style: inherit; word-wrap: break-word;\">Yin, Xu; Jin-Song, Huang (2014). \"Effects Of Price Discounts And Bonus Packs On Online Impulse Buying\".&nbsp;<i>Social Behavior &amp; Personality</i>.&nbsp;<b>42</b>&nbsp;(8): 1293\u20131302.&nbsp;<a href=\"https://en.wikipedia.org/wiki/Doi_(identifier)\" class=\"mw-redirect\" title=\"Doi (identifier)\" style=\"color: rgb(11, 0, 128); background-image: none;\">doi</a>:<a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.2224%2Fsbp.2014.42.8.1293\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">10.2224/sbp.2014.42.8.1293</a>.</cite><span title=\"ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Social+Behavior+%26+Personality&amp;rft.atitle=Effects+Of+Price+Discounts+And+Bonus+Packs+On+Online+Impulse+Buying&amp;rft.volume=42&amp;rft.issue=8&amp;rft.pages=1293-1302&amp;rft.date=2014&amp;rft_id=info%3Adoi%2F10.2224%2Fsbp.2014.42.8.1293&amp;rft.aulast=Yin&amp;rft.aufirst=Xu&amp;rft.au=Jin-Song%2C+Huang&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASales+promotion\" class=\"Z3988\"></span></span></li><li id=\"cite_note-3\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-3\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Farhangmehr M. and Brito P.Q.. \"Sales Promotions: Prescriptive Definitions and the Managers View,\". In: Sidin S., Manrai A. (eds),&nbsp;<i>Proceedings of the 1997 World Marketing Congress. Developments in Marketing Science: Proceedings of the Academy of Marketing Science,</i>&nbsp;Springer, Cham, 2015, pp 45-49</span></li><li id=\"cite_note-Gedenek,_K._pp.345-359-4\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\">^&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Gedenek,_K._pp.345-359_4-0\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"cite-accessibility-label\" style=\"-webkit-user-select: none; top: -99999px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden; position: absolute !important; padding: 0px !important; border: 0px !important; height: 1px !important; width: 1px !important;\">Jump up to:&nbsp;</span><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>a</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Gedenek,_K._pp.345-359_4-1\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>b</b></i></sup></a></span>&nbsp;<span class=\"reference-text\">Gedenek, K., Geslin, S.A. and Ailawadi, S.L., \"Sales Promotion,\" in: Krafft, M. and Mantra, M.K. (eds),&nbsp;<i>Retailing in the 21st Century: Current and Future Trends,</i>&nbsp;pp.345-359</span></li><li id=\"cite_note-Isabella-5\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\">^&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-0\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"cite-accessibility-label\" style=\"-webkit-user-select: none; top: -99999px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden; position: absolute !important; padding: 0px !important; border: 0px !important; height: 1px !important; width: 1px !important;\">Jump up to:&nbsp;</span><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>a</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-1\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>b</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-2\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>c</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-3\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>d</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-4\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>e</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-5\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>f</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-6\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>g</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Isabella_5-7\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>h</b></i></sup></a></span>&nbsp;<span class=\"reference-text\"><cite id=\"CITEREFIsabella2012\" class=\"citation journal\" style=\"font-style: inherit; word-wrap: break-word;\">Isabella, Giuliana (2012).&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"http://www.producao.usp.br/bitstream/BDPI/38241/1/S0034-75902012000600007.pdf\" style=\"color: rgb(102, 51, 102); background-image: url(&quot;https://upload.wikimedia.org/wikipedia/commons/2/23/Icons-mini-file_acrobat.gif&quot;); padding-right: 18px; background-position: right center; background-repeat: no-repeat no-repeat;\">\"Influence Of Discount Price Announcements On Consumer's Behavior\"</a>&nbsp;<span class=\"cs1-format\" style=\"font-size: 11.970000267028809px;\">(PDF)</span>.&nbsp;<i>Revista de Administra\u00e7\u00e3o de Empresas</i>.&nbsp;<b>52</b>&nbsp;(6): 657\u2013671.&nbsp;<a href=\"https://en.wikipedia.org/wiki/Doi_(identifier)\" class=\"mw-redirect\" title=\"Doi (identifier)\" style=\"color: rgb(11, 0, 128); background-image: none;\">doi</a>:<a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1590%2Fs0034-75902012000600007\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">10.1590/s0034-75902012000600007</a>.</cite><span title=\"ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Revista+de+Administra%C3%A7%C3%A3o+de+Empresas&amp;rft.atitle=Influence+Of+Discount+Price+Announcements+On+Consumer%27s+Behavior&amp;rft.volume=52&amp;rft.issue=6&amp;rft.pages=657-671&amp;rft.date=2012&amp;rft_id=info%3Adoi%2F10.1590%2Fs0034-75902012000600007&amp;rft.aulast=Isabella&amp;rft.aufirst=Giuliana&amp;rft_id=http%3A%2F%2Fwww.producao.usp.br%2Fbitstream%2FBDPI%2F38241%2F1%2FS0034-75902012000600007.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASales+promotion\" class=\"Z3988\"></span></span></li><li id=\"cite_note-Coulter-6\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\">^&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-0\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"cite-accessibility-label\" style=\"-webkit-user-select: none; top: -99999px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden; position: absolute !important; padding: 0px !important; border: 0px !important; height: 1px !important; width: 1px !important;\">Jump up to:&nbsp;</span><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>a</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-1\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>b</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-2\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>c</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-3\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>d</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-4\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>e</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-5\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>f</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-6\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>g</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-Coulter_6-7\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>h</b></i></sup></a></span>&nbsp;<span class=\"reference-text\"><cite id=\"CITEREFCoulterCoulter2007\" class=\"citation journal\" style=\"font-style: inherit; word-wrap: break-word;\">Coulter, Keith; Coulter, Robin (2007).&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"http://pdfs.semanticscholar.org/04f4/90fc4bbba00352fad78ca2251091e4e265c2.pdf\" style=\"color: rgb(102, 51, 102); background-image: url(&quot;https://upload.wikimedia.org/wikipedia/commons/2/23/Icons-mini-file_acrobat.gif&quot;); padding-right: 18px; background-position: right center; background-repeat: no-repeat no-repeat;\">\"Distortion Of Price Discount Perceptions: The Right Digit Effect\"</a>&nbsp;<span class=\"cs1-format\" style=\"font-size: 11.970000267028809px;\">(PDF)</span>.&nbsp;<i>Journal of Consumer Research</i>.&nbsp;<b>34</b>&nbsp;(2): 162\u2013173.&nbsp;<a href=\"https://en.wikipedia.org/wiki/Doi_(identifier)\" class=\"mw-redirect\" title=\"Doi (identifier)\" style=\"color: rgb(11, 0, 128); background-image: none;\">doi</a>:<a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1086%2F518526\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">10.1086/518526</a>.</cite><span title=\"ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=Journal+of+Consumer+Research&amp;rft.atitle=Distortion+Of+Price+Discount+Perceptions%3A+The+Right+Digit+Effect&amp;rft.volume=34&amp;rft.issue=2&amp;rft.pages=162-173&amp;rft.date=2007&amp;rft_id=info%3Adoi%2F10.1086%2F518526&amp;rft.aulast=Coulter&amp;rft.aufirst=Keith&amp;rft.au=Coulter%2C+Robin&amp;rft_id=http%3A%2F%2Fpdfs.semanticscholar.org%2F04f4%2F90fc4bbba00352fad78ca2251091e4e265c2.pdf&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASales+promotion\" class=\"Z3988\"></span></span></li><li id=\"cite_note-McKechnie-7\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\">^&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-McKechnie_7-0\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"cite-accessibility-label\" style=\"-webkit-user-select: none; top: -99999px; clip: rect(1px, 1px, 1px, 1px); overflow: hidden; position: absolute !important; padding: 0px !important; border: 0px !important; height: 1px !important; width: 1px !important;\">Jump up to:&nbsp;</span><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>a</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-McKechnie_7-1\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>b</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-McKechnie_7-2\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>c</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-McKechnie_7-3\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>d</b></i></sup></a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-McKechnie_7-4\" style=\"color: rgb(11, 0, 128); background-image: none;\"><sup style=\"line-height: 1; font-size: 10.079999923706055px;\"><i><b>e</b></i></sup></a></span>&nbsp;<span class=\"reference-text\"><cite id=\"CITEREFMcKechnie2012\" class=\"citation journal\" style=\"font-style: inherit; word-wrap: break-word;\">McKechnie, Sally (2012). \"Effects Of Discount Framing In Comparative Price Advertising\".&nbsp;<i>European Journal of Marketing</i>.&nbsp;<b>46</b>&nbsp;(11/12): 1501\u20131522.&nbsp;<a href=\"https://en.wikipedia.org/wiki/Doi_(identifier)\" class=\"mw-redirect\" title=\"Doi (identifier)\" style=\"color: rgb(11, 0, 128); background-image: none;\">doi</a>:<a rel=\"nofollow\" class=\"external text\" href=\"https://doi.org/10.1108%2F03090561211259952\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">10.1108/03090561211259952</a>.</cite><span title=\"ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.genre=article&amp;rft.jtitle=European+Journal+of+Marketing&amp;rft.atitle=Effects+Of+Discount+Framing+In+Comparative+Price+Advertising&amp;rft.volume=46&amp;rft.issue=11%2F12&amp;rft.pages=1501-1522&amp;rft.date=2012&amp;rft_id=info%3Adoi%2F10.1108%2F03090561211259952&amp;rft.aulast=McKechnie&amp;rft.aufirst=Sally&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ASales+promotion\" class=\"Z3988\"></span></span></li><li id=\"cite_note-8\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-8\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Stuart Mitchell, \"Resale price maintenance and the character of resistance in the conservative party: 1949-64,\"&nbsp;<i>Canadian Journal of History</i>&nbsp;40, no. 2 (August 2005): 259-289.</span></li><li id=\"cite_note-9\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_promotion#cite_ref-9\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Anonymous (May 13, 2000).&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"http://www.economist.com/business/displaystory.cfm?story_id=333673\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">\"Handcuffs on the high street\"</a>.&nbsp;<i>The Economist</i>.</span></li></ol></div></div></div></div></div>", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "35", "identifier": "discount", "moduleId": "index_definitions", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,%,4,2,0,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Discounts", "units": null, "w": "96", "x": 220, "y": 319, "z": 1}, {"color": "#4cbcff", "definition": "_df = hist_sales_db.groupby(['Region', 'Item Type', 'Sales Channel']).agg({\n    'Units Sold': np.sum, 'Total Revenue': np.sum})\n_df['Price'] = _df['Total Revenue']/_df['Units Sold']\nresult = dataarray_from_pandas( _df.reset_index(), {'Item Type':item_type}, 'Price', sumDuplicateRecords=False )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "base_prices", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Base Prices", "units": null, "w": 131, "x": 183, "y": 155, "z": 1}, {"color": "#4CBCFF", "definition": "result = base_prices * (1-discount_sel)", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "projected_prices", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Projected Prices", "units": null, "w": 131, "x": 338, "y": 153, "z": 1}, {"color": "#ffff00", "definition": "result = xr.DataArray([[ 80,120, 56], [ 70, 90, 49], [ 60, 76, 54], [ 40, 52, 40], [ 30, 50, 24], [120,180,120], [ 50, 75, 35], [110,121, 88], [ 80,104, 70], [ 90,144, 81], [150,165,135], [130,169,117]],[item_type,cost_scenarios])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "32", "identifier": "unitary_costs", "moduleId": "index_definitions", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Unitary Costs", "units": null, "w": "98", "x": 219, "y": 492, "z": 1}, {"color": "#ffff80", "definition": "result = xr.DataArray([-1.0,-0.9,-1.2,-1.1,-1.5,-3.0,-2.0,-1.3,-0.7,-1.0,-2.0,-1.0],[item_type])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "elasticity", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,F,4,2,0,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Elasticity", "units": null, "w": 131, "x": 20, "y": 237, "z": 1}, {"color": "#efefef", "definition": null, "description": "Operations Planning", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 400, "identifier": "af81dd019664c4ba9b017da1ca0e3d1e0_copy3", "moduleId": "creating_my_first_model", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": 476, "x": 5, "y": 317, "z": -1}, {"color": "#ddc2ec", "definition": "# Load CSV file and assign it to variable 'result'\n_df = pd.read_csv('http://img.pyplan.org/1000_Sales_Records.csv', sep=None)\n\n# Generated new column\n_df['time'] = pd.to_datetime(_df['Order Date']).dt.strftime('%Y.%m')\nresult = _df", "description": "This node reads the infromation from Data Source", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "hist_sales_db", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Historical Sales Database", "units": null, "w": 131, "x": 20, "y": 155, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index( create_time( hist_sales_db['time'].min(), hist_sales_db['time'].max(), freq='M', format='%Y.%m' ).values )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "historic_time", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Historic time", "units": null, "w": "129", "x": 71, "y": 164, "z": 1}, {"color": "#4cbcff", "definition": "_demand = elastic_volume_projection__.sum(['sales_channel','region'])\n_min_production = np.minimum(production_cap , \n                    _demand + stock_goal_sel - product_stock1 )\nresult = np.maximum(0,_min_production)", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "production", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Production", "units": null, "w": 131, "x": 183, "y": 419, "z": 1}, {"color": "#4CBCFF", "definition": "result = product_stock1 + production-supplied_demand", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "product_stock", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Product Stock", "units": null, "w": 131, "x": 183, "y": 580, "z": 1}, {"color": "#dcdcdc", "definition": "_demand = elastic_volume_projection__.sum(['sales_channel','region'])+stock_goal_sel*0\n\nresult = create_report( {\n            'Product Stock t-1':product_stock1, \n            'Demand':_demand,\n            'Production':production, \n            'Supplied Demand':supplied_demand, \n            'Product Stock':product_stock}, reportIndexName='Report index', reportIndex=None )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "operations_report", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Operations Report", "units": "SKU", "w": 131, "x": 1008, "y": 534, "z": 1}, {"color": "#ffff80", "definition": "result = xr.DataArray([200000,150000,150000,150000,150000,150000,150000,150000,150000,150000, 150000,150000],[item_type])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "initial_stock", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Initial Stock", "units": null, "w": 131, "x": 20, "y": 498, "z": 1}, {"color": "#efefef", "definition": null, "description": "Financial Planning", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 659, "identifier": "af81dd019664c4ba9b017da1ca0e3d1e0_copy4", "moduleId": "creating_my_first_model", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": 484, "x": 492, "y": 58, "z": -1}, {"color": "#4CBCFF", "definition": "demand = elastic_volume_projection__.sum(['sales_channel','region'])\n# Any production constraint is proportionally allocated to all markets\nresult = supplied_demand/demand", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "a_of_supply", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,%,4,1,0,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "% of Supply", "units": null, "w": 131, "x": 338, "y": 580, "z": 1}, {"color": "#4CBCFF", "definition": "result = xr.DataArray(1, [time]) * production * unitary_costs1", "description": "<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\" style=\"color: rgb(0, 0, 0); background-image: none; margin-top: 0px; margin-bottom: 0.25em; overflow: visible; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.8em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\">Line graph</h1><div id=\"bodyContent\" class=\"mw-body-content\" style=\"position: relative; font-size: calc(0.875em); line-height: 1.6; z-index: 0; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif;\"><div id=\"siteSub\" class=\"noprint\" style=\"font-size: 12.880000114440918px;\">From Wikipedia, the free encyclopedia</div><div id=\"contentSub\" style=\"font-size: 11.760000228881836px; line-height: 1.2em; margin: 0px 0px 1.4em 1em; color: rgb(84, 89, 93); width: auto;\"></div><div id=\"jump-to-nav\"></div><a class=\"mw-jump-link\" href=\"https://en.wikipedia.org/wiki/Line_graph#mw-head\" style=\"color: rgb(11, 0, 128); background-image: none; display: block; clip: rect(1px, 1px, 1px, 1px); width: 1px; height: 1px; margin: -1px; border: 0px; padding: 0px; overflow: hidden; position: absolute !important;\">Jump to navigation</a><a class=\"mw-jump-link\" href=\"https://en.wikipedia.org/wiki/Line_graph#p-search\" style=\"color: rgb(11, 0, 128); background-image: none; display: block; clip: rect(1px, 1px, 1px, 1px); width: 1px; height: 1px; margin: -1px; border: 0px; padding: 0px; overflow: hidden; position: absolute !important;\">Jump to search</a><div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\" style=\"direction: ltr;\"><div class=\"mw-parser-output\"><div role=\"note\" class=\"hatnote navigation-not-searchable\" style=\"font-style: italic; padding-left: 1.6em; margin-bottom: 0.5em;\">This article is about the mathematical concept. For the statistical presentations method, see&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_chart\" title=\"Line chart\" style=\"color: rgb(11, 0, 128); background-image: none;\">line chart</a>.</div><div role=\"note\" class=\"hatnote navigation-not-searchable\" style=\"font-style: italic; padding-left: 1.6em; margin-bottom: 0.5em; margin-top: -0.5em;\">Not to be confused with&nbsp;<a href=\"https://en.wikipedia.org/wiki/Path_graph\" title=\"Path graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">path graph</a>.</div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">In the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Mathematics\" title=\"Mathematics\" style=\"color: rgb(11, 0, 128); background-image: none;\">mathematical</a>&nbsp;discipline of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Graph_theory\" title=\"Graph theory\" style=\"color: rgb(11, 0, 128); background-image: none;\">graph theory</a>, the&nbsp;<b>line graph</b>&nbsp;of an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Undirected_graph\" class=\"mw-redirect\" title=\"Undirected graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">undirected graph</a>&nbsp;<i>G</i>&nbsp;is another graph&nbsp;<i>L</i>(<i>G</i>) that represents the adjacencies between&nbsp;<a href=\"https://en.wikipedia.org/wiki/Edge_(graph_theory)\" class=\"mw-redirect\" title=\"Edge (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">edges</a>&nbsp;of&nbsp;<i>G</i>. The name line graph comes from a paper by&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFHararyNorman1960\" style=\"color: rgb(11, 0, 128); background-image: none;\">Harary &amp; Norman (1960)</a>&nbsp;although both&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFWhitney1932\" style=\"color: rgb(11, 0, 128); background-image: none;\">Whitney (1932)</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFKrausz1943\" style=\"color: rgb(11, 0, 128); background-image: none;\">Krausz (1943)</a>&nbsp;used the construction before this.<sup id=\"cite_ref-FOOTNOTEHemmingerBeineke1978273_1-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTEHemmingerBeineke1978273-1\" style=\"color: rgb(11, 0, 128); background-image: none;\">[1]</a></sup>&nbsp;Other terms used for the line graph include the&nbsp;<b>covering graph</b>, the&nbsp;<b>derivative</b>, the&nbsp;<b>edge-to-vertex dual</b>, the&nbsp;<b>conjugate</b>, the&nbsp;<b>representative graph</b>, and the&nbsp;<b>\u03d1-obrazom</b>,<sup id=\"cite_ref-FOOTNOTEHemmingerBeineke1978273_1-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTEHemmingerBeineke1978273-1\" style=\"color: rgb(11, 0, 128); background-image: none;\">[1]</a></sup>&nbsp;as well as the&nbsp;<b>edge graph</b>, the&nbsp;<b>interchange graph</b>, the&nbsp;<b>adjoint graph</b>, and the&nbsp;<b>derived graph</b>.<sup id=\"cite_ref-h72-71_2-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-h72-71-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\"><a href=\"https://en.wikipedia.org/wiki/Hassler_Whitney\" title=\"Hassler Whitney\" style=\"color: rgb(11, 0, 128); background-image: none;\">Hassler Whitney</a>&nbsp;(<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFWhitney1932\" style=\"color: rgb(11, 0, 128); background-image: none;\">1932</a>) proved that with one exceptional case the structure of a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Connected_graph\" class=\"mw-redirect\" title=\"Connected graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">connected graph</a>&nbsp;<i>G</i>&nbsp;can be recovered completely from its line graph.<sup id=\"cite_ref-whitney_3-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-whitney-3\" style=\"color: rgb(11, 0, 128); background-image: none;\">[3]</a></sup>&nbsp;Many other properties of line graphs follow by translating the properties of the underlying graph from vertices into edges, and by Whitney's theorem the same translation can also be done in the other direction. Line graphs are&nbsp;<a href=\"https://en.wikipedia.org/wiki/Claw-free_graph\" title=\"Claw-free graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">claw-free</a>, and the line graphs of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Bipartite_graph\" title=\"Bipartite graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">bipartite graphs</a>&nbsp;are&nbsp;<a href=\"https://en.wikipedia.org/wiki/Perfect_graph\" title=\"Perfect graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">perfect</a>. Line graphs are characterized by nine&nbsp;<a href=\"https://en.wikipedia.org/wiki/Forbidden_graph_characterization\" title=\"Forbidden graph characterization\" style=\"color: rgb(11, 0, 128); background-image: none;\">forbidden subgraphs</a>&nbsp;and can be recognized in&nbsp;<a href=\"https://en.wikipedia.org/wiki/Linear_time\" class=\"mw-redirect\" title=\"Linear time\" style=\"color: rgb(11, 0, 128); background-image: none;\">linear time</a>.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Various extensions of the concept of a line graph have been studied, including line graphs of line graphs, line graphs of multigraphs, line graphs of hypergraphs, and line graphs of weighted graphs.</p><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\" style=\"border: 1px solid rgb(162, 169, 177); background-color: rgb(248, 249, 250); padding: 7px; font-size: 13.300000190734863px; display: table;\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\" style=\"text-align: center; direction: ltr;\"><h2 id=\"mw-toc-heading\" style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border: 0px; font-size: 13.300000190734863px; font-family: sans-serif; line-height: 1.3; display: inline;\">Contents</h2><span class=\"toctogglespan\" style=\"font-size: 12.50200080871582px;\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\" style=\"cursor: pointer; color: rgb(6, 69, 173);\"></label></span></div><ul style=\"list-style-image: none; margin: 0.3em 0px; padding: 0px; list-style-type: none;\"><li class=\"toclevel-1 tocsection-1\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Formal_definition\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Formal definition</span></a></li><li class=\"toclevel-1 tocsection-2\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Example\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Example</span></a></li><li class=\"toclevel-1 tocsection-3\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Properties\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Properties</span></a><ul style=\"list-style-image: none; margin-right: 0px; margin-left: 2em; padding: 0px; list-style-type: none;\"><li class=\"toclevel-2 tocsection-4\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Translated_properties_of_the_underlying_graph\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3.1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Translated properties of the underlying graph</span></a></li><li class=\"toclevel-2 tocsection-5\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Whitney_isomorphism_theorem\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3.2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Whitney isomorphism theorem</span></a></li><li class=\"toclevel-2 tocsection-6\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Strongly_regular_and_perfect_line_graphs\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3.3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Strongly regular and perfect line graphs</span></a></li><li class=\"toclevel-2 tocsection-7\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Other_related_graph_families\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3.4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Other related graph families</span></a></li></ul></li><li class=\"toclevel-1 tocsection-8\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Characterization_and_recognition\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Characterization and recognition</span></a><ul style=\"list-style-image: none; margin-right: 0px; margin-left: 2em; padding: 0px; list-style-type: none;\"><li class=\"toclevel-2 tocsection-9\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Clique_partition\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4.1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Clique partition</span></a></li><li class=\"toclevel-2 tocsection-10\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Forbidden_subgraphs\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4.2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Forbidden subgraphs</span></a></li><li class=\"toclevel-2 tocsection-11\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Algorithms\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4.3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Algorithms</span></a></li></ul></li><li class=\"toclevel-1 tocsection-12\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Iterating_the_line_graph_operator\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Iterating the line graph operator</span></a></li><li class=\"toclevel-1 tocsection-13\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Generalizations\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Generalizations</span></a><ul style=\"list-style-image: none; margin-right: 0px; margin-left: 2em; padding: 0px; list-style-type: none;\"><li class=\"toclevel-2 tocsection-14\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Medial_graphs_and_convex_polyhedra\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6.1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Medial graphs and convex polyhedra</span></a></li><li class=\"toclevel-2 tocsection-15\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Total_graphs\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6.2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Total graphs</span></a></li><li class=\"toclevel-2 tocsection-16\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Multigraphs\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6.3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Multigraphs</span></a></li><li class=\"toclevel-2 tocsection-17\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Line_digraphs\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6.4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Line digraphs</span></a></li><li class=\"toclevel-2 tocsection-18\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Weighted_line_graphs\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6.5</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Weighted line graphs</span></a></li><li class=\"toclevel-2 tocsection-19\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Line_graphs_of_hypergraphs\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6.6</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Line graphs of hypergraphs</span></a></li></ul></li><li class=\"toclevel-1 tocsection-20\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#Notes\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">7</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Notes</span></a></li><li class=\"toclevel-1 tocsection-21\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#References\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">8</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">References</span></a></li><li class=\"toclevel-1 tocsection-22\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#External_links\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">9</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">External links</span></a></li></ul></div><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Formal_definition\">Formal definition</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=1\" title=\"Edit section: Formal definition\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Given a graph&nbsp;<i>G</i>, its line graph&nbsp;<i>L</i>(<i>G</i>) is a graph such that</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">each&nbsp;<a href=\"https://en.wikipedia.org/wiki/Vertex_(graph_theory)\" title=\"Vertex (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">vertex</a>&nbsp;of&nbsp;<i>L</i>(<i>G</i>) represents an edge of&nbsp;<i>G</i>; and</li><li style=\"margin-bottom: 0.1em;\">two vertices of&nbsp;<i>L</i>(<i>G</i>) are&nbsp;<a href=\"https://en.wikipedia.org/wiki/Adjacent_(graph_theory)\" class=\"mw-redirect\" title=\"Adjacent (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">adjacent</a>&nbsp;if and only if their corresponding edges share a common endpoint (\"are incident\") in&nbsp;<i>G</i>.</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">That is, it is the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Intersection_graph\" title=\"Intersection graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">intersection graph</a>&nbsp;of the edges of&nbsp;<i>G</i>, representing each edge by the set of its two endpoints.<sup id=\"cite_ref-h72-71_2-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-h72-71-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup></p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Example\">Example</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=2\" title=\"Edit section: Example\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The following figures show a graph (left, with blue vertices) and its line graph (right, with green vertices). Each vertex of the line graph is shown labeled with the pair of endpoints of the corresponding edge in the original graph. For instance, the green vertex on the right labeled 1,3 corresponds to the edge on the left between the blue vertices 1 and 3. Green vertex 1,3 is adjacent to three other green vertices: 1,4 and 1,2 (corresponding to edges sharing the endpoint 1 in the blue graph) and 4,3 (corresponding to an edge sharing the endpoint 3 in the blue graph).</p><ul class=\"gallery mw-gallery-traditional\" style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin-top: 0.3em; margin-right: 0px; margin-left: 1.6em;\"><li class=\"gallerybox\" style=\"margin-bottom: 0.1em; vertical-align: top; display: inline-block; width: 170px;\"><div style=\"width: 170px;\"><div class=\"thumb\" style=\"margin: 2px; width: 165px; background-color: rgb(248, 249, 250); text-align: center; border: 1px solid rgb(200, 204, 209);\"><div style=\"margin: 25.5px auto;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_graph_construction_1.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Line_graph_construction_1.svg/135px-Line_graph_construction_1.svg.png\" decoding=\"async\" width=\"135\" height=\"114\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Line_graph_construction_1.svg/203px-Line_graph_construction_1.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Line_graph_construction_1.svg/270px-Line_graph_construction_1.svg.png 2x\" data-file-width=\"537\" data-file-height=\"455\" style=\"background-image: none; background-color: rgb(255, 255, 255); display: block; margin: 0px auto; background-repeat: repeat repeat;\"></a></div></div><div class=\"gallerytext\" style=\"overflow: hidden; font-size: 13.15999984741211px; padding: 2px 4px; word-wrap: break-word;\"><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Graph G</p></div></div></li>&nbsp;<li class=\"gallerybox\" style=\"margin-bottom: 0.1em; vertical-align: top; display: inline-block; width: 170px;\"><div style=\"width: 170px;\"><div class=\"thumb\" style=\"margin: 2px; width: 165px; background-color: rgb(248, 249, 250); text-align: center; border: 1px solid rgb(200, 204, 209);\"><div style=\"margin: 25.5px auto;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_graph_construction_2.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Line_graph_construction_2.svg/135px-Line_graph_construction_2.svg.png\" decoding=\"async\" width=\"135\" height=\"114\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Line_graph_construction_2.svg/203px-Line_graph_construction_2.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Line_graph_construction_2.svg/270px-Line_graph_construction_2.svg.png 2x\" data-file-width=\"535\" data-file-height=\"450\" style=\"background-image: none; background-color: rgb(255, 255, 255); display: block; margin: 0px auto; background-repeat: repeat repeat;\"></a></div></div><div class=\"gallerytext\" style=\"overflow: hidden; font-size: 13.15999984741211px; padding: 2px 4px; word-wrap: break-word;\"><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Vertices in L(G) constructed from edges in G</p></div></div></li>&nbsp;<li class=\"gallerybox\" style=\"margin-bottom: 0.1em; vertical-align: top; display: inline-block; width: 170px;\"><div style=\"width: 170px;\"><div class=\"thumb\" style=\"margin: 2px; width: 165px; background-color: rgb(248, 249, 250); text-align: center; border: 1px solid rgb(200, 204, 209);\"><div style=\"margin: 22.5px auto;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_graph_construction_3.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Line_graph_construction_3.svg/135px-Line_graph_construction_3.svg.png\" decoding=\"async\" width=\"135\" height=\"120\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Line_graph_construction_3.svg/203px-Line_graph_construction_3.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Line_graph_construction_3.svg/270px-Line_graph_construction_3.svg.png 2x\" data-file-width=\"544\" data-file-height=\"482\" style=\"background-image: none; background-color: rgb(255, 255, 255); display: block; margin: 0px auto; background-repeat: repeat repeat;\"></a></div></div><div class=\"gallerytext\" style=\"overflow: hidden; font-size: 13.15999984741211px; padding: 2px 4px; word-wrap: break-word;\"><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Added edges in L(G)</p></div></div></li>&nbsp;<li class=\"gallerybox\" style=\"margin-bottom: 0.1em; vertical-align: top; display: inline-block; width: 170px;\"><div style=\"width: 170px;\"><div class=\"thumb\" style=\"margin: 2px; width: 165px; background-color: rgb(248, 249, 250); text-align: center; border: 1px solid rgb(200, 204, 209);\"><div style=\"margin: 15px auto;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_graph_construction_4.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Line_graph_construction_4.svg/128px-Line_graph_construction_4.svg.png\" decoding=\"async\" width=\"128\" height=\"135\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Line_graph_construction_4.svg/193px-Line_graph_construction_4.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Line_graph_construction_4.svg/256px-Line_graph_construction_4.svg.png 2x\" data-file-width=\"435\" data-file-height=\"458\" style=\"background-image: none; background-color: rgb(255, 255, 255); display: block; margin: 0px auto; background-repeat: repeat repeat;\"></a></div></div><div class=\"gallerytext\" style=\"overflow: hidden; font-size: 13.15999984741211px; padding: 2px 4px; word-wrap: break-word;\"><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The line graph L(G)</p></div></div></li></ul><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Properties\">Properties</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=3\" title=\"Edit section: Properties\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Translated_properties_of_the_underlying_graph\">Translated properties of the underlying graph</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=4\" title=\"Edit section: Translated properties of the underlying graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Properties of a graph&nbsp;<i>G</i>&nbsp;that depend only on adjacency between edges may be translated into equivalent properties in&nbsp;<i>L</i>(<i>G</i>) that depend on adjacency between vertices. For instance, a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Matching_(graph_theory)\" title=\"Matching (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">matching</a>&nbsp;in&nbsp;<i>G</i>&nbsp;is a set of edges no two of which are adjacent, and corresponds to a set of vertices in&nbsp;<i>L</i>(<i>G</i>) no two of which are adjacent, that is, an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Independent_set_(graph_theory)\" title=\"Independent set (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">independent set</a>.<sup id=\"cite_ref-paschos_4-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-paschos-4\" style=\"color: rgb(11, 0, 128); background-image: none;\">[4]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Thus,</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">The line graph of a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Connected_graph\" class=\"mw-redirect\" title=\"Connected graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">connected graph</a>&nbsp;is connected. If&nbsp;<i>G</i>&nbsp;is connected, it contains a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Path_(graph_theory)\" title=\"Path (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">path</a>&nbsp;connecting any two of its edges, which translates into a path in&nbsp;<i>L</i>(<i>G</i>) containing any two of the vertices of&nbsp;<i>L</i>(<i>G</i>). However, a graph&nbsp;<i>G</i>&nbsp;that has some isolated vertices, and is therefore disconnected, may nevertheless have a connected line graph.<sup id=\"cite_ref-5\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup></li><li style=\"margin-bottom: 0.1em;\">A line graph has an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Articulation_point\" class=\"mw-redirect\" title=\"Articulation point\" style=\"color: rgb(11, 0, 128); background-image: none;\">articulation point</a>&nbsp;if and only if the underlying graph has a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Bridge_(graph_theory)\" title=\"Bridge (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">bridge</a>&nbsp;for which neither endpoint has degree one.<sup id=\"cite_ref-h72-71_2-2\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-h72-71-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup></li><li style=\"margin-bottom: 0.1em;\">For a graph&nbsp;<i>G</i>&nbsp;with&nbsp;<i>n</i>&nbsp;vertices and&nbsp;<i>m</i>&nbsp;edges, the number of vertices of the line graph&nbsp;<i>L</i>(<i>G</i>) is&nbsp;<i>m</i>, and the number of edges of&nbsp;<i>L</i>(<i>G</i>) is half the sum of the squares of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Degree_(graph_theory)\" title=\"Degree (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">degrees</a>&nbsp;of the vertices in&nbsp;<i>G</i>, minus&nbsp;<i>m</i>.<sup id=\"cite_ref-6\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup></li><li style=\"margin-bottom: 0.1em;\">A&nbsp;<a href=\"https://en.wikipedia.org/wiki/Maximum_independent_set_problem\" class=\"mw-redirect\" title=\"Maximum independent set problem\" style=\"color: rgb(11, 0, 128); background-image: none;\">maximum independent set</a>&nbsp;in a line graph corresponds to&nbsp;<a href=\"https://en.wikipedia.org/wiki/Maximum_matching\" class=\"mw-redirect\" title=\"Maximum matching\" style=\"color: rgb(11, 0, 128); background-image: none;\">maximum matching</a>&nbsp;in the original graph. Since maximum matchings may be found in polynomial time, so may the maximum independent sets of line graphs, despite the hardness of the maximum independent set problem for more general families of graphs.<sup id=\"cite_ref-paschos_4-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-paschos-4\" style=\"color: rgb(11, 0, 128); background-image: none;\">[4]</a></sup></li><li style=\"margin-bottom: 0.1em;\">The&nbsp;<a href=\"https://en.wikipedia.org/wiki/Edge_chromatic_number\" class=\"mw-redirect\" title=\"Edge chromatic number\" style=\"color: rgb(11, 0, 128); background-image: none;\">edge chromatic number</a>&nbsp;of a graph&nbsp;<i>G</i>&nbsp;is equal to the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Vertex_chromatic_number\" class=\"mw-redirect\" title=\"Vertex chromatic number\" style=\"color: rgb(11, 0, 128); background-image: none;\">vertex chromatic number</a>&nbsp;of its line graph&nbsp;<i>L</i>(<i>G</i>).<sup id=\"cite_ref-7\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-7\" style=\"color: rgb(11, 0, 128); background-image: none;\">[7]</a></sup></li><li style=\"margin-bottom: 0.1em;\">The line graph of an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Edge-transitive_graph\" title=\"Edge-transitive graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">edge-transitive graph</a>&nbsp;is&nbsp;<a href=\"https://en.wikipedia.org/wiki/Vertex-transitive_graph\" title=\"Vertex-transitive graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">vertex-transitive</a>. This property can be used to generate families of graphs that (like the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Petersen_graph\" title=\"Petersen graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Petersen graph</a>) are vertex-transitive but are not&nbsp;<a href=\"https://en.wikipedia.org/wiki/Cayley_graph\" title=\"Cayley graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Cayley graphs</a>: if&nbsp;<i>G</i>&nbsp;is an edge-transitive graph that has at least five vertices, is not bipartite, and has odd vertex degrees, then&nbsp;<i>L</i>(<i>G</i>) is a vertex-transitive non-Cayley graph.<sup id=\"cite_ref-8\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-8\" style=\"color: rgb(11, 0, 128); background-image: none;\">[8]</a></sup></li><li style=\"margin-bottom: 0.1em;\">If a graph&nbsp;<i>G</i>&nbsp;has an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Euler_cycle\" class=\"mw-redirect\" title=\"Euler cycle\" style=\"color: rgb(11, 0, 128); background-image: none;\">Euler cycle</a>, that is, if&nbsp;<i>G</i>&nbsp;is connected and has an even number of edges at each vertex, then the line graph of&nbsp;<i>G</i>&nbsp;is&nbsp;<a href=\"https://en.wikipedia.org/wiki/Hamiltonian_graph\" class=\"mw-redirect\" title=\"Hamiltonian graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Hamiltonian</a>. However, not all Hamiltonian cycles in line graphs come from Euler cycles in this way; for instance, the line graph of a Hamiltonian graph&nbsp;<i>G</i>&nbsp;is itself Hamiltonian, regardless of whether&nbsp;<i>G</i>&nbsp;is also Eulerian.<sup id=\"cite_ref-9\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-9\" style=\"color: rgb(11, 0, 128); background-image: none;\">[9]</a></sup></li><li style=\"margin-bottom: 0.1em;\">If two simple graphs are&nbsp;<a href=\"https://en.wikipedia.org/wiki/Graph_isomorphism\" title=\"Graph isomorphism\" style=\"color: rgb(11, 0, 128); background-image: none;\">isomorphic</a>&nbsp;then their line graphs are also isomorphic. The&nbsp;<a href=\"https://en.wikipedia.org/wiki/Graph_isomorphism#Whitney_theorem\" title=\"Graph isomorphism\" style=\"color: rgb(11, 0, 128); background-image: none;\">Whitney graph isomorphism theorem</a>&nbsp;provides a converse to this for all but one pair of graphs.</li><li style=\"margin-bottom: 0.1em;\">In the context of complex network theory, the line graph of a random network preserves many of the properties of the network such as the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Small-world_network\" title=\"Small-world network\" style=\"color: rgb(11, 0, 128); background-image: none;\">small-world property</a>&nbsp;(the existence of short paths between all pairs of vertices) and the shape of its&nbsp;<a href=\"https://en.wikipedia.org/wiki/Degree_distribution\" title=\"Degree distribution\" style=\"color: rgb(11, 0, 128); background-image: none;\">degree distribution</a>.<sup id=\"cite_ref-FOOTNOTERamezanpourKarimipourMashaghi2003_10-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTERamezanpourKarimipourMashaghi2003-10\" style=\"color: rgb(11, 0, 128); background-image: none;\">[10]</a></sup>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFEvansLambiotte2009\" style=\"color: rgb(11, 0, 128); background-image: none;\">Evans &amp; Lambiotte (2009)</a>&nbsp;observe that any method for finding vertex clusters in a complex network can be applied to the line graph and used to cluster its edges instead.</li></ul><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Whitney_isomorphism_theorem\">Whitney isomorphism theorem</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=5\" title=\"Edit section: Whitney isomorphism theorem\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><div class=\"thumb tright\" style=\"margin: 0.5em 0px 1.3em 1.4em; width: auto; background-color: transparent; clear: right; float: right;\"><div class=\"thumbinner\" style=\"min-width: 100px; border: 1px solid rgb(200, 204, 209); padding: 3px; background-color: rgb(248, 249, 250); font-size: 13.15999984741211px; text-align: center; overflow: hidden; width: 122px;\"><a href=\"https://en.wikipedia.org/wiki/File:Diamond_graph.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Diamond_graph.svg/120px-Diamond_graph.svg.png\" decoding=\"async\" width=\"120\" height=\"120\" class=\"thumbimage\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Diamond_graph.svg/180px-Diamond_graph.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Diamond_graph.svg/240px-Diamond_graph.svg.png 2x\" data-file-width=\"119\" data-file-height=\"119\" style=\"border: 1px solid rgb(200, 204, 209); background-color: rgb(255, 255, 255);\"></a><div class=\"thumbcaption\" style=\"border: 0px; line-height: 1.4em; padding: 3px; font-size: 12.370400428771973px; text-align: left;\"><div class=\"magnify\" style=\"float: right; margin-left: 3px; margin-right: 0px;\"><a href=\"https://en.wikipedia.org/wiki/File:Diamond_graph.svg\" class=\"internal\" title=\"Enlarge\" style=\"color: rgb(11, 0, 128); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e&quot;); display: block; text-indent: 15px; white-space: nowrap; overflow: hidden; width: 15px; height: 11px; -webkit-user-select: none;\"></a></div>The&nbsp;<a href=\"https://en.wikipedia.org/wiki/Diamond_graph\" title=\"Diamond graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">diamond graph</a>, an exception to the strong Whitney theorem</div></div></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">If the line graphs of two&nbsp;<a href=\"https://en.wikipedia.org/wiki/Connected_graph\" class=\"mw-redirect\" title=\"Connected graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">connected graphs</a>&nbsp;are isomorphic, then the underlying graphs are isomorphic, except in the case of the triangle graph&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">3</sub>&nbsp;and the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Claw_(graph_theory)\" class=\"mw-redirect\" title=\"Claw (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">claw</a>&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,3</sub>, which have isomorphic line graphs but are not themselves isomorphic.<sup id=\"cite_ref-whitney_3-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-whitney-3\" style=\"color: rgb(11, 0, 128); background-image: none;\">[3]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">As well as&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">3</sub>&nbsp;and&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,3</sub>, there are some other exceptional small graphs with the property that their line graph has a higher degree of symmetry than the graph itself. For instance, the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Diamond_graph\" title=\"Diamond graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">diamond graph</a>&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,1,2</sub>&nbsp;(two triangles sharing an edge) has four&nbsp;<a href=\"https://en.wikipedia.org/wiki/Graph_automorphism\" title=\"Graph automorphism\" style=\"color: rgb(11, 0, 128); background-image: none;\">graph automorphisms</a>&nbsp;but its line graph&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,2,2</sub>&nbsp;has eight. In the illustration of the diamond graph shown, rotating the graph by 90 degrees is not a symmetry of the graph, but is a symmetry of its line graph. However, all such exceptional cases have at most four vertices. A strengthened version of the Whitney isomorphism theorem states that, for connected graphs with more than four vertices, there is a one-to-one correspondence between isomorphisms of the graphs and isomorphisms of their line graphs.<sup id=\"cite_ref-11\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-11\" style=\"color: rgb(11, 0, 128); background-image: none;\">[11]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Analogues of the Whitney isomorphism theorem have been proven for the line graphs of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Multigraph\" title=\"Multigraph\" style=\"color: rgb(11, 0, 128); background-image: none;\">multigraphs</a>, but are more complicated in this case.<sup id=\"cite_ref-z97_12-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-z97-12\" style=\"color: rgb(11, 0, 128); background-image: none;\">[12]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Strongly_regular_and_perfect_line_graphs\">Strongly regular and perfect line graphs</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=6\" title=\"Edit section: Strongly regular and perfect line graphs\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><div class=\"thumb tright\" style=\"margin: 0.5em 0px 1.3em 1.4em; width: auto; background-color: transparent; clear: right; float: right;\"><div class=\"thumbinner\" style=\"min-width: 100px; border: 1px solid rgb(200, 204, 209); padding: 3px; background-color: rgb(248, 249, 250); font-size: 13.15999984741211px; text-align: center; overflow: hidden; width: 242px;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_perfect_graph.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Line_perfect_graph.svg/240px-Line_perfect_graph.svg.png\" decoding=\"async\" width=\"240\" height=\"196\" class=\"thumbimage\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Line_perfect_graph.svg/360px-Line_perfect_graph.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Line_perfect_graph.svg/480px-Line_perfect_graph.svg.png 2x\" data-file-width=\"396\" data-file-height=\"324\" style=\"border: 1px solid rgb(200, 204, 209); background-color: rgb(255, 255, 255);\"></a><div class=\"thumbcaption\" style=\"border: 0px; line-height: 1.4em; padding: 3px; font-size: 12.370400428771973px; text-align: left;\"><div class=\"magnify\" style=\"float: right; margin-left: 3px; margin-right: 0px;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_perfect_graph.svg\" class=\"internal\" title=\"Enlarge\" style=\"color: rgb(11, 0, 128); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e&quot;); display: block; text-indent: 15px; white-space: nowrap; overflow: hidden; width: 15px; height: 11px; -webkit-user-select: none;\"></a></div>A line perfect graph. The edges in each biconnected component are colored black if the component is bipartite, blue if the component is a tetrahedron, and red if the component is a book of triangles.</div></div></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The line graph of the complete graph&nbsp;<i>K<sub style=\"line-height: 1; font-size: 11.199999809265137px;\">n</sub></i>&nbsp;is also known as the&nbsp;<b>triangular graph</b>, the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Johnson_graph\" title=\"Johnson graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Johnson graph</a>&nbsp;<i>J</i>(<i>n</i>,2), or the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Complement_(graph_theory)\" class=\"mw-redirect\" title=\"Complement (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">complement</a>&nbsp;of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Kneser_graph\" title=\"Kneser graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Kneser graph</a>&nbsp;<i>KG</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\"><i>n</i>,2</sub>. Triangular graphs are characterized by their&nbsp;<a href=\"https://en.wikipedia.org/wiki/Spectral_graph_theory\" title=\"Spectral graph theory\" style=\"color: rgb(11, 0, 128); background-image: none;\">spectra</a>, except for&nbsp;<i>n</i>&nbsp;= 8.<sup id=\"cite_ref-13\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-13\" style=\"color: rgb(11, 0, 128); background-image: none;\">[13]</a></sup>&nbsp;They may also be characterized (again with the exception of&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">8</sub>) as the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Strongly_regular_graph\" title=\"Strongly regular graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">strongly regular graphs</a>&nbsp;with parameters srg(<i>n</i>(<i>n</i>&nbsp;\u2212&nbsp;1)/2, 2(<i>n</i>&nbsp;\u2212&nbsp;2),&nbsp;<i>n</i>&nbsp;\u2212&nbsp;2, 4).<sup id=\"cite_ref-14\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-14\" style=\"color: rgb(11, 0, 128); background-image: none;\">[14]</a></sup>&nbsp;The three strongly regular graphs with the same parameters and spectrum as&nbsp;<i>L</i>(<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">8</sub>) are the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Chang_graphs\" title=\"Chang graphs\" style=\"color: rgb(11, 0, 128); background-image: none;\">Chang graphs</a>, which may be obtained by&nbsp;<a href=\"https://en.wikipedia.org/wiki/Two-graph\" title=\"Two-graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">graph switching</a>&nbsp;from&nbsp;<i>L</i>(<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">8</sub>).</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The line graph of a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Bipartite_graph\" title=\"Bipartite graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">bipartite graph</a>&nbsp;is&nbsp;<a href=\"https://en.wikipedia.org/wiki/Perfect_graph\" title=\"Perfect graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">perfect</a>&nbsp;(see&nbsp;<a href=\"https://en.wikipedia.org/wiki/K%C5%91nig%27s_theorem_(graph_theory)\" title=\"K\u0151nig's theorem (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">K\u0151nig's theorem</a>), but need not be bipartite as the example of the claw graph shows. The line graphs of bipartite graphs form one of the key building blocks of perfect graphs, used in the proof of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Strong_perfect_graph_theorem\" title=\"Strong perfect graph theorem\" style=\"color: rgb(11, 0, 128); background-image: none;\">strong perfect graph theorem</a>.<sup id=\"cite_ref-15\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-15\" style=\"color: rgb(11, 0, 128); background-image: none;\">[15]</a></sup>&nbsp;A special case of these graphs are the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Rook%27s_graph\" title=\"Rook's graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">rook's graphs</a>, line graphs of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Complete_bipartite_graph\" title=\"Complete bipartite graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">complete bipartite graphs</a>. Like the line graphs of complete graphs, they can be characterized with one exception by their numbers of vertices, numbers of edges, and number of shared neighbors for adjacent and non-adjacent points. The one exceptional case is&nbsp;<i>L</i>(<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">4,4</sub>), which shares its parameters with the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Shrikhande_graph\" title=\"Shrikhande graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Shrikhande graph</a>. When both sides of the bipartition have the same number of vertices, these graphs are again strongly regular.<sup id=\"cite_ref-16\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-16\" style=\"color: rgb(11, 0, 128); background-image: none;\">[16]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">More generally, a graph&nbsp;<i>G</i>&nbsp;is said to be a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_perfect_graph\" title=\"Line perfect graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">line perfect graph</a>&nbsp;if&nbsp;<i>L</i>(<i>G</i>) is a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Perfect_graph\" title=\"Perfect graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">perfect graph</a>. The line perfect graphs are exactly the graphs that do not contain a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Cycle_(graph_theory)\" title=\"Cycle (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">simple cycle</a>&nbsp;of odd length greater than three.<sup id=\"cite_ref-17\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-17\" style=\"color: rgb(11, 0, 128); background-image: none;\">[17]</a></sup>&nbsp;Equivalently, a graph is line perfect if and only if each of its&nbsp;<a href=\"https://en.wikipedia.org/wiki/Biconnected_component\" title=\"Biconnected component\" style=\"color: rgb(11, 0, 128); background-image: none;\">biconnected components</a>&nbsp;is either bipartite or of the form&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">4</sub>&nbsp;(the tetrahedron) or&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,1,<i>n</i></sub>&nbsp;(a book of one or more triangles all sharing a common edge).<sup id=\"cite_ref-FOOTNOTEMaffray1992_18-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTEMaffray1992-18\" style=\"color: rgb(11, 0, 128); background-image: none;\">[18]</a></sup>&nbsp;Every line perfect graph is itself perfect.<sup id=\"cite_ref-FOOTNOTETrotter1977_19-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTETrotter1977-19\" style=\"color: rgb(11, 0, 128); background-image: none;\">[19]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Other_related_graph_families\">Other related graph families</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=7\" title=\"Edit section: Other related graph families\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">All line graphs are&nbsp;<a href=\"https://en.wikipedia.org/wiki/Claw-free_graph\" title=\"Claw-free graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">claw-free graphs</a>, graphs without an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Induced_subgraph\" title=\"Induced subgraph\" style=\"color: rgb(11, 0, 128); background-image: none;\">induced subgraph</a>&nbsp;in the form of a three-leaf tree.<sup id=\"cite_ref-h72-8.4_20-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-h72-8.4-20\" style=\"color: rgb(11, 0, 128); background-image: none;\">[20]</a></sup>&nbsp;As with claw-free graphs more generally, every connected line graph&nbsp;<i>L</i>(<i>G</i>) with an even number of edges has a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Perfect_matching\" class=\"mw-redirect\" title=\"Perfect matching\" style=\"color: rgb(11, 0, 128); background-image: none;\">perfect matching</a>;<sup id=\"cite_ref-21\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-21\" style=\"color: rgb(11, 0, 128); background-image: none;\">[21]</a></sup>&nbsp;equivalently, this means that if the underlying graph&nbsp;<i>G</i>&nbsp;has an even number of edges, its edges can be partitioned into two-edge paths.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The line graphs of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Tree_(graph_theory)\" title=\"Tree (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">trees</a>&nbsp;are exactly the claw-free&nbsp;<a href=\"https://en.wikipedia.org/wiki/Block_graph\" title=\"Block graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">block graphs</a>.<sup id=\"cite_ref-22\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-22\" style=\"color: rgb(11, 0, 128); background-image: none;\">[22]</a></sup>&nbsp;These graphs have been used to solve a problem in&nbsp;<a href=\"https://en.wikipedia.org/wiki/Extremal_graph_theory\" title=\"Extremal graph theory\" style=\"color: rgb(11, 0, 128); background-image: none;\">extremal graph theory</a>, of constructing a graph with a given number of edges and vertices whose largest tree&nbsp;<a href=\"https://en.wikipedia.org/wiki/Induced_subgraph\" title=\"Induced subgraph\" style=\"color: rgb(11, 0, 128); background-image: none;\">induced as a subgraph</a>&nbsp;is as small as possible.<sup id=\"cite_ref-23\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-23\" style=\"color: rgb(11, 0, 128); background-image: none;\">[23]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">All&nbsp;<a href=\"https://en.wikipedia.org/wiki/Eigenvalue\" class=\"mw-redirect\" title=\"Eigenvalue\" style=\"color: rgb(11, 0, 128); background-image: none;\">eigenvalues</a>&nbsp;of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Adjacency_matrix\" title=\"Adjacency matrix\" style=\"color: rgb(11, 0, 128); background-image: none;\">adjacency matrix</a>&nbsp;<span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"A\" style=\"vertical-align: -0.338ex; margin: 0px; display: inline-block; width: 1.743ex; height: 2.176ex;\"></span>&nbsp;of a line graph are at least \u22122. The reason for this is that&nbsp;<span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/7daff47fa58cdfd29dc333def748ff5fa4c923e3\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"A\" style=\"vertical-align: -0.338ex; margin: 0px; display: inline-block; width: 1.743ex; height: 2.176ex;\"></span>&nbsp;can be written as&nbsp;<span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/0c73dd773ba47a654c8051d6ab14e9e7d0733642\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"{\\displaystyle A=J^{T}J-2I}\" style=\"vertical-align: -0.505ex; margin: 0px; display: inline-block; width: 14.403ex; height: 2.843ex;\"></span>, where&nbsp;<span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/359e4f407b49910e02c27c2f52e87a36cd74c053\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"J\" style=\"vertical-align: -0.338ex; margin: 0px; display: inline-block; width: 1.471ex; height: 2.176ex;\"></span>&nbsp;is the signless incidence matrix of the pre-line graph and&nbsp;<span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/535ea7fc4134a31cbe2251d9d3511374bc41be9f\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"I\" style=\"vertical-align: -0.338ex; margin: 0px; display: inline-block; width: 1.172ex; height: 2.176ex;\"></span>&nbsp;is the identity. In particular,&nbsp;<span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/06c5cb49bd195c26de116c29e9ce044c091397c8\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"{\\displaystyle A+2I}\" style=\"vertical-align: -0.505ex; margin: 0px; display: inline-block; width: 6.918ex; height: 2.343ex;\"></span>&nbsp;is the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Gramian_matrix\" title=\"Gramian matrix\" style=\"color: rgb(11, 0, 128); background-image: none;\">Gramian matrix</a>&nbsp;of a system of vectors: all graphs with this property have been called generalized line graphs.<sup id=\"cite_ref-FOOTNOTECvetkovi\u0107RowlinsonSimi\u01072004_24-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTECvetkovi%C4%87RowlinsonSimi%C4%872004-24\" style=\"color: rgb(11, 0, 128); background-image: none;\">[24]</a></sup></p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Characterization_and_recognition\">Characterization and recognition</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=8\" title=\"Edit section: Characterization and recognition\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Clique_partition\">Clique partition</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=9\" title=\"Edit section: Clique partition\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><div class=\"thumb tright\" style=\"margin: 0.5em 0px 1.3em 1.4em; width: auto; background-color: transparent; clear: right; float: right;\"><div class=\"thumbinner\" style=\"min-width: 100px; border: 1px solid rgb(200, 204, 209); padding: 3px; background-color: rgb(248, 249, 250); font-size: 13.15999984741211px; text-align: center; overflow: hidden; width: 282px;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_graph_clique_partition.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Line_graph_clique_partition.svg/280px-Line_graph_clique_partition.svg.png\" decoding=\"async\" width=\"280\" height=\"189\" class=\"thumbimage\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Line_graph_clique_partition.svg/420px-Line_graph_clique_partition.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Line_graph_clique_partition.svg/560px-Line_graph_clique_partition.svg.png 2x\" data-file-width=\"306\" data-file-height=\"207\" style=\"border: 1px solid rgb(200, 204, 209); background-color: rgb(255, 255, 255);\"></a><div class=\"thumbcaption\" style=\"border: 0px; line-height: 1.4em; padding: 3px; font-size: 12.370400428771973px; text-align: left;\"><div class=\"magnify\" style=\"float: right; margin-left: 3px; margin-right: 0px;\"><a href=\"https://en.wikipedia.org/wiki/File:Line_graph_clique_partition.svg\" class=\"internal\" title=\"Enlarge\" style=\"color: rgb(11, 0, 128); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e&quot;); display: block; text-indent: 15px; white-space: nowrap; overflow: hidden; width: 15px; height: 11px; -webkit-user-select: none;\"></a></div>Partition of a line graph into cliques</div></div></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">For an arbitrary graph&nbsp;<i>G</i>, and an arbitrary vertex&nbsp;<i>v</i>&nbsp;in&nbsp;<i>G</i>, the set of edges incident to&nbsp;<i>v</i>&nbsp;corresponds to a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Clique_(graph_theory)\" title=\"Clique (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">clique</a>&nbsp;in the line graph&nbsp;<i>L</i>(<i>G</i>). The cliques formed in this way partition the edges of&nbsp;<i>L</i>(<i>G</i>). Each vertex of&nbsp;<i>L</i>(<i>G</i>) belongs to exactly two of them (the two cliques corresponding to the two endpoints of the corresponding edge in&nbsp;<i>G</i>).</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The existence of such a partition into cliques can be used to characterize the line graphs: A graph&nbsp;<i>L</i>&nbsp;is the line graph of some other graph or multigraph if and only if it is possible to find a collection of cliques in&nbsp;<i>L</i>&nbsp;(allowing some of the cliques to be single vertices) that partition the edges of&nbsp;<i>L</i>, such that each vertex of&nbsp;<i>L</i>&nbsp;belongs to exactly two of the cliques.<sup id=\"cite_ref-h72-8.4_20-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-h72-8.4-20\" style=\"color: rgb(11, 0, 128); background-image: none;\">[20]</a></sup>&nbsp;It is the line graph of a graph (rather than a multigraph) if this set of cliques satisfies the additional condition that no two vertices of&nbsp;<i>L</i>&nbsp;are both in the same two cliques. Given such a family of cliques, the underlying graph&nbsp;<i>G</i>&nbsp;for which&nbsp;<i>L</i>&nbsp;is the line graph can be recovered by making one vertex in&nbsp;<i>G</i>&nbsp;for each clique, and an edge in&nbsp;<i>G</i>&nbsp;for each vertex in&nbsp;<i>L</i>&nbsp;with its endpoints being the two cliques containing the vertex in&nbsp;<i>L</i>. By the strong version of Whitney's isomorphism theorem, if the underlying graph&nbsp;<i>G</i>&nbsp;has more than four vertices, there can be only one partition of this type.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">For example, this characterization can be used to show that the following graph is not a line graph:</p><dl style=\"margin-top: 0.2em; margin-bottom: 0.5em;\"><dd style=\"margin-left: 1.6em; margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/File:LineGraphExampleA.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"LineGraphExampleA.svg\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/LineGraphExampleA.svg/100px-LineGraphExampleA.svg.png\" decoding=\"async\" width=\"100\" height=\"100\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/LineGraphExampleA.svg/150px-LineGraphExampleA.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/LineGraphExampleA.svg/200px-LineGraphExampleA.svg.png 2x\" data-file-width=\"241\" data-file-height=\"242\"></a></dd></dl><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">In this example, the edges going upward, to the left, and to the right from the central degree-four vertex do not have any cliques in common. Therefore, any partition of the graph's edges into cliques would have to have at least one clique for each of these three edges, and these three cliques would all intersect in that central vertex, violating the requirement that each vertex appear in exactly two cliques. Thus, the graph shown is not a line graph.</p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Forbidden_subgraphs\">Forbidden subgraphs</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=10\" title=\"Edit section: Forbidden subgraphs\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><div class=\"thumb tright\" style=\"margin: 0.5em 0px 1.3em 1.4em; width: auto; background-color: transparent; clear: right; float: right;\"><div class=\"thumbinner\" style=\"min-width: 100px; border: 1px solid rgb(200, 204, 209); padding: 3px; background-color: rgb(248, 249, 250); font-size: 13.15999984741211px; text-align: center; overflow: hidden; width: 302px;\"><a href=\"https://en.wikipedia.org/wiki/File:Forbidden_line_subgraphs.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Forbidden_line_subgraphs.svg/300px-Forbidden_line_subgraphs.svg.png\" decoding=\"async\" width=\"300\" height=\"241\" class=\"thumbimage\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Forbidden_line_subgraphs.svg/450px-Forbidden_line_subgraphs.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/Forbidden_line_subgraphs.svg/600px-Forbidden_line_subgraphs.svg.png 2x\" data-file-width=\"682\" data-file-height=\"549\" style=\"border: 1px solid rgb(200, 204, 209); background-color: rgb(255, 255, 255);\"></a><div class=\"thumbcaption\" style=\"border: 0px; line-height: 1.4em; padding: 3px; font-size: 12.370400428771973px; text-align: left;\"><div class=\"magnify\" style=\"float: right; margin-left: 3px; margin-right: 0px;\"><a href=\"https://en.wikipedia.org/wiki/File:Forbidden_line_subgraphs.svg\" class=\"internal\" title=\"Enlarge\" style=\"color: rgb(11, 0, 128); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e&quot;); display: block; text-indent: 15px; white-space: nowrap; overflow: hidden; width: 15px; height: 11px; -webkit-user-select: none;\"></a></div>The nine minimal non-line graphs, from Beineke's forbidden-subgraph characterization of line graphs. A graph is a line graph if and only if it does not contain one of these nine graphs as an induced subgraph.</div></div></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Another characterization of line graphs was proven in&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFBeineke1970\" style=\"color: rgb(11, 0, 128); background-image: none;\">Beineke (1970)</a>&nbsp;(and reported earlier without proof by&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFBeineke1968\" style=\"color: rgb(11, 0, 128); background-image: none;\">Beineke (1968)</a>). He showed that there are nine minimal graphs that are not line graphs, such that any graph that is not a line graph has one of these nine graphs as an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Induced_subgraph\" title=\"Induced subgraph\" style=\"color: rgb(11, 0, 128); background-image: none;\">induced subgraph</a>. That is, a graph is a line graph if and only if no subset of its vertices induces one of these nine graphs. In the example above, the four topmost vertices induce a claw (that is, a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Complete_bipartite_graph\" title=\"Complete bipartite graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">complete bipartite graph</a>&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,3</sub>), shown on the top left of the illustration of forbidden subgraphs. Therefore, by Beineke's characterization, this example cannot be a line graph. For graphs with minimum degree at least 5, only the six subgraphs in the left and right columns of the figure are needed in the characterization.<sup id=\"cite_ref-mt97_25-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-mt97-25\" style=\"color: rgb(11, 0, 128); background-image: none;\">[25]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Algorithms\">Algorithms</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=11\" title=\"Edit section: Algorithms\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFRoussopoulos1973\" style=\"color: rgb(11, 0, 128); background-image: none;\">Roussopoulos (1973)</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFLehot1974\" style=\"color: rgb(11, 0, 128); background-image: none;\">Lehot (1974)</a>&nbsp;described linear time algorithms for recognizing line graphs and reconstructing their original graphs.&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFSys%C5%82o1982\" style=\"color: rgb(11, 0, 128); background-image: none;\">Sys\u0142o (1982)</a>&nbsp;generalized these methods to&nbsp;<a href=\"https://en.wikipedia.org/wiki/Directed_graph\" title=\"Directed graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">directed graphs</a>.&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFDegiorgiSimon1995\" style=\"color: rgb(11, 0, 128); background-image: none;\">Degiorgi &amp; Simon (1995)</a>&nbsp;described an efficient data structure for maintaining a dynamic graph, subject to vertex insertions and deletions, and maintaining a representation of the input as a line graph (when it exists) in time proportional to the number of changed edges at each step.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The algorithms of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFRoussopoulos1973\" style=\"color: rgb(11, 0, 128); background-image: none;\">Roussopoulos (1973)</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFLehot1974\" style=\"color: rgb(11, 0, 128); background-image: none;\">Lehot (1974)</a>&nbsp;are based on characterizations of line graphs involving odd triangles (triangles in the line graph with the property that there exists another vertex adjacent to an odd number of triangle vertices). However, the algorithm of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFDegiorgiSimon1995\" style=\"color: rgb(11, 0, 128); background-image: none;\">Degiorgi &amp; Simon (1995)</a>&nbsp;uses only Whitney's isomorphism theorem. It is complicated by the need to recognize deletions that cause the remaining graph to become a line graph, but when specialized to the static recognition problem only insertions need to be performed, and the algorithm performs the following steps:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Construct the input graph&nbsp;<i>L</i>&nbsp;by adding vertices one at a time, at each step choosing a vertex to add that is adjacent to at least one previously-added vertex. While adding vertices to&nbsp;<i>L</i>, maintain a graph&nbsp;<i>G</i>&nbsp;for which&nbsp;<i>L</i>&nbsp;=&nbsp;<i>L</i>(<i>G</i>); if the algorithm ever fails to find an appropriate graph&nbsp;<i>G</i>, then the input is not a line graph and the algorithm terminates.</li><li style=\"margin-bottom: 0.1em;\">When adding a vertex&nbsp;<i>v</i>&nbsp;to a graph&nbsp;<i>L</i>(<i>G</i>) for which&nbsp;<i>G</i>&nbsp;has four or fewer vertices, it might be the case that the line graph representation is not unique. But in this case, the augmented graph is small enough that a representation of it as a line graph can be found by a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Brute_force_search\" class=\"mw-redirect\" title=\"Brute force search\" style=\"color: rgb(11, 0, 128); background-image: none;\">brute force search</a>&nbsp;in constant time.</li><li style=\"margin-bottom: 0.1em;\">When adding a vertex&nbsp;<i>v</i>&nbsp;to a larger graph&nbsp;<i>L</i>&nbsp;that equals the line graph of another graph&nbsp;<i>G</i>, let&nbsp;<i>S</i>&nbsp;be the subgraph of&nbsp;<i>G</i>&nbsp;formed by the edges that correspond to the neighbors of&nbsp;<i>v</i>&nbsp;in&nbsp;<i>L</i>. Check that&nbsp;<i>S</i>&nbsp;has a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Vertex_cover\" title=\"Vertex cover\" style=\"color: rgb(11, 0, 128); background-image: none;\">vertex cover</a>&nbsp;consisting of one vertex or two non-adjacent vertices. If there are two vertices in the cover, augment&nbsp;<i>G</i>&nbsp;by adding an edge (corresponding to&nbsp;<i>v</i>) that connects these two vertices. If there is only one vertex in the cover, then add a new vertex to&nbsp;<i>G</i>, adjacent to this vertex.</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Each step either takes constant time, or involves finding a vertex cover of constant size within a graph&nbsp;<i>S</i>&nbsp;whose size is proportional to the number of neighbors of&nbsp;<i>v</i>. Thus, the total time for the whole algorithm is proportional to the sum of the numbers of neighbors of all vertices, which (by the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Handshaking_lemma\" title=\"Handshaking lemma\" style=\"color: rgb(11, 0, 128); background-image: none;\">handshaking lemma</a>) is proportional to the number of input edges.</p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Iterating_the_line_graph_operator\">Iterating the line graph operator</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=12\" title=\"Edit section: Iterating the line graph operator\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#CITEREFvan_RooijWilf1965\" style=\"color: rgb(11, 0, 128); background-image: none;\">van Rooij &amp; Wilf (1965)</a>&nbsp;consider the sequence of graphs</p><dl style=\"margin-top: 0.2em; margin-bottom: 0.5em;\"><dd style=\"margin-left: 1.6em; margin-bottom: 0.1em;\"><span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/2802e3f6f5ebb3983c9d24be10ac9c774795eaed\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"G,L(G),L(L(G)),L(L(L(G))),\\dots .\\ \" style=\"vertical-align: -0.838ex; display: inline-block; width: 36.52ex; height: 2.843ex;\"></span></dd></dl><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">They show that, when&nbsp;<i>G</i>&nbsp;is a finite&nbsp;<a href=\"https://en.wikipedia.org/wiki/Connected_graph\" class=\"mw-redirect\" title=\"Connected graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">connected graph</a>, only four behaviors are possible for this sequence:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">If&nbsp;<i>G</i>&nbsp;is a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Cycle_graph\" title=\"Cycle graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">cycle graph</a>&nbsp;then&nbsp;<i>L</i>(<i>G</i>) and each subsequent graph in this sequence are&nbsp;<a href=\"https://en.wikipedia.org/wiki/Graph_isomorphism\" title=\"Graph isomorphism\" style=\"color: rgb(11, 0, 128); background-image: none;\">isomorphic</a>&nbsp;to&nbsp;<i>G</i>&nbsp;itself. These are the only connected graphs for which&nbsp;<i>L</i>(<i>G</i>) is isomorphic to&nbsp;<i>G</i>.<sup id=\"cite_ref-26\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-26\" style=\"color: rgb(11, 0, 128); background-image: none;\">[26]</a></sup></li><li style=\"margin-bottom: 0.1em;\">If&nbsp;<i>G</i>&nbsp;is a claw&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,3</sub>, then&nbsp;<i>L</i>(<i>G</i>) and all subsequent graphs in the sequence are triangles.</li><li style=\"margin-bottom: 0.1em;\">If&nbsp;<i>G</i>&nbsp;is a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Path_graph\" title=\"Path graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">path graph</a>&nbsp;then each subsequent graph in the sequence is a shorter path until eventually the sequence terminates with an&nbsp;<a href=\"https://en.wikipedia.org/wiki/Empty_graph\" class=\"mw-redirect\" title=\"Empty graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">empty graph</a>.</li><li style=\"margin-bottom: 0.1em;\">In all remaining cases, the sizes of the graphs in this sequence eventually increase without bound.</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">If&nbsp;<i>G</i>&nbsp;is not connected, this classification applies separately to each component of&nbsp;<i>G</i>.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">For connected graphs that are not paths, all sufficiently high numbers of iteration of the line graph operation produce graphs that are Hamiltonian.<sup id=\"cite_ref-27\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-27\" style=\"color: rgb(11, 0, 128); background-image: none;\">[27]</a></sup></p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Generalizations\">Generalizations</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=13\" title=\"Edit section: Generalizations\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Medial_graphs_and_convex_polyhedra\">Medial graphs and convex polyhedra</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=14\" title=\"Edit section: Medial graphs and convex polyhedra\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><div role=\"note\" class=\"hatnote navigation-not-searchable\" style=\"font-style: italic; padding-left: 1.6em; margin-bottom: 0.5em;\">Main article:&nbsp;<a href=\"https://en.wikipedia.org/wiki/Medial_graph\" title=\"Medial graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Medial graph</a></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">When a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Planar_graph\" title=\"Planar graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">planar graph</a>&nbsp;<i>G</i>&nbsp;has maximum&nbsp;<a href=\"https://en.wikipedia.org/wiki/Degree_(graph_theory)\" title=\"Degree (graph theory)\" style=\"color: rgb(11, 0, 128); background-image: none;\">vertex degree</a>&nbsp;three, its line graph is planar, and every planar embedding of&nbsp;<i>G</i>&nbsp;can be extended to an embedding of&nbsp;<i>L</i>(<i>G</i>). However, there exist planar graphs with higher degree whose line graphs are nonplanar. These include, for example, the 5-star&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,5</sub>, the&nbsp;<a href=\"https://en.wikipedia.org/w/index.php?title=Gem_graph&amp;action=edit&amp;redlink=1\" class=\"new\" title=\"Gem graph (page does not exist)\" style=\"color: rgb(165, 88, 88); background-image: none;\">gem graph</a>&nbsp;formed by adding two non-crossing diagonals within a regular pentagon, and all&nbsp;<a href=\"https://en.wikipedia.org/wiki/Convex_polyhedron\" class=\"mw-redirect\" title=\"Convex polyhedron\" style=\"color: rgb(11, 0, 128); background-image: none;\">convex polyhedra</a>&nbsp;with a vertex of degree four or more.<sup id=\"cite_ref-28\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-28\" style=\"color: rgb(11, 0, 128); background-image: none;\">[28]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">An alternative construction, the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Medial_graph\" title=\"Medial graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">medial graph</a>, coincides with the line graph for planar graphs with maximum degree three, but is always planar. It has the same vertices as the line graph, but potentially fewer edges: two vertices of the medial graph are adjacent if and only if the corresponding two edges are consecutive on some face of the planar embedding. The medial graph of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Dual_graph\" title=\"Dual graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">dual graph</a>&nbsp;of a plane graph is the same as the medial graph of the original plane graph.<sup id=\"cite_ref-29\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-29\" style=\"color: rgb(11, 0, 128); background-image: none;\">[29]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">For&nbsp;<a href=\"https://en.wikipedia.org/wiki/Regular_polyhedra\" class=\"mw-redirect\" title=\"Regular polyhedra\" style=\"color: rgb(11, 0, 128); background-image: none;\">regular polyhedra</a>&nbsp;or simple polyhedra, the medial graph operation can be represented geometrically by the operation of cutting off each vertex of the polyhedron by a plane through the midpoints of all its incident edges.<sup id=\"cite_ref-30\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-30\" style=\"color: rgb(11, 0, 128); background-image: none;\">[30]</a></sup>&nbsp;This operation is known variously as the second truncation,<sup id=\"cite_ref-31\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-31\" style=\"color: rgb(11, 0, 128); background-image: none;\">[31]</a></sup>&nbsp;degenerate truncation,<sup id=\"cite_ref-32\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-32\" style=\"color: rgb(11, 0, 128); background-image: none;\">[32]</a></sup>&nbsp;or&nbsp;<a href=\"https://en.wikipedia.org/wiki/Rectification_(geometry)\" title=\"Rectification (geometry)\" style=\"color: rgb(11, 0, 128); background-image: none;\">rectification</a>.<sup id=\"cite_ref-33\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-33\" style=\"color: rgb(11, 0, 128); background-image: none;\">[33]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Total_graphs\">Total graphs</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=15\" title=\"Edit section: Total graphs\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The total graph&nbsp;<i>T</i>(<i>G</i>) of a graph&nbsp;<i>G</i>&nbsp;has as its vertices the elements (vertices or edges) of&nbsp;<i>G</i>, and has an edge between two elements whenever they are either incident or adjacent. The total graph may also be obtained by subdividing each edge of&nbsp;<i>G</i>&nbsp;and then taking the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Graph_power\" title=\"Graph power\" style=\"color: rgb(11, 0, 128); background-image: none;\">square</a>&nbsp;of the subdivided graph.<sup id=\"cite_ref-34\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-34\" style=\"color: rgb(11, 0, 128); background-image: none;\">[34]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Multigraphs\">Multigraphs</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=16\" title=\"Edit section: Multigraphs\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The concept of the line graph of&nbsp;<i>G</i>&nbsp;may naturally be extended to the case where&nbsp;<i>G</i>&nbsp;is a multigraph. In this case, the characterizations of these graphs can be simplified: the characterization in terms of clique partitions no longer needs to prevent two vertices from belonging to the same to cliques, and the characterization by forbidden graphs has seven forbidden graphs instead of nine.<sup id=\"cite_ref-FOOTNOTERyj\u00e1\u010dekVr\u00e1na2011_35-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTERyj%C3%A1%C4%8DekVr%C3%A1na2011-35\" style=\"color: rgb(11, 0, 128); background-image: none;\">[35]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">However, for multigraphs, there are larger numbers of pairs of non-isomorphic graphs that have the same line graphs. For instance a complete bipartite graph&nbsp;<i>K</i><sub style=\"line-height: 1; font-size: 11.199999809265137px;\">1,<i>n</i></sub>&nbsp;has the same line graph as the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Dipole_graph\" title=\"Dipole graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">dipole graph</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Shannon_multigraph\" title=\"Shannon multigraph\" style=\"color: rgb(11, 0, 128); background-image: none;\">Shannon multigraph</a>&nbsp;with the same number of edges. Nevertheless, analogues to Whitney's isomorphism theorem can still be derived in this case.<sup id=\"cite_ref-z97_12-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-z97-12\" style=\"color: rgb(11, 0, 128); background-image: none;\">[12]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Line_digraphs\">Line digraphs<span id=\"Line_digraph\"></span></span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=17\" title=\"Edit section: Line digraphs\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><div class=\"thumb tright\" style=\"margin: 0.5em 0px 1.3em 1.4em; width: auto; background-color: transparent; clear: right; float: right;\"><div class=\"thumbinner\" style=\"min-width: 100px; border: 1px solid rgb(200, 204, 209); padding: 3px; background-color: rgb(248, 249, 250); font-size: 13.15999984741211px; text-align: center; overflow: hidden; width: 362px;\"><a href=\"https://en.wikipedia.org/wiki/File:DeBruijn-as-line-digraph.svg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/DeBruijn-as-line-digraph.svg/360px-DeBruijn-as-line-digraph.svg.png\" decoding=\"async\" width=\"360\" height=\"245\" class=\"thumbimage\" srcset=\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/DeBruijn-as-line-digraph.svg/540px-DeBruijn-as-line-digraph.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/DeBruijn-as-line-digraph.svg/720px-DeBruijn-as-line-digraph.svg.png 2x\" data-file-width=\"954\" data-file-height=\"648\" style=\"border: 1px solid rgb(200, 204, 209); background-color: rgb(255, 255, 255);\"></a><div class=\"thumbcaption\" style=\"border: 0px; line-height: 1.4em; padding: 3px; font-size: 12.370400428771973px; text-align: left;\"><div class=\"magnify\" style=\"float: right; margin-left: 3px; margin-right: 0px;\"><a href=\"https://en.wikipedia.org/wiki/File:DeBruijn-as-line-digraph.svg\" class=\"internal\" title=\"Enlarge\" style=\"color: rgb(11, 0, 128); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/resources/src/mediawiki.skinning/images/magnify-clip-ltr.svg?8330e&quot;); display: block; text-indent: 15px; white-space: nowrap; overflow: hidden; width: 15px; height: 11px; -webkit-user-select: none;\"></a></div>Construction of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/De_Bruijn_graph\" title=\"De Bruijn graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">de Bruijn graphs</a>&nbsp;as iterated line digraphs</div></div></div><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">It is also possible to generalize line graphs to directed graphs.<sup id=\"cite_ref-FOOTNOTEHararyNorman1960_36-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTEHararyNorman1960-36\" style=\"color: rgb(11, 0, 128); background-image: none;\">[36]</a></sup>&nbsp;If&nbsp;<i>G</i>&nbsp;is a directed graph, its&nbsp;<b>directed line graph</b>&nbsp;or&nbsp;<b>line digraph</b>&nbsp;has one vertex for each edge of&nbsp;<i>G</i>. Two vertices representing directed edges from&nbsp;<i>u</i>&nbsp;to&nbsp;<i>v</i>&nbsp;and from&nbsp;<i>w</i>&nbsp;to&nbsp;<i>x</i>&nbsp;in&nbsp;<i>G</i>&nbsp;are connected by an edge from&nbsp;<i>uv</i>&nbsp;to&nbsp;<i>wx</i>&nbsp;in the line digraph when&nbsp;<i>v</i>&nbsp;=&nbsp;<i>w</i>. That is, each edge in the line digraph of&nbsp;<i>G</i>&nbsp;represents a length-two directed path in&nbsp;<i>G</i>. The&nbsp;<a href=\"https://en.wikipedia.org/wiki/De_Bruijn_graph\" title=\"De Bruijn graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">de Bruijn graphs</a>&nbsp;may be formed by repeating this process of forming directed line graphs, starting from a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Complete_graph\" title=\"Complete graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">complete directed graph</a>.<sup id=\"cite_ref-FOOTNOTEZhangLin1987_37-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTEZhangLin1987-37\" style=\"color: rgb(11, 0, 128); background-image: none;\">[37]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6;\"><span class=\"mw-headline\" id=\"Weighted_line_graphs\">Weighted line graphs</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Line_graph&amp;action=edit&amp;section=18\" title=\"Edit section: Weighted line graphs\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">In a line graph&nbsp;<i>L</i>(<i>G</i>), each vertex of degree&nbsp;<i>k</i>&nbsp;in the original graph&nbsp;<i>G</i>&nbsp;creates&nbsp;<i>k(k-1)/2</i>&nbsp;edges in the line graph. For many types of analysis this means high-degree nodes in&nbsp;<i>G</i>&nbsp;are over-represented in the line graph&nbsp;<i>L</i>(<i>G</i>). For instance, consider a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Random_walk\" title=\"Random walk\" style=\"color: rgb(11, 0, 128); background-image: none;\">random walk</a>&nbsp;on the vertices of the original graph&nbsp;<i>G</i>. This will pass along some edge&nbsp;<i>e</i>&nbsp;with some frequency&nbsp;<i>f</i>. On the other hand, this edge&nbsp;<i>e</i>&nbsp;is mapped to a unique vertex, say&nbsp;<i>v</i>, in the line graph&nbsp;<i>L</i>(<i>G</i>). If we now perform the same type of random walk on the vertices of the line graph, the frequency with which&nbsp;<i>v</i>&nbsp;is visited can be completely different from&nbsp;<i>f</i>. If our edge&nbsp;<i>e</i>&nbsp;in&nbsp;<i>G</i>&nbsp;was connected to nodes of degree&nbsp;<i>O(k)</i>, it will be traversed&nbsp;<i>O(k<sup style=\"line-height: 1; font-size: 11.199999809265137px;\">2</sup>)</i>&nbsp;more frequently in the line graph&nbsp;<i>L</i>(<i>G</i>). Put another way, the Whitney graph isomorphism theorem guarantees that the line graph almost always encodes the topology of the original graph&nbsp;<i>G</i>&nbsp;faithfully but it does not guarantee that dynamics on these two graphs have a simple relationship. One solution is to construct a weighted line graph, that is, a line graph with&nbsp;<a href=\"https://en.wikipedia.org/wiki/Weighted_graph\" class=\"mw-redirect\" title=\"Weighted graph\" style=\"color: rgb(11, 0, 128); background-image: none;\">weighted edges</a>. There are several natural ways to do this.<sup id=\"cite_ref-FOOTNOTEEvansLambiotte2009_38-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTEEvansLambiotte2009-38\" style=\"color: rgb(11, 0, 128); background-image: none;\">[38]</a></sup>&nbsp;For instance if edges&nbsp;<i>d</i>&nbsp;and&nbsp;<i>e</i>&nbsp;in the graph&nbsp;<i>G</i>&nbsp;are incident at a vertex&nbsp;<i>v</i>&nbsp;with degree&nbsp;<i>k</i>, then in the line graph&nbsp;<i>L</i>(<i>G</i>) the edge connecting the two vertices&nbsp;<i>d</i>&nbsp;and&nbsp;<i>e</i>&nbsp;can be given weight&nbsp;<i>1/(k-1)</i>. In this way every edge in&nbsp;<i>G</i>&nbsp;(provided neither end is connected to a vertex of degree '1') will have strength&nbsp;<i>2</i>&nbsp;in the line graph&nbsp;<i>L</i>(<i>G</i>) corresponding to the two ends that the edge has in&nbsp;<i>G</i>. It is straightforward to extend this definition of a weighted line graph to cases where the original graph&nbsp;<i>G</i>&nbsp;was directed or even weighted.<sup id=\"cite_ref-FOOTNOTEEvansLambiotte2010_39-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Line_graph#cite_note-FOOTNOTEEvansLambiotte2010-39\" style=\"color: rgb(11, 0, 128); background-image: none;\">[39]</a></sup>&nbsp;The principle in all cases is to ensure the line graph&nbsp;<i>L</i>(<i>G</i>) reflects the dynamics as well as the topology of the original graph&nbsp;<i>G</i>.</p></div></div></div>", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "production_costs", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Production Costs", "units": null, "w": 131, "x": 509, "y": 360, "z": 1}, {"color": "#4cbcff", "definition": "demand = elastic_volume_projection__.sum(['sales_channel','region'])\nresult = np.minimum(demand, (production + product_stock1))", "description": "<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\" style=\"color: rgb(0, 0, 0); background-image: none; margin-top: 0px; margin-bottom: 0.25em; overflow: visible; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.8em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\">Sales and operations planning</h1><div id=\"bodyContent\" class=\"mw-body-content\" style=\"position: relative; font-size: calc(0.875em); line-height: 1.6; z-index: 0; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif;\"><div id=\"siteSub\" class=\"noprint\" style=\"font-size: 12.880000114440918px;\">From Wikipedia, the free encyclopedia</div><div id=\"contentSub\" style=\"font-size: 11.760000228881836px; line-height: 1.2em; margin: 0px 0px 1.4em 1em; color: rgb(84, 89, 93); width: auto;\"></div><div id=\"jump-to-nav\"></div><a class=\"mw-jump-link\" href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#mw-head\" style=\"color: rgb(11, 0, 128); background-image: none; display: block; clip: rect(1px, 1px, 1px, 1px); width: 1px; height: 1px; margin: -1px; border: 0px; padding: 0px; overflow: hidden; position: absolute !important;\">Jump to navigation</a><a class=\"mw-jump-link\" href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#p-search\" style=\"color: rgb(11, 0, 128); background-image: none; display: block; clip: rect(1px, 1px, 1px, 1px); width: 1px; height: 1px; margin: -1px; border: 0px; padding: 0px; overflow: hidden; position: absolute !important;\">Jump to search</a><div id=\"mw-content-text\" lang=\"en\" dir=\"ltr\" class=\"mw-content-ltr\" style=\"direction: ltr;\"><div class=\"mw-parser-output\"><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\"><b>Sales and operations planning</b>&nbsp;(<b>S&amp;OP</b>) is an integrated business management process through which the executive/leadership team continually achieves focus, alignment and synchronization among all functions of the organization. The S&amp;OP process includes an updated forecast that leads to a sales plan,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Production_plan\" class=\"mw-redirect\" title=\"Production plan\" style=\"color: rgb(11, 0, 128); background-image: none;\">production plan</a>, inventory plan, customer lead time (backlog) plan, new product development plan, strategic initiative plan and resulting financial plan. Plan frequency and planning horizon depend on the specifics of the industry. Short product life cycles and high&nbsp;<a href=\"https://en.wikipedia.org/wiki/Demand\" title=\"Demand\" style=\"color: rgb(11, 0, 128); background-image: none;\">demand</a>&nbsp;volatility require a tighter S&amp;OP than steadily consumed products. Done well, the S&amp;OP process also enables effective&nbsp;<a href=\"https://en.wikipedia.org/wiki/Supply_chain_management\" title=\"Supply chain management\" style=\"color: rgb(11, 0, 128); background-image: none;\">supply chain management</a>.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">A properly implemented S&amp;OP process routinely reviews customer demand and supply resources and \"re-plans\" quantitatively across an agreed rolling horizon. The re-planning process focuses on changes from the previously agreed sales and operations plan, while it helps the management team to understand how the company achieved its current level of performance, its primary focus is on future actions and anticipated results.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Newest developments in Sales and Operations Planning on how the planning process becomes more customer centric was written by Richard (Dick) Ling and Andy Coldrick in chapter 20 in the 3rd edition of Orlicky's MRP.<sup id=\"cite_ref-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_note-1\" style=\"color: rgb(11, 0, 128); background-image: none;\">[1]</a></sup></p><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\" style=\"border: 1px solid rgb(162, 169, 177); background-color: rgb(248, 249, 250); padding: 7px; font-size: 13.300000190734863px; display: table;\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\" style=\"text-align: center; direction: ltr;\"><h2 id=\"mw-toc-heading\" style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border: 0px; font-size: 13.300000190734863px; font-family: sans-serif; line-height: 1.3; display: inline;\">Contents</h2><span class=\"toctogglespan\" style=\"font-size: 12.50200080871582px;\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\" style=\"cursor: pointer; color: rgb(6, 69, 173);\"></label></span></div><ul style=\"list-style-image: none; margin: 0.3em 0px; padding: 0px; list-style-type: none;\"><li class=\"toclevel-1 tocsection-1\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#Definitions\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Definitions</span></a></li><li class=\"toclevel-1 tocsection-2\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#The_planning_process\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">The planning process</span></a></li><li class=\"toclevel-1 tocsection-3\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#Best_practices\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Best practices</span></a></li><li class=\"toclevel-1 tocsection-4\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#See_also\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">See also</span></a></li><li class=\"toclevel-1 tocsection-5\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#References\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">References</span></a></li><li class=\"toclevel-1 tocsection-6\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#External_links\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">External links</span></a></li></ul></div><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Definitions\">Definitions</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_and_operations_planning&amp;action=edit&amp;section=1\" title=\"Edit section: Definitions\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\"><a href=\"https://en.wikipedia.org/wiki/APICS\" title=\"APICS\" style=\"color: rgb(11, 0, 128); background-image: none;\">APICS</a>&nbsp;defines S&amp;OP as the \"function of setting the overall level of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Manufacturing\" title=\"Manufacturing\" style=\"color: rgb(11, 0, 128); background-image: none;\">manufacturing</a>&nbsp;output (<a href=\"https://en.wikipedia.org/wiki/Production_plan\" class=\"mw-redirect\" title=\"Production plan\" style=\"color: rgb(11, 0, 128); background-image: none;\">production plan</a>) and other activities to best satisfy the current planned levels of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales\" title=\"Sales\" style=\"color: rgb(11, 0, 128); background-image: none;\">sales</a>&nbsp;(sales plan and/or&nbsp;<a href=\"https://en.wikipedia.org/wiki/Forecasts\" class=\"mw-redirect\" title=\"Forecasts\" style=\"color: rgb(11, 0, 128); background-image: none;\">forecasts</a>), while meeting general business objectives of profitability,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Productivity\" title=\"Productivity\" style=\"color: rgb(11, 0, 128); background-image: none;\">productivity</a>, competitive customer lead times, etc., as expressed in the overall&nbsp;<a href=\"https://en.wikipedia.org/wiki/Business_plan\" title=\"Business plan\" style=\"color: rgb(11, 0, 128); background-image: none;\">business plan</a>.\"&nbsp;<a href=\"https://en.wikipedia.org/wiki/Institute_for_Supply_Management\" title=\"Institute for Supply Management\" style=\"color: rgb(11, 0, 128); background-image: none;\">Institute for Supply Management</a><sup style=\"line-height: 1; font-size: 11.199999809265137px;\">\u00ae</sup>&nbsp;defines it as \"working cross-functionally with internal business units to forecast anticipated demand, inventory, supply and customer lead times based on the sales forecast, actual demand and capacity forecast.\" One of its primary purposes is to establish production rates that will achieve management\u2019s objective of maintaining, raising, or lowering&nbsp;<a href=\"https://en.wikipedia.org/wiki/Inventory\" title=\"Inventory\" style=\"color: rgb(11, 0, 128); background-image: none;\">inventories</a>&nbsp;or backlogs, while usually attempting to keep the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Workforce\" title=\"Workforce\" style=\"color: rgb(11, 0, 128); background-image: none;\">workforce</a>&nbsp;relatively stable. It must extend through a&nbsp;<a href=\"https://en.wikipedia.org/wiki/Planning_horizon\" title=\"Planning horizon\" style=\"color: rgb(11, 0, 128); background-image: none;\">planning horizon</a>&nbsp;sufficient to plan the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Labour_(economics)\" class=\"mw-redirect\" title=\"Labour (economics)\" style=\"color: rgb(11, 0, 128); background-image: none;\">labor</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Capital_equipment\" class=\"mw-redirect\" title=\"Capital equipment\" style=\"color: rgb(11, 0, 128); background-image: none;\">equipment</a>, facilities, material, and finances required to accomplish the production plan. As this plan affects many company functions, it is normally prepared with information from&nbsp;<a href=\"https://en.wikipedia.org/wiki/Marketing\" title=\"Marketing\" style=\"color: rgb(11, 0, 128); background-image: none;\">marketing</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Manufacturing\" title=\"Manufacturing\" style=\"color: rgb(11, 0, 128); background-image: none;\">manufacturing</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Engineering\" title=\"Engineering\" style=\"color: rgb(11, 0, 128); background-image: none;\">engineering</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Finance\" title=\"Finance\" style=\"color: rgb(11, 0, 128); background-image: none;\">finance</a>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Raw_material\" title=\"Raw material\" style=\"color: rgb(11, 0, 128); background-image: none;\">materials</a>, etc.\"<sup id=\"cite_ref-2\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_note-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Sales and operations planning has evolved into a major business process adopted to manage the balance and trade-off between the conflicting preferences of the supply and demand side of the supply chain and offers many value creation opportunities. It is one of the most critical business processes used to achieve best in class performance to consistently outperform competitors. It is increasingly being viewed as essential to synchronise the entire supply chain in order to improve its efficiency.<sup id=\"cite_ref-3\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_note-3\" style=\"color: rgb(11, 0, 128); background-image: none;\">[3]</a></sup>&nbsp;It has also been described as \"a set of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Decision-making\" title=\"Decision-making\" style=\"color: rgb(11, 0, 128); background-image: none;\">decision-making</a>&nbsp;processes to balance demand and supply, to integrate&nbsp;<a href=\"https://en.wikipedia.org/wiki/Financial_plan\" title=\"Financial plan\" style=\"color: rgb(11, 0, 128); background-image: none;\">financial planning</a>&nbsp;and operational planning, and to link high-level strategic plans with day-to-day operations.\"<sup id=\"cite_ref-4\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_note-4\" style=\"color: rgb(11, 0, 128); background-image: none;\">[4]</a></sup></p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"The_planning_process\">The planning process</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_and_operations_planning&amp;action=edit&amp;section=2\" title=\"Edit section: The planning process\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">S&amp;OP is the result of monthly planning activities. It is usually based on an Annual Operations Plan (AOP) that acts as the company's annual target in terms of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Sales\" title=\"Sales\" style=\"color: rgb(11, 0, 128); background-image: none;\">sales</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Supply_(economics)\" title=\"Supply (economics)\" style=\"color: rgb(11, 0, 128); background-image: none;\">supply</a>. Therefore, the sales and operations plans are a means to gradually accomplish the AOP targets \u2013 by linking monthly sales and marketing planning directly to the operations side of a business.<sup id=\"cite_ref-5\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_note-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;The process for deciding upon the monthly S&amp;OP is illustrated in the figure below.</p><ul class=\"gallery mw-gallery-traditional\" style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin-top: 0.3em; margin-right: 0px; margin-left: 1.6em;\"><li class=\"gallerybox\" style=\"margin-bottom: 0.1em; vertical-align: top; display: inline-block; width: 155px;\"><div style=\"width: 155px;\"><div class=\"thumb\" style=\"margin: 2px; width: 150px; background-color: rgb(248, 249, 250); text-align: center; border: 1px solid rgb(200, 204, 209);\"><div style=\"margin: 15px auto;\"><a href=\"https://en.wikipedia.org/wiki/File:Monthly_S%26OP_Process.jpg\" class=\"image\" style=\"color: rgb(11, 0, 128); background-image: none;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/en/thumb/8/8d/Monthly_S%26OP_Process.jpg/69px-Monthly_S%26OP_Process.jpg\" decoding=\"async\" width=\"69\" height=\"120\" srcset=\"https://upload.wikimedia.org/wikipedia/en/thumb/8/8d/Monthly_S%26OP_Process.jpg/103px-Monthly_S%26OP_Process.jpg 1.5x, https://upload.wikimedia.org/wikipedia/en/thumb/8/8d/Monthly_S%26OP_Process.jpg/138px-Monthly_S%26OP_Process.jpg 2x\" data-file-width=\"311\" data-file-height=\"540\" style=\"background-image: none; background-color: rgb(255, 255, 255); display: block; margin: 0px auto; background-repeat: repeat repeat;\"></a></div></div><div class=\"gallerytext\" style=\"overflow: hidden; font-size: 13.15999984741211px; padding: 2px 4px; word-wrap: break-word;\"><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">Monthly S&amp;OP Process</p></div></div></li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">The planning horizon for a typical S&amp;OP process is long term and extends over 18\u201336 months. The selection of a time horizon is an important decision and there are different factors that influence this decision including type of industry, product characteristics, and the time of the year when S&amp;OP planning takes place. Additionally, the S&amp;OP process is conducted at an aggregate level. The focus is commonly on product families and not every single product.</p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Best_practices\">Best practices</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_and_operations_planning&amp;action=edit&amp;section=3\" title=\"Edit section: Best practices\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><table class=\"box-Howto plainlinks metadata ambox ambox-content\" role=\"presentation\" style=\"font-size: 14px; margin: 0px 169.5px; border-width: 1px 1px 1px 10px; border-style: solid; border-color: rgb(162, 169, 177) rgb(162, 169, 177) rgb(162, 169, 177) rgb(242, 133, 0); background-color: rgb(251, 251, 251);\"><tbody><tr><td class=\"mbox-image\" style=\"border: none; padding-top: 2px; padding-bottom: 2px; padding-left: 0.5em; text-align: center;\"><div style=\"width: 52px;\"><img alt=\"\" src=\"https://upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/40px-Ambox_important.svg.png\" decoding=\"async\" width=\"40\" height=\"40\" srcset=\"https://upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/60px-Ambox_important.svg.png 1.5x, https://upload.wikimedia.org/wikipedia/en/thumb/b/b4/Ambox_important.svg/80px-Ambox_important.svg.png 2x\" data-file-width=\"40\" data-file-height=\"40\"></div></td><td class=\"mbox-text\" style=\"border: none; padding: 0.25em 0.5em; width: 1266px;\"><div class=\"mbox-text-span\">This article&nbsp;<b>contains&nbsp;<a href=\"https://en.wikipedia.org/wiki/Wikipedia:What_Wikipedia_is_not#NOTHOWTO\" title=\"Wikipedia:What Wikipedia is not\" style=\"color: rgb(11, 0, 128); background-image: none;\">instructions, advice, or how-to content</a></b>.<span class=\"hide-when-compact\">&nbsp;The purpose of Wikipedia is to present facts, not to train. Please help&nbsp;<a class=\"external text\" href=\"https://en.wikipedia.org/w/index.php?title=Sales_and_operations_planning&amp;action=edit\" style=\"color: rgb(102, 51, 102); background-image: none !important; padding: 0px !important;\">improve this article</a>&nbsp;either by rewriting the how-to content or by&nbsp;<a href=\"https://meta.wikimedia.org/wiki/Help:Transwiki\" class=\"extiw\" title=\"m:Help:Transwiki\" style=\"color: rgb(102, 51, 102); background-image: none;\">moving</a>it to&nbsp;<a href=\"https://en.wikiversity.org/wiki/\" class=\"extiw\" title=\"v:\" style=\"color: rgb(102, 51, 102); background-image: none;\">Wikiversity</a>,&nbsp;<a href=\"https://en.wikibooks.org/wiki/\" class=\"extiw\" title=\"b:\" style=\"color: rgb(102, 51, 102); background-image: none;\">Wikibooks</a>&nbsp;or&nbsp;<a href=\"https://en.wikivoyage.org/wiki/\" class=\"extiw\" title=\"voy:\" style=\"color: rgb(102, 51, 102); background-image: none;\">Wikivoyage</a>.</span>&nbsp;&nbsp;<small class=\"date-container\" style=\"font-size: 11.899999618530273px;\"><i>(<span class=\"date\">January 2015</span>)</i></small></div></td></tr></tbody></table><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">S&amp;OP best practices share a common set of approaches:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Rely on a phased approach: S&amp;OP is much more an integrated set of business processes and technologies than a single, all-encompassing process or technology. If you just focus on the implementation of a new technology and think that S&amp;OP will miraculously take shape, you're wrong.</li><li style=\"margin-bottom: 0.1em;\">Develop an \"outside-in\" sequence of S&amp;OP initiatives: typically, the events that will have the most profound and negative impact on your sales and operations planning are those outside of your control. For the most part, these are due to the decisions and actions of your customers, partners, and competitors, which have a direct impact on your revenue and your competitor's strategy.</li><li style=\"margin-bottom: 0.1em;\">Focus on more information, less data: another key to successful S&amp;OP is clean, current, and accurate data. Plans are often slowed down by the effort of gathering data that has minimal importance to the overall project. It is important to ensure that you know exactly what business problem you are trying to resolve and understand the minimum data necessary for the project.</li><li style=\"margin-bottom: 0.1em;\">Provide effective leadership for the process. S&amp;OP crosses organizational boundaries \u2013 that is its strength but also its vulnerability. Many businesses find that their attempts to implement S&amp;OP are frustrated by internal tensions between departments. Classic best practice suggests that S&amp;OP must be owned to the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Chief_Executive_Officer\" class=\"mw-redirect\" title=\"Chief Executive Officer\" style=\"color: rgb(11, 0, 128); background-image: none;\">Chief Executive Officer</a>. If that is not possible then a strong united coalition of department heads may be able to lead the process if they set clear ground rules and boundaries for working together.</li></ul><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"See_also\">See also</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_and_operations_planning&amp;action=edit&amp;section=4\" title=\"Edit section: See also\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Demand_chain\" title=\"Demand chain\" style=\"color: rgb(11, 0, 128); background-image: none;\">Demand chain</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Demand_chain_management\" class=\"mw-redirect\" title=\"Demand chain management\" style=\"color: rgb(11, 0, 128); background-image: none;\">Demand chain management</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Forecasting\" title=\"Forecasting\" style=\"color: rgb(11, 0, 128); background-image: none;\">Forecasting</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Supply_and_demand\" title=\"Supply and demand\" style=\"color: rgb(11, 0, 128); background-image: none;\">Supply and demand</a></li></ul><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"References\">References</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_and_operations_planning&amp;action=edit&amp;section=5\" title=\"Edit section: References\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><div class=\"reflist\" style=\"font-size: 12.600000381469727px; margin-bottom: 0.5em; list-style-type: decimal;\"><div class=\"mw-references-wrap\"><ol class=\"references\" style=\"margin: 0.3em 0px 0px 3.2em; padding: 0px; list-style-image: none; counter-reset: mw-ref-extends-parent 0 list-item 0; list-style-type: inherit;\"><li id=\"cite_note-1\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_ref-1\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Ptak, Carol &amp; Smith, Chad (2011).&nbsp;<i>Orlicky's MRP 3rd edition</i>, McGraw Hill, New York&nbsp;<a href=\"https://en.wikipedia.org/wiki/International_Standard_Book_Number\" title=\"International Standard Book Number\" style=\"color: rgb(11, 0, 128); background-image: none;\">ISBN</a>&nbsp;<a href=\"https://en.wikipedia.org/wiki/Special:BookSources/978-0-07-175563-4\" title=\"Special:BookSources/978-0-07-175563-4\" style=\"color: rgb(11, 0, 128); background-image: none;\">978-0-07-175563-4</a>.</span></li><li id=\"cite_note-2\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_ref-2\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Dougherty, J.R., \"Getting Started With Sales &amp; Operations Planning\", text available&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"http://www.partnersforexcellence.com/artoth01.htm\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">here</a>&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"https://web.archive.org/web/20071203185622/http://www.partnersforexcellence.com/artoth01.htm\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">Archived</a>&nbsp;2007-12-03 at the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Wayback_Machine\" title=\"Wayback Machine\" style=\"color: rgb(11, 0, 128); background-image: none;\">Wayback Machine</a></span></li><li id=\"cite_note-3\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_ref-3\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Kumar, Rakesh and Srivastava, Samir K, \"A Framework for Improving 'Sales &amp; Operations Planning\"',&nbsp;<i>Metamorphosis</i>, 13(1), 2014, pp.16-25.</span></li><li id=\"cite_note-4\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_ref-4\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Wallace, Tom, author of textbooks on sales and operations planning, see for example&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"http://www.tfwallace.com/pages/content/sop_101.html\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">S&amp;OP 101</a>&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"https://web.archive.org/web/20071013182245/http://tfwallace.com/pages/content/sop_101.html\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">Archived</a>&nbsp;2007-10-13 at the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Wayback_Machine\" title=\"Wayback Machine\" style=\"color: rgb(11, 0, 128); background-image: none;\">Wayback Machine</a></span></li><li id=\"cite_note-5\" style=\"margin-bottom: 0.1em; counter-increment: mw-ref-extends-parent 1; counter-reset: mw-ref-extends-child 0;\"><span class=\"mw-cite-backlink\" style=\"-webkit-user-select: none;\"><b><a href=\"https://en.wikipedia.org/wiki/Sales_and_operations_planning#cite_ref-5\" aria-label=\"Jump up\" title=\"Jump up\" style=\"color: rgb(11, 0, 128); background-image: none;\">^</a></b></span>&nbsp;<span class=\"reference-text\">Ling, R.C. and W.E. Goddard (1992). \"Orchestrating Success: Improve Control of the Business with Sales &amp; Operations Planning\", Wiley</span></li></ol></div></div><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"External_links\">External links</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Sales_and_operations_planning&amp;action=edit&amp;section=6\" title=\"Edit section: External links\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\">Palmatier,George E.,&nbsp;<a rel=\"nofollow\" class=\"external text\" href=\"http://www.oliverwight-americas.com/articles/pdf/Opinion_MAR07_HiRes.pdf\" style=\"color: rgb(102, 51, 102); background-image: url(&quot;https://upload.wikimedia.org/wikipedia/commons/2/23/Icons-mini-file_acrobat.gif&quot;); padding-right: 18px; background-position: right center; background-repeat: no-repeat no-repeat;\">\"The Need to Lead\"</a></li><li style=\"margin-bottom: 0.1em;\">The Evolution of S&amp;OP by Dick Ling, Andy Coldrick and Chris Turner</li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.stratabridge.com/wp-content/uploads/2015/12/Evolution-of-SOP.pdf\" style=\"color: rgb(102, 51, 102); background-image: url(&quot;https://upload.wikimedia.org/wikipedia/commons/2/23/Icons-mini-file_acrobat.gif&quot;); padding-right: 18px; background-position: right center; background-repeat: no-repeat no-repeat;\">Evolution of S&amp;OP pdf</a></li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">An article outlining the different perspectives that should be considered when designing an S&amp;OP process</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.stratabridge.com/2011/09/joined-up-decision-making-whats-your-perspective/\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">What's Your Perspective?</a></li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">An article from the Journal of Business Forecasting explaining the link between S&amp;OP and strategy</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.stratabridge.com/2013/04/sop-and-strategy-building-the-bridge-and-making-the-process-stick/\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">S&amp;OP and Strategy pdf</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.logisitik.com/learning-center/planning-scheduling/item/454-the-sales-operations-plan-sop.html\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">S&amp;OP</a>&nbsp;The Sales &amp; Operations Plan</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">A series of papers authored by Dr. Larry Lapide of the MIT Center for Transportation and Logistics:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://ctl.mit.edu/sites/ctl.mit.edu/files/library/public/article_jbf_soplanningi_lapide.pdf\" style=\"color: rgb(102, 51, 102); background-image: url(&quot;https://upload.wikimedia.org/wikipedia/commons/2/23/Icons-mini-file_acrobat.gif&quot;); padding-right: 18px; background-position: right center; background-repeat: no-repeat no-repeat;\">Sales and Operations Planning Part I: The Process</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://ctl.mit.edu/sites/ctl.mit.edu/files/library/public/article_jbf_soplanningii_lapide.pdf\" style=\"color: rgb(102, 51, 102); background-image: url(&quot;https://upload.wikimedia.org/wikipedia/commons/2/23/Icons-mini-file_acrobat.gif&quot;); padding-right: 18px; background-position: right center; background-repeat: no-repeat no-repeat;\">Sales and Operations Planning Part II: Enabling Technology</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://ctl.mit.edu/sites/ctl.mit.edu/files/library/public/article_jbf_soplanningiii_lapide.pdf\" style=\"color: rgb(102, 51, 102); background-image: url(&quot;https://upload.wikimedia.org/wikipedia/commons/2/23/Icons-mini-file_acrobat.gif&quot;); padding-right: 18px; background-position: right center; background-repeat: no-repeat no-repeat;\">Sales and Operations Planning Part III: A Diagnostics Model</a></li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">A series of practical papers authored by Robin Goodfellow and Ian Henderson of MLG Management Consultants:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.mlg.uk.com/html/sales_and_operations_planning.htm\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">An overview of S&amp;OP and how to make it most effective</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.mlg.uk.com/html/mlg_papers.htm\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">Executive S&amp;OP - a series of breakfast briefings undertaken with the UK's Institute of Operations Management</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://www.mlg.uk.com/html/mlg_papers.htm\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">Brief article on the need for and ways to succeed with S&amp;OP</a></li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em;\">A series of infographic images authored by Jay Sharma of SupplyChainPro Consultants:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://visual.ly/sop-agenda\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">An Infographic of an example agenda in a S&amp;OP Meeting</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://visual.ly/infographic-road-sop-maturity\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">An Infographic of a S&amp;OP Maturity Model detailing key elements of different S&amp;OP phases</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://visual.ly/infographic-sop\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">An Infographic of the key planning elements within S&amp;OP and their inter-relationships</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://visual.ly/4-things-consider-you-sopify\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">An Infographic on key questions to address before a company implements S&amp;OP</a></li><li style=\"margin-bottom: 0.1em;\"><a rel=\"nofollow\" class=\"external text\" href=\"http://visual.ly/infographic-whats-so-difficult-about-sop\" style=\"color: rgb(102, 51, 102); background-image: linear-gradient(transparent, transparent), url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/external-link-ltr-icon.svg?b4b84&quot;); padding-right: 13px; background-position: right center; background-repeat: no-repeat no-repeat;\">An Infographic depicting key areas related to culture change for supporting S&amp;OP</a></li></ul></div><div id=\"catlinks\" class=\"catlinks\" data-mw=\"interface\" style=\"border: 1px solid rgb(162, 169, 177); background-color: rgb(248, 249, 250); padding: 5px; margin-top: 1em; clear: both;\"></div></div></div><br class=\"Apple-interchange-newline\">", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "supplied_demand", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Supplied Demand", "units": null, "w": 131, "x": 338, "y": 476, "z": 1}, {"color": "#4CBCFF", "definition": "_da = dataarray_from_pandas( hist_sales_db, {'Region':region,'Item Type':item_type, 'Sales Channel':sales_channel, 'time':historic_time}, 'Units Sold', defaultValue=np.nan, valueColumnsAsDim=True)\nresult = _da.mean('historic_time',skipna=True).fillna(0)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "volume_dataarray__", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Volume dataarray", "units": null, "w": 131, "x": 183, "y": 237, "z": 1}, {"color": "#f4a460", "definition": "result = '2022.12'", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "fin_mod_date", "moduleId": "time_related_indexes", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Final Modeling Date", "units": null, "w": "136", "x": 187, "y": 52, "z": 1}, {"color": "#f4a460", "definition": "result = '2020.01'", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "initial_modeling_date", "moduleId": "time_related_indexes", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Initial Modeling Date", "units": null, "w": "136", "x": 40, "y": 52, "z": 1}, {"color": "#9FC5E8", "definition": "", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "50", "identifier": "time_related_indexes", "moduleId": "index_definitions", "nodeClass": "module", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Time Related Indexes", "units": null, "w": "100", "x": 217, "y": 558, "z": 1}, {"color": "#4CBCFF", "definition": "deltaP = (projected_prices - projected_prices.shift(time=1)).fillna(xr.DataArray( 0.25, [item_type]))\n_base_vol = dynamic(elastic_volume_projection__,time,-1,volume_dataarray__) \nfactor =  (1 + elasticity * deltaP / projected_prices)\nresult =  _base_vol * factor", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "elastic_volume_projection__", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,F,4,2,1,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Elastic volume projection", "units": null, "w": 131, "x": 338, "y": 237, "z": 1}, {"color": "#ffff80", "definition": "result = xr.DataArray([120000, 90000, 70000, 80000,100000, 90000, 75000, 90000,150000,120000,  90000, 90000],[item_type])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "production_cap", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Production Capacity", "units": null, "w": 131, "x": 183, "y": 339, "z": 1}, {"color": "#4CBCFF", "definition": "result = dynamic( product_stock, time, -1, initial_stock )+stock_goal_sel*0", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "product_stock1", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Product Stock t-1", "units": null, "w": 131, "x": 20, "y": 580, "z": 1}, {"color": "#4CBCFF", "definition": "_time = to_dataarray(time)\n_opex_factor = apply_fn(_time, lambda x: 20 if int(x[5:]) == 12 else 15 if int(x[5:]) == 6 else 10 )/10\nresult = create_dataarray( [10000,20000,30000,40000], [opex_acc], dtype=None ) * xr.DataArray( 1, [time]) * _opex_factor * 300", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "opex", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "OPEX", "units": null, "w": 131, "x": 667, "y": 421, "z": 1}, {"color": "#4CBCFF", "definition": "result = operation_margin.sum(item_type.name) - opex.sum(opex_acc.name)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "ebitda", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "EBITDA", "units": null, "w": 131, "x": 828, "y": 420, "z": 1}, {"color": "#4CBCFF", "definition": "result = xr.DataArray( 10000000, [time])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "depreciations", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Depreciations", "units": null, "w": 131, "x": 667, "y": 477, "z": 1}, {"color": "#4CBCFF", "definition": "result = ebitda - depreciations", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "ebit", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "EBIT", "units": null, "w": 131, "x": 828, "y": 476, "z": 1}, {"color": "#4CBCFF", "definition": "result = profit_before_tax * .3", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "income_tax", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Income Tax", "units": null, "w": 131, "x": 667, "y": 594, "z": 1}, {"color": "#4CBCFF", "definition": "result = profit_before_tax - income_tax", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "net_income", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Net Income", "units": null, "w": 131, "x": 828, "y": 594, "z": 1}, {"color": "#4CBCFF", "definition": "result = revenue_projection.sum(['sales_channel','region']) - production_costs", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "operation_margin", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,1,4,0,$,0,,0", "originalId": null, "picture": null, "title": "Operation Margin", "units": null, "w": 131, "x": 828, "y": 360, "z": 1}, {"color": "#4CBCFF", "definition": "result = npv( .1, net_income, time, offset=1 )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "npv1", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "NPV", "units": null, "w": 131, "x": 829, "y": 652, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(['Material','Services','Manpower','Others'])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "opex_acc", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Opex acc", "units": null, "w": "129", "x": 71, "y": 197, "z": 1}, {"color": "#4CBCFF", "definition": "result = ebit - interests", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "profit_before_tax", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Profit before Tax", "units": null, "w": 131, "x": 829, "y": 534, "z": 1}, {"color": "#4CBCFF", "definition": "result = xr.DataArray( 75000000, [time])/10", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "interests", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Interests", "units": null, "w": 131, "x": 667, "y": 530, "z": 1}, {"color": "#dcdcdc", "definition": "result = create_report({\n                        'Revenue':revenue_projection.sum(['sales_channel','region','item_type'])\n                        ,'COGS':production_costs.sum(['item_type'])\n                        ,'Operation Margin':operation_margin.sum(['item_type'])\n                        ,'OPEX':opex.sum(opex_acc.name) \n                        ,'EBITDA':ebitda\n                        ,'Depreciations':depreciations\n                        ,'EBIT':ebit\n                        ,'Interests':interests\n                        ,'Profit b/tax':profit_before_tax\n                        ,'Income Tax':income_tax\n                        ,'Net Income':net_income\n                        }, \n                        reportIndexName='Report index', reportIndex=None )\n                        \n#df = pandas_from_dataarray(dataArray).reset_index()\n#result = df[(df[\"time\"]>=time_selector.value[0]) & (df[\"time\"]<=time_selector.value[1]) ]", "description": "<h1 id=\"firstHeading\" class=\"firstHeading\" lang=\"en\" style=\"color: rgb(0, 0, 0); background-image: none; margin-top: 0px; margin-bottom: 0.25em; overflow: visible; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.8em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\">Income statement</h1><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><span style=\"font-size: 12.880000114440918px;\">From Wikipedia, the free encyclopedia</span></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">An&nbsp;<b>income statement</b>&nbsp;or&nbsp;<b>profit and loss account</b><sup id=\"cite_ref-CUP_1-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-CUP-1\" style=\"color: rgb(11, 0, 128); background-image: none;\">[1]</a></sup>&nbsp;(also referred to as a&nbsp;<i><b>profit and loss statement</b></i>&nbsp;(P&amp;L),&nbsp;<i><b>statement of profit or loss</b></i>,&nbsp;<i><b>revenue statement</b></i>,&nbsp;<i><b>statement of financial performance</b></i>,&nbsp;<i><b>earnings statement</b></i>,&nbsp;<i><b>statement of earnings</b></i>,&nbsp;<i><b>operating statement</b></i>, or&nbsp;<i><b>statement of operations</b></i>)<sup id=\"cite_ref-helfert-a_2-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-helfert-a-2\" style=\"color: rgb(11, 0, 128); background-image: none;\">[2]</a></sup>&nbsp;is one of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Financial_statement\" title=\"Financial statement\" style=\"color: rgb(11, 0, 128); background-image: none;\">financial statements</a>&nbsp;of a company and shows the company\u2019s&nbsp;<a href=\"https://en.wikipedia.org/wiki/Revenue\" title=\"Revenue\" style=\"color: rgb(11, 0, 128); background-image: none;\">revenues</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Expense\" title=\"Expense\" style=\"color: rgb(11, 0, 128); background-image: none;\">expenses</a>&nbsp;during a particular period.<sup id=\"cite_ref-CUP_1-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-CUP-1\" style=\"color: rgb(11, 0, 128); background-image: none;\">[1]</a></sup></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">It indicates how the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Revenue\" title=\"Revenue\" style=\"color: rgb(11, 0, 128); background-image: none;\">revenues</a>&nbsp;(also known as the&nbsp;<i>\u201ctop line\u201d</i>) are transformed into the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Net_income\" title=\"Net income\" style=\"color: rgb(11, 0, 128); background-image: none;\">net income</a>&nbsp;or net profit (the result after all revenues and expenses have been accounted for). The purpose of the income statement is to show&nbsp;<a href=\"https://en.wikipedia.org/wiki/Management\" title=\"Management\" style=\"color: rgb(11, 0, 128); background-image: none;\">managers</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Investor\" title=\"Investor\" style=\"color: rgb(11, 0, 128); background-image: none;\">investors</a>&nbsp;whether the company made money (profit) or lost money (loss) during the period being reported.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">An income statement represents a period of time (as does the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Cash_flow_statement\" title=\"Cash flow statement\" style=\"color: rgb(11, 0, 128); background-image: none;\">cash flow statement</a>). This contrasts with the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Balance_sheet\" title=\"Balance sheet\" style=\"color: rgb(11, 0, 128); background-image: none;\">balance sheet</a>, which represents a single moment in time.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><a href=\"https://en.wikipedia.org/wiki/Charitable_organizations\" class=\"mw-redirect\" title=\"Charitable organizations\" style=\"color: rgb(11, 0, 128); background-image: none;\">Charitable organizations</a>&nbsp;that are required to publish financial statements do not produce an income statement. Instead, they produce a similar statement that reflects funding sources compared against program expenses, administrative costs, and other operating commitments. This statement is commonly referred to as the&nbsp;<i>statement of activities</i>.<sup id=\"cite_ref-3\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-3\" style=\"color: rgb(11, 0, 128); background-image: none;\">[3]</a></sup>&nbsp;Revenues and expenses are further categorized in the statement of activities by the donor restrictions on the funds received and expended.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">The income statement can be prepared in one of two methods.<sup id=\"cite_ref-4\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-4\" style=\"color: rgb(11, 0, 128); background-image: none;\">[4]</a></sup>&nbsp;The Single Step income statement totals revenues and subtracts expenses to find the bottom line. The Multi-Step income statement takes several steps to find the bottom line: starting with the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Gross_profit\" class=\"mw-redirect\" title=\"Gross profit\" style=\"color: rgb(11, 0, 128); background-image: none;\">gross profit</a>, then calculating&nbsp;<a href=\"https://en.wikipedia.org/wiki/Operating_expenses\" class=\"mw-redirect\" title=\"Operating expenses\" style=\"color: rgb(11, 0, 128); background-image: none;\">operating expenses</a>. Then when deducted from the gross profit, yields income from operations.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">Adding to income from operations is the difference of other revenues and other expenses. When combined with income from operations, this yields income before taxes. The final step is to deduct taxes, which finally produces the net income for the period measured.</p><div id=\"toc\" class=\"toc\" role=\"navigation\" aria-labelledby=\"mw-toc-heading\" style=\"border: 1px solid rgb(162, 169, 177); background-color: rgb(248, 249, 250); padding: 7px; font-size: 13.300000190734863px; display: table; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif;\"><div class=\"toctitle\" lang=\"en\" dir=\"ltr\" style=\"text-align: center; direction: ltr;\"><h2 id=\"mw-toc-heading\" style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border: 0px; font-size: 13.300000190734863px; font-family: sans-serif; line-height: 1.3; display: inline;\">Contents</h2><span class=\"toctogglespan\" style=\"font-size: 12.50200080871582px;\"><label class=\"toctogglelabel\" for=\"toctogglecheckbox\" style=\"cursor: pointer; color: rgb(6, 69, 173);\"></label></span></div><ul style=\"list-style-image: none; margin: 0.3em 0px; padding: 0px; list-style-type: none;\"><li class=\"toclevel-1 tocsection-1\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Usefulness_and_limitations_of_income_statement\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Usefulness and limitations of income statement</span></a><ul style=\"list-style-image: none; margin-right: 0px; margin-left: 2em; padding: 0px; list-style-type: none;\"><li class=\"toclevel-2 tocsection-2\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Operating_section\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1.1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Operating section</span></a></li><li class=\"toclevel-2 tocsection-3\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Non-operating_section\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1.2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Non-operating section</span></a></li><li class=\"toclevel-2 tocsection-4\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Irregular_items\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1.3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Irregular items</span></a></li><li class=\"toclevel-2 tocsection-5\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Disclosures\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1.4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Disclosures</span></a></li><li class=\"toclevel-2 tocsection-6\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Earnings_per_share\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">1.5</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Earnings per share</span></a></li></ul></li><li class=\"toclevel-1 tocsection-7\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Sample_income_statement\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">2</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Sample income statement</span></a></li><li class=\"toclevel-1 tocsection-8\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Bottom_line\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">3</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Bottom line</span></a></li><li class=\"toclevel-1 tocsection-9\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Requirements_of_IFRS\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Requirements of IFRS</span></a><ul style=\"list-style-image: none; margin-right: 0px; margin-left: 2em; padding: 0px; list-style-type: none;\"><li class=\"toclevel-2 tocsection-10\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#Items_and_disclosures\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">4.1</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">Items and disclosures</span></a></li></ul></li><li class=\"toclevel-1 tocsection-11\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#See_also\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">5</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">See also</span></a></li><li class=\"toclevel-1 tocsection-12\" style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#References\" style=\"color: rgb(11, 0, 128); background-image: none;\"><span class=\"tocnumber\" style=\"display: table-cell; text-decoration: inherit; padding-left: 0px; padding-right: 0.5em; color: rgb(34, 34, 34);\">6</span><span class=\"toctext\" style=\"display: table-cell; text-decoration: inherit;\">References</span></a></li></ul></div><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Usefulness_and_limitations_of_income_statement\">Usefulness and limitations of income statement</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=1\" title=\"Edit section: Usefulness and limitations of income statement\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">Income statements may help investors and creditors determine the past financial performance of the enterprise, predict the future performance, and assess the capability of generating future cash flows using the report of income and expenses.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">However, information of an income statement has several limitations:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\">Items that might be relevant but cannot be reliably measured are not reported (<i>e.g.</i>, brand recognition and loyalty).</li><li style=\"margin-bottom: 0.1em;\">Some numbers depend on accounting methods used (<i>e.g.</i>, using&nbsp;<a href=\"https://en.wikipedia.org/wiki/FIFO_and_LIFO_accounting\" title=\"FIFO and LIFO accounting\" style=\"color: rgb(11, 0, 128); background-image: none;\">FIFO or LIFO accounting</a>&nbsp;to measure&nbsp;<a href=\"https://en.wikipedia.org/wiki/Inventory#Accounting_for_inventory\" title=\"Inventory\" style=\"color: rgb(11, 0, 128); background-image: none;\">inventory</a>&nbsp;level).</li><li style=\"margin-bottom: 0.1em;\">Some numbers depend on judgments and estimates (<i>e.g.</i>,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Depreciation\" title=\"Depreciation\" style=\"color: rgb(11, 0, 128); background-image: none;\">depreciation</a>&nbsp;expense depends on estimated useful life and salvage value).</li></ul><pre style=\"line-height: 1.3; font-family: monospace, monospace; color: rgb(0, 0, 0); background-color: rgb(248, 249, 250); border-color: rgb(234, 236, 240); padding: 1em; white-space: pre-wrap; overflow-x: hidden; font-size: 14px;\">                - INCOME STATEMENT GREENHARBOR LLC -\n                 For the year ended DECEMBER 31 2010\n  \n                                               \u20ac          \u20ac\n                                             Debit     Credit\nRevenues\nGROSS REVENUES (including INTEREST income)             296,397\n                                                      --------\nExpenses:\n  ADVERTISING                                6,300\n  BANK &amp; CREDIT CARD FEES                      144\n  BOOKKEEPING                                2,350\n  SUBCONTRACTORS                            88,000\n  ENTERTAINMENT                              5,550\n  INSURANCE                                    750\n  LEGAL &amp; PROFESSIONAL SERVICES              1,575\n  LICENSES                                     632\n  PRINTING, POSTAGE &amp; STATIONERY               320\n  RENT                                      13,000\n  MATERIALS                                 74,400\n  TELEPHONE                                  1,000\n  UTILITIES                                  1,491\n                                                       --------\n      TOTAL EXPENSES                                   (195,512)\n                                                       --------\nNET INCOME                                              100,885\n</pre><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">Guidelines for statements of comprehensive income and income statements of business entities are formulated by the&nbsp;<a href=\"https://en.wikipedia.org/wiki/International_Accounting_Standards_Board\" title=\"International Accounting Standards Board\" style=\"color: rgb(11, 0, 128); background-image: none;\">International Accounting Standards Board</a>&nbsp;and numerous country-specific organizations, for example the&nbsp;<a href=\"https://en.wikipedia.org/wiki/FASB\" class=\"mw-redirect\" title=\"FASB\" style=\"color: rgb(11, 0, 128); background-image: none;\">FASB</a>&nbsp;in the U.S..</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">Names and usage of different accounts in the income statement depend on the type of organization, industry practices and the requirements of different jurisdictions.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">If applicable to the business, summary values for the following items should be included in the income statement:<sup id=\"cite_ref-iasplus.com_5-0\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-iasplus.com-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6; font-family: sans-serif;\"><span class=\"mw-headline\" id=\"Operating_section\">Operating section</span><span class=\"mw-editsection\" style=\"-webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=2\" title=\"Edit section: Operating section\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\"><b><a href=\"https://en.wikipedia.org/wiki/Revenue\" title=\"Revenue\" style=\"color: rgb(11, 0, 128); background-image: none;\">Revenue</a></b>&nbsp;- Cash inflows or other enhancements of assets (including&nbsp;<a href=\"https://en.wikipedia.org/wiki/Accounts_receivable\" title=\"Accounts receivable\" style=\"color: rgb(11, 0, 128); background-image: none;\">accounts receivable</a>) of an entity during a period from delivering or producing goods, rendering services, or other activities that constitute the entity's ongoing major operations. It is usually presented as sales minus sales discounts, returns, and allowances. Every time a business sells a product or performs a service, it obtains revenue. This often is referred to as gross revenue or sales revenue.<sup id=\"cite_ref-6\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-6\" style=\"color: rgb(11, 0, 128); background-image: none;\">[6]</a></sup></li><li style=\"margin-bottom: 0.1em;\"><b><a href=\"https://en.wikipedia.org/wiki/Expenses\" class=\"mw-redirect\" title=\"Expenses\" style=\"color: rgb(11, 0, 128); background-image: none;\">Expenses</a></b>&nbsp;- Cash outflows or other using-up of assets or incurrence of liabilities (including&nbsp;<a href=\"https://en.wikipedia.org/wiki/Accounts_payable\" title=\"Accounts payable\" style=\"color: rgb(11, 0, 128); background-image: none;\">accounts payable</a>) during a period from delivering or producing goods, rendering services, or carrying out other activities that constitute the entity's ongoing major operations.<ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin-top: 0.3em; margin-right: 0px; margin-left: 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><b><a href=\"https://en.wikipedia.org/wiki/Cost_of_Goods_Sold\" class=\"mw-redirect\" title=\"Cost of Goods Sold\" style=\"color: rgb(11, 0, 128); background-image: none;\">Cost of Goods Sold</a>&nbsp;(COGS) /&nbsp;<a href=\"https://en.wikipedia.org/wiki/Cost_of_Sales\" class=\"mw-redirect\" title=\"Cost of Sales\" style=\"color: rgb(11, 0, 128); background-image: none;\">Cost of Sales</a></b>&nbsp;- represents the direct costs attributable to goods produced and sold by a business (manufacturing or merchandizing). It includes&nbsp;<i>material costs</i>,&nbsp;<i>direct labour</i>, and&nbsp;&nbsp;<i>overhead costs</i>&nbsp;(as in&nbsp;<a href=\"https://en.wikipedia.org/wiki/Absorption_costing\" class=\"mw-redirect\" title=\"Absorption costing\" style=\"color: rgb(11, 0, 128); background-image: none;\">absorption costing</a>), and excludes operating costs (period costs) such as selling, administrative, advertising or R&amp;D, etc.</li><li style=\"margin-bottom: 0.1em;\"><b>Selling, General and Administrative expenses (<a href=\"https://en.wikipedia.org/wiki/SG%26A\" title=\"SG&amp;A\" style=\"color: rgb(11, 0, 128); background-image: none;\">SG&amp;A</a>&nbsp;or SGA)</b>&nbsp;- consist of the combined payroll costs. SGA is usually understood as a major portion of non-production related costs, in contrast to production costs such as direct labour.<ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin-top: 0.3em; margin-right: 0px; margin-left: 1.6em; padding: 0px;\"><li style=\"margin-bottom: 0.1em;\"><b>Selling expenses</b>&nbsp;- represent expenses needed to sell products (e.g.,&nbsp;<i>salaries of sales people, commissions and travel expenses, advertising, freight, shipping, depreciation of sales store buildings and equipment</i>, etc.).</li><li style=\"margin-bottom: 0.1em;\"><b>General and Administrative (G&amp;A) expenses&nbsp;</b>- represent expenses to manage the business (<i>salaries of officers / executives, legal and professional fees, utilities, insurance, depreciation of office building and equipment, office rents, office supplies</i>, etc.).</li></ul></li><li style=\"margin-bottom: 0.1em;\"><b><a href=\"https://en.wikipedia.org/wiki/Depreciation\" title=\"Depreciation\" style=\"color: rgb(11, 0, 128); background-image: none;\">Depreciation</a>&nbsp;/&nbsp;<a href=\"https://en.wikipedia.org/wiki/Amortization\" title=\"Amortization\" style=\"color: rgb(11, 0, 128); background-image: none;\">Amortization</a></b>&nbsp;- the charge with respect to&nbsp;<a href=\"https://en.wikipedia.org/wiki/Fixed_assets\" class=\"mw-redirect\" title=\"Fixed assets\" style=\"color: rgb(11, 0, 128); background-image: none;\">fixed assets</a>&nbsp;/&nbsp;<a href=\"https://en.wikipedia.org/wiki/Intangible_assets\" class=\"mw-redirect\" title=\"Intangible assets\" style=\"color: rgb(11, 0, 128); background-image: none;\">intangible assets</a>&nbsp;that have been capitalised on the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Balance_sheet\" title=\"Balance sheet\" style=\"color: rgb(11, 0, 128); background-image: none;\">balance sheet</a>&nbsp;for a specific (accounting) period. It is a systematic and rational allocation of cost rather than the recognition of market value decrement.</li><li style=\"margin-bottom: 0.1em;\"><b>Research &amp; Development (R&amp;D) expenses</b>&nbsp;- represent expenses included in research and development.</li></ul></li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><i>Expenses</i>&nbsp;recognised in the income statement should be analysed either by&nbsp;<b>nature</b>&nbsp;(raw materials, transport costs, staffing costs, depreciation, employee benefit etc.) or by&nbsp;<b>function</b>&nbsp;(cost of sales, selling, administrative, etc.). (IAS 1.99) If an entity categorises by function, then additional information on the nature of expenses, at least, \u2013 depreciation, amortisation and employee benefits expense \u2013 must be disclosed. (IAS 1.104) The major exclusive of costs of goods sold, are classified as operating expenses. These represent the resources expended, except for inventory purchases, in generating the revenue for the period. Expenses often are divided into two broad sub classicifications selling expenses and administrative expenses.<sup id=\"cite_ref-7\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-7\" style=\"color: rgb(11, 0, 128); background-image: none;\">[7]</a></sup></p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6; font-family: sans-serif;\"><span class=\"mw-headline\" id=\"Non-operating_section\">Non-operating section</span><span class=\"mw-editsection\" style=\"-webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=3\" title=\"Edit section: Non-operating section\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\"><b>Other revenues or gains</b>&nbsp;- revenues and gains from other than primary business activities (e.g.,&nbsp;<i>rent</i>,&nbsp;<i>income from patents</i>, goodwill). It also includes unusual gains that are either unusual or infrequent, but not both (e.g.,&nbsp;<i>gain from sale of securities</i>&nbsp;or&nbsp;<i>gain from disposal of fixed assets</i>)</li><li style=\"margin-bottom: 0.1em;\"><b>Other expenses or losses</b>&nbsp;- expenses or losses not related to primary business operations, (e.g.,&nbsp;<i>foreign exchange loss</i>).</li><li style=\"margin-bottom: 0.1em;\"><b>Finance costs</b>&nbsp;- costs of borrowing from various creditors (e.g.,&nbsp;<i><a href=\"https://en.wikipedia.org/wiki/Interest_expense\" title=\"Interest expense\" style=\"color: rgb(11, 0, 128); background-image: none;\">interest expenses</a></i>,&nbsp;<i>bank charges</i>).</li><li style=\"margin-bottom: 0.1em;\"><b>Income tax expense</b>&nbsp;- sum of the amount of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Tax\" title=\"Tax\" style=\"color: rgb(11, 0, 128); background-image: none;\">tax</a>&nbsp;payable to tax authorities in the current reporting period (current tax liabilities/ tax payable) and the amount of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Deferred_tax\" title=\"Deferred tax\" style=\"color: rgb(11, 0, 128); background-image: none;\">deferred tax</a>&nbsp;liabilities (or assets).</li></ul><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6; font-family: sans-serif;\"><span class=\"mw-headline\" id=\"Irregular_items\">Irregular items</span><span class=\"mw-editsection\" style=\"-webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=4\" title=\"Edit section: Irregular items\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">They are reported separately because this way users can better predict future cash flows - irregular items most likely will not recur. These are reported&nbsp;<i><b>net of taxes</b></i>.</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\"><b><a href=\"https://en.wikipedia.org/wiki/Discontinued_operation\" class=\"mw-redirect\" title=\"Discontinued operation\" style=\"color: rgb(11, 0, 128); background-image: none;\">Discontinued operations</a></b>&nbsp;is the most common type of irregular items. Shifting business location(s), stopping production temporarily, or changes due to technological improvement do&nbsp;<b>not</b>&nbsp;qualify as discontinued operations. Discontinued operations&nbsp;<i>must</i>&nbsp;be shown separately.</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><b>Cumulative effect of changes in accounting policies (principles)</b>&nbsp;is the difference between the book value of the affected assets (or liabilities) under the old policy (principle) and what the book value would have been if the new principle had been applied in the prior periods. For example, valuation of inventories using&nbsp;<a href=\"https://en.wikipedia.org/wiki/FIFO_and_LIFO_accounting\" title=\"FIFO and LIFO accounting\" style=\"color: rgb(11, 0, 128); background-image: none;\">LIFO</a>&nbsp;instead of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Average_costing\" class=\"mw-redirect\" title=\"Average costing\" style=\"color: rgb(11, 0, 128); background-image: none;\">weighted average method</a>. The changes should be applied&nbsp;<b>retrospectively</b>&nbsp;and shown as adjustments to the&nbsp;<i>beginning</i>&nbsp;balance of affected components in&nbsp;<a href=\"https://en.wikipedia.org/wiki/Equity_(finance)\" title=\"Equity (finance)\" style=\"color: rgb(11, 0, 128); background-image: none;\">Equity</a>. All comparative financial statements should be restated. (IAS 8)</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">However,&nbsp;<i><b>changes in estimates</b></i>&nbsp;(e.g., estimated useful life of a fixed asset) only requires&nbsp;<b>prospective</b>&nbsp;changes. (IAS 8)</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><b>No</b>&nbsp;items may be presented in the income statement as&nbsp;<b>extraordinary items</b>&nbsp;under IFRS regulations, but are permissible under US GAAP. (IAS 1.87)&nbsp;<i>Extraordinary items</i>&nbsp;are both unusual (abnormal) and infrequent, for example, unexpected natural disaster, expropriation, prohibitions under new regulations. [Note: natural disaster might not qualify depending on location (e.g., frost damage would not qualify in Canada but would in the tropics).]</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">Additional items may be needed to fairly present the entity's results of operations. (IAS 1.85)</p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6; font-family: sans-serif;\"><span class=\"mw-headline\" id=\"Disclosures\">Disclosures</span><span class=\"mw-editsection\" style=\"-webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=5\" title=\"Edit section: Disclosures\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">Certain items must be disclosed separately in the notes (or the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Statement_of_comprehensive_income\" class=\"mw-redirect\" title=\"Statement of comprehensive income\" style=\"color: rgb(11, 0, 128); background-image: none;\">statement of comprehensive income</a>), if material, including:<sup id=\"cite_ref-iasplus.com_5-1\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-iasplus.com-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;(IAS 1.98)</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\">Write-downs of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Inventories\" class=\"mw-redirect\" title=\"Inventories\" style=\"color: rgb(11, 0, 128); background-image: none;\">inventories</a>&nbsp;to net realisable value or of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Property,_plant_and_equipment\" class=\"mw-redirect\" title=\"Property, plant and equipment\" style=\"color: rgb(11, 0, 128); background-image: none;\">property, plant and equipment</a>&nbsp;to recoverable amount, as well as&nbsp;<i>reversals</i>&nbsp;of such write-downs</li><li style=\"margin-bottom: 0.1em;\">Restructurings of the activities of an entity and&nbsp;<i>reversals</i>&nbsp;of any provisions for the costs of restructuring</li><li style=\"margin-bottom: 0.1em;\">Disposals of items of property, plant and equipment</li><li style=\"margin-bottom: 0.1em;\">Disposals of investments</li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Discontinued_operations\" class=\"mw-redirect\" title=\"Discontinued operations\" style=\"color: rgb(11, 0, 128); background-image: none;\">Discontinued operations</a></li><li style=\"margin-bottom: 0.1em;\">Litigation settlements</li><li style=\"margin-bottom: 0.1em;\">Other reversals of provisions</li></ul><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6; font-family: sans-serif;\"><span class=\"mw-headline\" id=\"Earnings_per_share\">Earnings per share</span><span class=\"mw-editsection\" style=\"-webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=6\" title=\"Edit section: Earnings per share\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">Because of its importance,&nbsp;<a href=\"https://en.wikipedia.org/wiki/Earnings_per_share\" title=\"Earnings per share\" style=\"color: rgb(11, 0, 128); background-image: none;\">earnings per share</a>&nbsp;(EPS) are required to be disclosed on the face of the income statement. A company which reports any of the irregular items must also report EPS for these items either in the statement or in the notes.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><span class=\"mwe-math-element\"><img src=\"https://wikimedia.org/api/rest_v1/media/math/render/svg/a31a01b5d52d3aa4981e9618e4f7d9bd15abfe4b\" class=\"mwe-math-fallback-image-inline\" aria-hidden=\"true\" alt=\"{\\text{Earnings per share}}={\\frac  {{\\text{Net income}}-{\\text{Preferred stock dividends}}}{{\\text{Weighted average of common stock shares outstanding}}}}\" style=\"vertical-align: -2.338ex; margin: 0px; display: inline-block; width: 77.443ex; height: 5.843ex;\"></span></p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">There are two forms of EPS reported:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\"><b>Basic</b>: in this case \u201cweighted average of shares outstanding\u201d includes only actual stocks outstanding.</li><li style=\"margin-bottom: 0.1em;\"><b>Diluted</b>: in this case \u201cweighted average of shares outstanding\u201d is calculated as if all stock options, warrants, convertible bonds, and other securities that could be transformed into shares&nbsp;<i>are</i>&nbsp;transformed. This increases the number of shares and so EPS decreases.&nbsp;<b>Diluted EPS is considered to be a more reliable way to measure EPS.</b></li></ul><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Sample_income_statement\">Sample income statement</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=7\" title=\"Edit section: Sample income statement\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">The following income statement is a very brief example prepared in accordance with&nbsp;<a href=\"https://en.wikipedia.org/wiki/IFRS\" class=\"mw-redirect\" title=\"IFRS\" style=\"color: rgb(11, 0, 128); background-image: none;\">IFRS</a>. It does not show all possible kinds of accounts, but it shows the most usual ones. Please note the difference between&nbsp;<a href=\"https://en.wikipedia.org/wiki/IFRS\" class=\"mw-redirect\" title=\"IFRS\" style=\"color: rgb(11, 0, 128); background-image: none;\">IFRS</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/US_GAAP\" class=\"mw-redirect\" title=\"US GAAP\" style=\"color: rgb(11, 0, 128); background-image: none;\">US GAAP</a>&nbsp;when interpreting the following sample income statements.</p><pre style=\"line-height: 1.3; font-family: monospace, monospace; color: rgb(0, 0, 0); background-color: rgb(248, 249, 250); border-color: rgb(234, 236, 240); padding: 1em; white-space: pre-wrap; overflow-x: hidden; font-size: 14px;\">Fitness Equipment Limited\n                                  INCOME STATEMENTS\n                                    (in millions)\n\n  Year Ended March 31,                         2009          2008           2007\n ----------------------------------------------------------------------------------\n  Revenue                                  $14,580.2      $11,900.4      $8,290.3\n  Cost of sales                             (6,740.2)      (5,650.1)     (4,524.2)\n                                         -------------   ------------  ------------\n  <i>Gross profit                               7,840.0        6,250.3       3,766.1  </i>\n                                         -------------   ------------  ------------\n\n  SGA expenses                              (3,624.6)      (3,296.3)     (3,034.0)\n                                         -------------   ------------  ------------\n  <i><b>Operating profit                        $  4,215.4     $  2,954.0     $   732.1  </b></i>\n                                         -------------   ------------  ------------\n\n  Gains from disposal of fixed assets           46.3            -             -\n  Interest expense                            (119.7)        (124.1)       (142.8)\n                                         -------------   ------------  ------------\n  Profit <i>before</i> tax                          4,142.0        2,829.9         589.3\n                                         -------------   ------------  ------------\n\n  Income tax expense                        (1,656.8)      (1,132.0)       (235.7)\n                                         -------------   ------------  ------------\n  <i><b>Profit (or loss) for the year           $  2,485.2     $  1,697.9     $   353.6  </b></i></pre><pre style=\"line-height: 1.3; font-family: monospace, monospace; color: rgb(0, 0, 0); background-color: rgb(248, 249, 250); border-color: rgb(234, 236, 240); padding: 1em; white-space: pre-wrap; overflow-x: hidden; font-size: 14px;\">DEXTERITY INC. AND SUBSIDIARIES\n                             CONSOLIDATED STATEMENTS OF OPERATIONS\n                                        (In millions)\n\n  Year Ended December 31,                                     2009         2008         2007\n ----------------------------------------------------------------------------------------------\n  <a href=\"https://en.wikipedia.org/wiki/Revenue\" title=\"Revenue\" style=\"color: rgb(11, 0, 128); background-image: none;\">Revenue</a>                                                  $36,525.9   $29,827.6   $21,186.8\n  <a href=\"https://en.wikipedia.org/wiki/Cost_of_sales\" class=\"mw-redirect\" title=\"Cost of sales\" style=\"color: rgb(11, 0, 128); background-image: none;\">Cost of sales</a>                                            (18,545.8)   (15,858.8)   (11,745.5)\n                                                         -----------  -----------  ------------\n  <i><a href=\"https://en.wikipedia.org/wiki/Gross_profit\" class=\"mw-redirect\" title=\"Gross profit\" style=\"color: rgb(11, 0, 128); background-image: none;\">Gross profit</a>                                              17,980.1     13,968.8      9,441.3  </i>\n                                                         -----------  -----------  ------------\n\n  Operating expenses:\n    <a href=\"https://en.wikipedia.org/wiki/SG%26A\" title=\"SG&amp;A\" style=\"color: rgb(11, 0, 128); background-image: none;\">Selling, general and administrative expenses</a>           (4,142.1)    (3,732.3)     (3,498.6)\n    <a href=\"https://en.wikipedia.org/wiki/Depreciation\" title=\"Depreciation\" style=\"color: rgb(11, 0, 128); background-image: none;\">Depreciation</a>                                             (602.4)      (584.5)       (562.3)\n    <a href=\"https://en.wikipedia.org/wiki/Amortization\" title=\"Amortization\" style=\"color: rgb(11, 0, 128); background-image: none;\">Amortization</a>                                             (209.9)      (141.9)       (111.8)\n    <a href=\"https://en.wikipedia.org/wiki/Impaired_asset\" title=\"Impaired asset\" style=\"color: rgb(11, 0, 128); background-image: none;\">Impairment loss</a>                                       (17,997.1)          \u2014            \u2014\n                                                         -----------  -----------  ------------\n  Total operating expenses                                (22,951.5)    (4,458.7)     (4,172.7)\n                                                         -----------  -----------  ------------\n  <i><b>Operating profit (or loss)                             $ (4,971.4)  $  9,510.1   $   5,268.6   </b></i>\n                                                         -----------  -----------  ------------\n\n  Interest income                                              25.3         11.7         12.0\n  Interest expense                                           (718.9)      (742.9)      (799.1)\n                                                         -----------  -----------  ------------\n  Profit (or loss) from continuing operations\n   <i>before</i> tax, share of profit (or loss) from\n   associates and non-controlling interest               $ (5,665.0)  $  8,778.9   $  4,481.5   <b></b>\n                                                         -----------  -----------  ------------\n\n  Income <a href=\"https://en.wikipedia.org/wiki/Tax\" title=\"Tax\" style=\"color: rgb(11, 0, 128); background-image: none;\">tax</a> expense                                       (1,678.6)    (3,510.5)    (1,789.9)\n  Profit (or loss) from <a href=\"https://en.wikipedia.org/wiki/Associate_company\" title=\"Associate company\" style=\"color: rgb(11, 0, 128); background-image: none;\">associates</a>, <i>net of tax</i>                (20.8)         0.1        (37.3)\n  Profit (or loss) from <a href=\"https://en.wikipedia.org/wiki/Non-controlling_interest\" class=\"mw-redirect\" title=\"Non-controlling interest\" style=\"color: rgb(11, 0, 128); background-image: none;\">non-controlling interest</a>,\n   <i>net of tax</i>                                                  (5.1)        (4.7)        (3.3)\n                                                         -----------  -----------  ------------\n  <b>Profit (or loss) from continuing operations            $ (7,348.7)  $  5,263.8   $  2,651.0  </b>\n                                                         -----------  -----------  ------------\n\n  Profit (or loss) from <a href=\"https://en.wikipedia.org/wiki/Discontinued_operations\" class=\"mw-redirect\" title=\"Discontinued operations\" style=\"color: rgb(11, 0, 128); background-image: none;\">discontinued operations</a>,\n   <i>net of tax</i>                                              (1,090.3)      (802.4)       164.6\n                                                         -----------  -----------  ------------\n  <b><i>Profit (or loss) for the year                          $ (8,439)  $  4,461.4   $  2,486.4</i></b></pre><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Bottom_line\">Bottom line</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=8\" title=\"Edit section: Bottom line\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">\u201cBottom line\u201d is the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Net_income\" title=\"Net income\" style=\"color: rgb(11, 0, 128); background-image: none;\">net income</a>&nbsp;that is calculated after subtracting the expenses from revenue. Since this forms the last line of the income statement, it is informally called \u201cbottom line.\u201d It is important to investors as it represents the profit for the year attributable to the shareholders.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">After revision to IAS 1 in 2003, the Standard is now using&nbsp;<b>profit or loss for the year</b>&nbsp;rather than&nbsp;<i>net profit or loss</i>&nbsp;or&nbsp;<i>net income</i>&nbsp;as the descriptive term for the bottom line of the income statement.</p><h2 style=\"color: rgb(0, 0, 0); background-image: none; margin: 1em 0px 0.25em; overflow: hidden; padding: 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(162, 169, 177); font-size: 1.5em; font-family: &quot;Linux Libertine&quot;, Georgia, Times, serif; line-height: 1.3;\"><span class=\"mw-headline\" id=\"Requirements_of_IFRS\">Requirements of IFRS</span><span class=\"mw-editsection\" style=\"font-family: sans-serif; -webkit-user-select: none; font-size: small; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=9\" title=\"Edit section: Requirements of IFRS\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h2><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">On 6 September 2007, the&nbsp;<a href=\"https://en.wikipedia.org/wiki/International_Accounting_Standards_Board\" title=\"International Accounting Standards Board\" style=\"color: rgb(11, 0, 128); background-image: none;\">International Accounting Standards Board</a>&nbsp;issued a revised&nbsp;<i>IAS 1: Presentation of Financial Statements</i>, which is effective for annual periods beginning on or after 1 January 2009.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">A business entity adopting IFRS must include:</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\">a&nbsp;<b>statement of comprehensive income</b>&nbsp;or</li><li style=\"margin-bottom: 0.1em;\"><i>two</i>&nbsp;separate statements comprising:</li></ul><dl style=\"margin-top: 0.2em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><dd style=\"margin-left: 1.6em; margin-bottom: 0.1em;\"><ol style=\"margin: 0.3em 0px 0px 3.2em; padding: 0px; list-style-image: none;\"><li style=\"margin-bottom: 0.1em;\">an&nbsp;<b>income statement</b>&nbsp;displaying components of profit or loss&nbsp;<i>and</i></li><li style=\"margin-bottom: 0.1em;\">a&nbsp;<i>statement of comprehensive income</i>&nbsp;that&nbsp;<i>begins</i>&nbsp;with profit or loss (bottom line of the income statement) and displays the items of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Other_comprehensive_income\" class=\"mw-redirect\" title=\"Other comprehensive income\" style=\"color: rgb(11, 0, 128); background-image: none;\">other comprehensive income</a>&nbsp;for the reporting period. (IAS1.81)</li></ol></dd></dl><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">All non-owner changes in equity (i.e.,&nbsp;<i>comprehensive income</i>&nbsp;) shall be presented in either in the statement of comprehensive income (or in a separate income statement and a statement of comprehensive income). Components of comprehensive income may not be presented in the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Statement_of_changes_in_equity\" title=\"Statement of changes in equity\" style=\"color: rgb(11, 0, 128); background-image: none;\">statement of changes in equity</a>.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><i><a href=\"https://en.wikipedia.org/wiki/Comprehensive_income\" title=\"Comprehensive income\" style=\"color: rgb(11, 0, 128); background-image: none;\">Comprehensive income</a></i>&nbsp;for a period includes profit or loss (net income) for that period and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Other_comprehensive_income\" class=\"mw-redirect\" title=\"Other comprehensive income\" style=\"color: rgb(11, 0, 128); background-image: none;\">other comprehensive income</a>&nbsp;recognised in that period.</p><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">All items of income and expense recognised in a period must be included in profit or loss unless a Standard or an Interpretation requires otherwise. (IAS 1.88) Some IFRSs require or permit that some components to be excluded from profit or loss and instead to be included in other comprehensive income. (IAS 1.89)</p><h3 style=\"color: rgb(0, 0, 0); background-image: none; font-weight: bold; margin: 0.3em 0px 0px; overflow: hidden; padding-top: 0.5em; padding-bottom: 0px; border-bottom-width: 0px; font-size: 1.2em; line-height: 1.6; font-family: sans-serif;\"><span class=\"mw-headline\" id=\"Items_and_disclosures\">Items and disclosures</span><span class=\"mw-editsection\" style=\"-webkit-user-select: none; font-size: small; font-weight: normal; margin-left: 1em; vertical-align: baseline; line-height: 1em; white-space: nowrap; unicode-bidi: isolate;\"><span class=\"mw-editsection-bracket\" style=\"margin-right: 0.25em; color: rgb(84, 89, 93);\">[</span><a href=\"https://en.wikipedia.org/w/index.php?title=Income_statement&amp;action=edit&amp;section=10\" title=\"Edit section: Items and disclosures\" style=\"color: rgb(11, 0, 128); background-image: none;\">edit</a><span class=\"mw-editsection-bracket\" style=\"margin-left: 0.25em; color: rgb(84, 89, 93);\">]</span></span></h3><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">The&nbsp;<b>statement of comprehensive income</b>&nbsp;should include:<sup id=\"cite_ref-iasplus.com_5-2\" class=\"reference\" style=\"line-height: 1; unicode-bidi: isolate; white-space: nowrap; font-size: 11.199999809265137px;\"><a href=\"https://en.wikipedia.org/wiki/P%26L#cite_note-iasplus.com-5\" style=\"color: rgb(11, 0, 128); background-image: none;\">[5]</a></sup>&nbsp;(IAS 1.82)</p><ol style=\"margin: 0.3em 0px 0px 3.2em; padding: 0px; list-style-image: none; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Revenue\" title=\"Revenue\" style=\"color: rgb(11, 0, 128); background-image: none;\">Revenue</a></li><li style=\"margin-bottom: 0.1em;\">Finance costs (including&nbsp;<a href=\"https://en.wikipedia.org/wiki/Interest_expense\" title=\"Interest expense\" style=\"color: rgb(11, 0, 128); background-image: none;\">interest expenses</a>)</li><li style=\"margin-bottom: 0.1em;\">Share of the profit or loss of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Associate_company\" title=\"Associate company\" style=\"color: rgb(11, 0, 128); background-image: none;\">associates</a>&nbsp;and&nbsp;<a href=\"https://en.wikipedia.org/wiki/Joint_ventures\" class=\"mw-redirect\" title=\"Joint ventures\" style=\"color: rgb(11, 0, 128); background-image: none;\">joint ventures</a>&nbsp;accounted for using the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Equity_method\" title=\"Equity method\" style=\"color: rgb(11, 0, 128); background-image: none;\">equity method</a></li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Tax\" title=\"Tax\" style=\"color: rgb(11, 0, 128); background-image: none;\">Tax</a>&nbsp;expense</li><li style=\"margin-bottom: 0.1em;\">A&nbsp;<i>single</i>&nbsp;amount comprising the total of (1) the&nbsp;<i>post-tax</i>&nbsp;profit or loss of&nbsp;<i><a href=\"https://en.wikipedia.org/wiki/Discontinued_operations\" class=\"mw-redirect\" title=\"Discontinued operations\" style=\"color: rgb(11, 0, 128); background-image: none;\">discontinued operations</a></i>&nbsp;and (2) the&nbsp;<i>post-tax</i>&nbsp;gain or loss recognised on the disposal of the assets or disposal group(s) constituting the&nbsp;<i>discontinued operation</i></li><li style=\"margin-bottom: 0.1em;\">Profit or loss</li><li style=\"margin-bottom: 0.1em;\">Each component of&nbsp;<a href=\"https://en.wikipedia.org/wiki/Other_comprehensive_income\" class=\"mw-redirect\" title=\"Other comprehensive income\" style=\"color: rgb(11, 0, 128); background-image: none;\">other comprehensive income</a>&nbsp;classified by nature</li><li style=\"margin-bottom: 0.1em;\">Share of the other comprehensive income of associates and joint ventures accounted for using the equity method</li><li style=\"margin-bottom: 0.1em;\"><a href=\"https://en.wikipedia.org/wiki/Total_comprehensive_income\" class=\"mw-redirect\" title=\"Total comprehensive income\" style=\"color: rgb(11, 0, 128); background-image: none;\">Total comprehensive income</a></li></ol><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\">The following items must also be disclosed in the statement of comprehensive income as allocations for the period: (IAS 1.83)</p><ul style=\"list-style-image: url(&quot;https://en.wikipedia.org/w/skins/Vector/resources/skins.vector.styles/images/bullet-icon.svg?872f1&quot;); margin: 0.3em 0px 0px 1.6em; padding: 0px; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><li style=\"margin-bottom: 0.1em;\">Profit or loss for the period attributable to&nbsp;<a href=\"https://en.wikipedia.org/wiki/Non-controlling_interest\" class=\"mw-redirect\" title=\"Non-controlling interest\" style=\"color: rgb(11, 0, 128); background-image: none;\">non-controlling interests</a>&nbsp;and owners of the&nbsp;<a href=\"https://en.wikipedia.org/wiki/Parent_company\" title=\"Parent company\" style=\"color: rgb(11, 0, 128); background-image: none;\">parent</a></li><li style=\"margin-bottom: 0.1em;\">Total comprehensive income attributable to non-controlling interests and owners of the parent</li></ul><p style=\"margin-top: 0.5em; margin-bottom: 0.5em; caret-color: rgb(34, 34, 34); color: rgb(34, 34, 34); font-family: sans-serif; font-size: 14px;\"><i>No</i>&nbsp;items may be presented in the statement of comprehensive income (or in the income statement, if separately presented) or in the notes as&nbsp;<i>extraordinary items</i>.</p><br class=\"Apple-interchange-newline\">", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "p_l_report", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,1,4,0,$,0,,0", "originalId": null, "picture": null, "title": "P&L report", "units": null, "w": 131, "x": 1008, "y": 651, "z": 2}, {"color": "#dcdcdc", "definition": "result = create_report({'Revenue':revenue_projection,\n                        'Production Costs':cogs,\n                        'Op. Margin':revenue_projection-cogs}, \n                        reportIndexName='Report index', reportIndex=None )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "o_m_report", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,1,4,0,$,0,,0", "originalId": null, "picture": null, "title": "Operation Margin Report", "units": "$", "w": 131, "x": 1008, "y": 407, "z": 2}, {"color": "#4cffa6", "definition": "result = cost_sel_scenario", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "ad098d7e768c24fb2b1d0f18f5566d60b", "moduleId": "index_definitions", "nodeClass": "formnode", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": "cost_sel_scenario", "picture": null, "title": "Cost Selected Scenario", "units": null, "w": "328", "x": 336, "y": 492, "z": 1}, {"color": "#4CBCFF", "definition": "_vol_projection = elastic_volume_projection__#.sum(sales_channel.name)\nresult = _vol_projection / _vol_projection.sum([region.name,sales_channel.name])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "cost_absortion", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Cost Absortion", "units": null, "w": 131, "x": 667, "y": 298, "z": 1}, {"color": "#4CBCFF", "definition": "result = production_costs * cost_absortion", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "cogs", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "COGS", "units": null, "w": 131, "x": 667, "y": 359, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(['No Discount','Selective','All 25'])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "33", "identifier": "discount_scenarios", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Discount Scenarios", "units": null, "w": "135", "x": 68, "y": 320, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(['No Stock','Minimum','Summer'])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "33", "identifier": "stock_scenarios", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Stock Scenarios", "units": null, "w": "135", "x": 68, "y": 403, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(['Base','Pesimistic','Optimistic'])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "33", "identifier": "cost_scenarios", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Costs Scenarios", "units": null, "w": "135", "x": 68, "y": 491, "z": 1}, {"color": "#4cffa6", "definition": "result = selector(discount_scenarios,1,False)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "discount_selector", "moduleId": "index_definitions", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Discount Selector", "units": null, "w": "328", "x": 336, "y": 289, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index([cost_sel_scenario.value])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "33", "identifier": "cost_selected_scenario", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Cost selected scenario", "units": null, "w": "135", "x": 673, "y": 491, "z": 1}, {"color": "#4cffa6", "definition": "result = discount_selector", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "a626f410c2fc5493399790e3771eaf441", "moduleId": "index_definitions", "nodeClass": "formnode", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": "discount_selector", "picture": null, "title": "Discount Selector", "units": null, "w": "328", "x": 336, "y": 321, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index([discount_selector.value])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "33", "identifier": "disc_sel_scenario", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Discount Selected Scenario", "units": null, "w": "135", "x": 674, "y": 320, "z": 1}, {"color": "#4cffa6", "definition": "result = selector(stock_scenarios,2,False)", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "stock_policy_selector", "moduleId": "index_definitions", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Stock Policy Selector", "units": null, "w": "328", "x": 336, "y": 372, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index([stock_policy_selector.value])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "33", "identifier": "stock_sel_scenario", "moduleId": "index_definitions", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Stock Selected Scenario", "units": null, "w": "135", "x": 673, "y": 403, "z": 1}, {"color": "#4cffa6", "definition": "result = stock_policy_selector", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "ad18c2313e3434fdbb61accedb4b4653f", "moduleId": "index_definitions", "nodeClass": "formnode", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": "stock_policy_selector", "picture": null, "title": "Stock Policy Selector", "units": null, "w": "328", "x": 336, "y": 404, "z": 1}, {"color": "#4cffa6", "definition": "result = selector(cost_scenarios,1,False)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cost_sel_scenario", "moduleId": "index_definitions", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Cost Selected Scenario", "units": null, "w": "328", "x": 336, "y": 461, "z": 1}, {"color": "#ffff00", "definition": "result = xr.DataArray([[[     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,150000],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0],  [     0, 50000,     0]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,800000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000],  [     0,300000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]], [[     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,800000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000],  [     0,500000,500000]]],[item_type,time,stock_scenarios])", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "35", "identifier": "stock_goal_scen", "moduleId": "index_definitions", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": "2,I,4,,1,0,4,0,$,5,,0", "originalId": null, "picture": null, "title": "Stock Goal Scenarios", "units": null, "w": "104", "x": 216, "y": 402, "z": 1}, {"color": "#98fb98", "definition": "result = change_index(stock_goal_scen,stock_scenarios,stock_sel_scenario).squeeze(drop=True)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "stock_goal_sel", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Stock Goal Selection", "units": null, "w": 131, "x": 20, "y": 420, "z": 1}, {"color": "#98fb98", "definition": "result = change_index(discount,discount_scenarios,disc_sel_scenario).squeeze(drop=True)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "discount_sel", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Discount Selection", "units": null, "w": 131, "x": 338, "y": 91, "z": 1}, {"color": "#98fb98", "definition": "result = change_index( unitary_costs, cost_scenarios, cost_selected_scenario).squeeze(drop=True)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "unitary_costs1", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Unitary Costs", "units": null, "w": 131, "x": 509, "y": 421, "z": 1}, {"color": "#9FC5E8", "definition": "", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 50, "identifier": "index_definitions", "moduleId": "creating_my_first_model", "nodeClass": "module", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Index Definitions", "units": null, "w": 100, "x": 159, "y": 730, "z": 1}, {"color": "#efefef", "definition": "", "description": "Standard Index Definition", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "192", "identifier": "a9d5ceafc437944b699a72a1296f8fd1f", "moduleId": "index_definitions", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": "184", "x": 43, "y": 61, "z": -1}, {"color": "#efefef", "definition": "", "description": "Hierarchical Index Definition", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "192", "identifier": "a9d5ceafc437944b699a72a1296f8fd1f1", "moduleId": "index_definitions", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": "352", "x": 491, "y": 61, "z": -1}, {"color": "#efefef", "definition": "", "description": "Scenarios Selectors and Index Definition", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "272", "identifier": "a9d5ceafc437944b699a72a1296f8fd1f2", "moduleId": "index_definitions", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": "801", "x": 42, "y": 263, "z": -1}, {"color": "#cb98ff", "definition": "def _fn(dataarray_node):\n    return dataarray_node.stack( z=dataarray_node.dims).to_dataframe(\"value\")\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "40", "identifier": "pandas_from_dataarray_copy", "moduleId": "index_definitions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pandas from DataArray", "units": null, "w": "100", "x": 345, "y": 563, "z": 1}, {"color": "#4cffa6", "definition": "result = selector(hist_sales_db['Item Type'].unique(),[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11],True)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "35", "identifier": "item_type_selector", "moduleId": "index_definitions", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Item Type Selector", "units": null, "w": "181", "x": 268, "y": 96, "z": 1}, {"color": "#efefef", "definition": "", "description": "Standard Index Selectors", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "192", "identifier": "a9d5ceafc437944b699a72a1296f8fd1f4", "moduleId": "index_definitions", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": "242", "x": 238, "y": 61, "z": -1}, {"color": "#4cffa6", "definition": "result = selector( hist_sales_db['Sales Channel'].unique(),[0, 1],True)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "35", "identifier": "sales_channel_selector", "moduleId": "index_definitions", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Sales Channel Selector", "units": null, "w": "181", "x": 268, "y": 131, "z": 1}, {"color": "#4cffa6", "definition": "result = selector(time ,[0,35],True)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "44", "identifier": "time_selector", "moduleId": "time_related_indexes", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Time selector (use as range min-max)", "units": null, "w": "185", "x": 83, "y": 198, "z": 1}, {"color": "#f9cb75", "definition": "df = pandas_from_dataarray(operations_report).reset_index()\ndf = df[(df[\"time\"]>=time_selector.value[0]) & (df[\"time\"]<=time_selector.value[1]) ]\nif len(df)>0:\n    df = df[df[\"item_type\"]==item_type_filter.value]\n    \n\n\nresult = df", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "dash_operations_report", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dash Operations Report", "units": null, "w": 131, "x": 1172, "y": 537, "z": 1}, {"color": "#4cffa6", "definition": "result = selector(hist_sales_db['Item Type'].unique(),0,False)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "item_type_filter", "moduleId": "creating_my_first_model", "nodeClass": "decision", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Item type filter", "units": null, "w": 131, "x": 1172, "y": 479, "z": 1}, {"color": "#f9cb75", "definition": "df = pandas_from_dataarray(unitary_costs1).reset_index()\n\nresult = df", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "dash_unitary_costs", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dash Unitary Costs", "units": null, "w": 131, "x": 1172, "y": 229, "z": 1}, {"color": "#f9cb75", "definition": "df = pandas_from_dataarray(discount_sel).reset_index()\ndf = df[(df[\"time\"]>=time_selector.value[0]) & (df[\"time\"]<=time_selector.value[1]) ]\n\nresult = df", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "dash_discount_selection", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dash Discount Selection", "units": null, "w": 131, "x": 1172, "y": 136, "z": 1}, {"color": "#f9cb75", "definition": "df = pandas_from_dataarray(stock_goal_sel).reset_index()\ndf = df[(df[\"time\"]>=time_selector.value[0]) & (df[\"time\"]<=time_selector.value[1]) ]\n\nresult = df", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "dash_stock_selection", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dash Stock Selection", "units": null, "w": 131, "x": 1172, "y": 301, "z": 1}, {"color": "#f9cb75", "definition": "df = pandas_from_dataarray(o_m_report).reset_index()\n\ndf = df[(df[\"time\"]>=time_selector.value[0]) & (df[\"time\"]<=time_selector.value[1]) ]\nif len(df)>0:\n    df = df[df[\"Report index\"]==report_index_selector.value]\nif len(df)>0:\n    df = df[df[\"item_type\"].isin(item_type_selector.value)]\n\nresult = df", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "dash_operation_margin_report", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dash Operation Margin Report", "units": null, "w": 131, "x": 1172, "y": 407, "z": 1}, {"color": "#4cffa6", "definition": "result = selector( ['Revenue', 'Production Costs', 'Op. Margin'],0,False)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "report_index_selector", "moduleId": "creating_my_first_model", "nodeClass": "decision", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Report Index Selector", "units": null, "w": 131, "x": 1172, "y": 353, "z": 1}, {"color": "#f9cb75", "definition": "df = pandas_from_dataarray(p_l_report).reset_index()\ndf = df[(df[\"time\"]>=time_selector.value[0]) & (df[\"time\"]<=time_selector.value[1]) ]\n\nif time_group_selector.value==\"by Year\":\n    df[\"time\"] = df[\"time\"].str[:-3]\n    df = df.groupby([\"time\",\"Report index\"],as_index=False).sum()\n\n\ndf = pd.pivot_table( df, values=\"value\", index=[\"Report index\"], columns=[\"time\"], aggfunc=np.sum)\n\n#fix index order\ndf = df.reindex(p_l_report.coords[\"Report index\"].values)\n\nresult = df.reset_index()", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "dash_p_l_report", "moduleId": "creating_my_first_model", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dash P&L Report", "units": null, "w": 131, "x": 1172, "y": 651, "z": 1}, {"color": "#efefef", "definition": null, "description": "Reports - Dash UI", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 659, "identifier": "af81dd019664c4ba9b017da1ca0e3d1e0_copy5", "moduleId": "creating_my_first_model", "nodeClass": "text", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": 350, "x": 982, "y": 58, "z": -1}, {"color": "#4cffa6", "definition": "result = selector([\"by Month\",\"by Year\"],0,False)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 36, "identifier": "time_group_selector", "moduleId": "creating_my_first_model", "nodeClass": "decision", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Time group selector", "units": null, "w": 131, "x": 1172, "y": 594, "z": 1}, {"color": "#9fc5e8", "definition": "", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 61, "identifier": "pyplan_xarray_extensions", "moduleId": "pyplan_library", "nodeClass": "module", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pyplan XArray Extensions", "units": null, "w": 116, "x": 100, "y": 100, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(pypi_name,import_name=None):\n    \"\"\" Install library from pypi or .libs dir\n    pypi_name : Library name in pypi\n    import_name: library name for use in import\n    \"\"\"\n    import importlib\n    import os\n    \n    def _exists_module(import_name):\n        try:\n            importlib.import_module(import_name)\n            return True\n        except ImportError:\n            return False\n\n    if import_name is None:\n        import_name = pypi_name\n        \n    if not _exists_module(import_name):\n        #check in lib folder\n        #install lib\n        os.system(f\"pip install {pypi_name}\")\n        \n        importlib.invalidate_caches()\n        \n        if not _exists_module(import_name):\n            raise ValueError(f\"Can't install the module '{import_name}'\")\n    return True\n    \n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "install_library", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Install Library", "units": null, "w": 179, "x": 306, "y": 497, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(dataArray,domainDic, defaultValue=None):\n    _da = dataArray\n    for key in domainDic:\n        _da = _da.reindex({key:domainDic[key].values})\n        _da = _da.rename({key:domainDic[key].name})\n    if not defaultValue is None:\n        _da = _da.fillna(defaultValue)\n    return _da\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "set_domain", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Set domain", "units": null, "w": 179, "x": 107, "y": 90, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(values,name=\"Report\", report_index=None):\n    \"\"\" DEPRECATED. Use the create_report function instead \"\"\"\n    _titles = [str(xx.name) for xx in values]\n    _index = None\n    if report_index is None:\n        _index = pd.Index( _titles, name=name)\n    else:\n        _index = report_index\n    \n    return xr.concat(values,_index)\n\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "build_report", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Build Report", "units": null, "w": 179, "x": 107, "y": 127, "z": 1}, {"color": null, "definition": "def _fn(filepath, useOpenpyxl=False, dataOnly=True, readOnly=True ):\r\n    \"\"\" Create excel object from filepath.\r\n    filepath: path to excel file\r\n    useOpenpyxl: True for use custom \r\n    dataOnly: True for view only the values, not formula\r\n    readOnly: True for read only, False for write options\r\n    Ex.\r\n            excel_connection(\"\\path\\to\\the\\excelfile.xlsx\")\r\n    \"\"\"\r\n    import os\r\n    \r\n\r\n    if self.model.isLinux():\r\n        filepath = filepath.replace(\"\\\\\",\"/\")        \r\n\r\n    fullFilename=filepath\r\n    \r\n    if not os.path.isfile(fullFilename):\r\n        fullFilename = self.node.model.getNode(\"current_path\").result + filepath     \r\n        \r\n\r\n    if os.path.isfile(fullFilename):\r\n        if useOpenpyxl:\r\n            from openpyxl import load_workbook\r\n            return load_workbook(fullFilename, data_only=dataOnly, read_only=readOnly)\r\n        else:\r\n            return filepath\r\n    else:\r\n        raise ValueError(\"File not found\") \r\n        \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "excel_connection", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Excel connection", "units": null, "w": 179, "x": 306, "y": 90, "z": 1}, {"color": null, "definition": "def _fn(value,coords,dtype=None):\n    _data = np.full( tuple([(len(x)) for x in coords]),value, dtype=dtype )\n    return xr.DataArray( _data, coords )\n\nresult = _fn\n", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "create_dataarray", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Create dataArray", "units": null, "w": 179, "x": 107, "y": 164, "z": 1}, {"color": null, "definition": "def _fn(excel,sheetName=None,namedRange=None,cellRange=None, indexes=None, driver=\"Driver={Microsoft Excel Driver (*.xls, *.xlsx, *.xlsm, *.xlsb)};DBQ=%s;READONLY=TRUE\"):\n    \"\"\" return a pandas dataframe from excel.\n    excel: path to excel file or cp.excel object\n    sheetName: sheet name to be read\n    namedRange: name of the range to be read\n    cellRange: used with sheetname, for read from a simple range\n    indexes: Listo of columns names for convert to index of dataframe\n        Ex.\n            pandas_from_excel(excelNode,\"Sheet 1\")\n            pandas_from_excel(excelNode,namedRange=\"name_range\")\n            pandas_from_excel(excelNode,\"Sheet 1\",cellRange=\"A1:H10\")\n    \"\"\"\n    if isinstance(excel,str):\n        import os\n        \n        \n        if not os.path.isfile(excel):\n            excel = os.path.join(self.model.getNode(\"current_path\").result,excel)\n            \n            \n        if self.model.isLinux():\n            filename=excel\n            target_dir, single_filename = os.path.split(filename)\n            file_name, file_extension = os.path.splitext(single_filename)\n            target_dir = os.path.join(target_dir, file_name)\n            \n            file_to_read_legacy = os.path.join(target_dir, (f\"{namedRange if namedRange else ''}.pkl\"))\n            target_dir = f\"{target_dir[:target_dir.rfind('/')+1]}.{target_dir[target_dir.rfind('/')+1:]}\"\n            file_to_read = os.path.join(target_dir, f\"{namedRange if namedRange else ''}.pkl\") if os.path.isfile(os.path.join(target_dir, f\"{namedRange if namedRange else ''}.pkl\")) else file_to_read_legacy\n            \n            if os.path.isfile(file_to_read):\n                df = pd.read_pickle(file_to_read,compression='gzip')\n                if not indexes is None:\n                    df.set_index(indexes,inplace=True)\n                return df\n            else:\n                from openpyxl import load_workbook\n                _wb = load_workbook(filename, data_only=True, read_only=True)\n                return _fn(_wb,sheetName,namedRange,cellRange,indexes)\n        else:\n            \n            import pyodbc\n    \n            cnxn = pyodbc.connect(driver % excel, autocommit=True)\n            cursor = cnxn.cursor()\n            table = \"\"\n            if not sheetName is None: \n                table = \"[\"+sheetName+\"$]\"\n            if not namedRange is None:\n                table = \"[\"+namedRange+\"]\"\n            if not cellRange is None:\n                table = \"[\"+sheetName+\"$\"+cellRange+\"]\"\n    \n            cursor.execute(\"SELECT * FROM \" + table)\n            rows = cursor.fetchall()\n            columnNames = [str(x[0]) for x in cursor.description]\n            cnxn.close()\n    \n            _df = pd.DataFrame.from_records(rows,None,None,columnNames)\n            _df = _df.dropna(how =\"all\")\n            if not indexes is None:\n                _df.set_index(indexes,inplace=True)\n            return _df\n    else:\n        \n        if \"openpyxl.workbook\" in str(type(excel)):\n            rangeToRead = None\n            if not namedRange is None:\n                the_range = excel.defined_names[namedRange]\n                dests = the_range.destinations\n                for title, coord in dests:\n                    ws = excel[title]\n                    rangeToRead=ws[coord]\n            elif not cellRange is None:\n                ws = excel[sheetName]\n                rangeToRead = ws[cellRange]\n            else: \n                rangeToRead = excel[sheetName]\n            nn=0\n            cols=[]\n            values = []\n            for row in rangeToRead:\n                if nn==0:\n                    cols = [str(c.value) for c in row]\n                else:\n                    values.append([c.value for c in row]) \n                nn+=1\n            df = pd.DataFrame(values,None,cols)\n            if not indexes is None:\n                if isinstance(indexes,str):\n                    indexes=[indexes]\n                toIndex = []\n                for indexColumn in indexes:\n                    if indexColumn in df.columns.values:\n                        toIndex.append(indexColumn)\n                if len(toIndex)>0:\n                    df.set_index(toIndex, inplace=True)\n            return df.dropna(how =\"all\")\n        else:\n            raise ValueError(\"excel can be cp.excel object\") \n            \n            \nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "pandas_from_excel", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pandas from excel", "units": null, "w": 179, "x": 304, "y": 238, "z": 1}, {"color": null, "definition": "def _fn(dataframe, columnName=None, removeEmpty=True):\r\n    \"\"\" Return a pd.Index from an column of a pandas dataframe.\r\n    dataframe: pandas dataframe\r\n    columnName: dataframe column name used for create cp.index. By default is created using the first column\r\n    removeEmpty: True for remove empty rows\r\n        Ex.\r\n            index_from_pandas(df)\r\n            index_from_pandas(df,\"column10\")\r\n    \"\"\"                \r\n    \r\n    _serie= None\r\n    if columnName is None:\r\n        _serie=dataframe[dataframe.columns[0]]\r\n    else:\r\n        _serie=dataframe[columnName]\r\n\r\n    if removeEmpty:\r\n        _serie.dropna(inplace=True)\r\n        if kind_to_string( _serie.dtype.kind )==\"string\" or kind_to_string(_serie.dtype.kind )==\"object\":\r\n            _serie = _serie[_serie!=\"\"]\r\n\r\n    return pd.Index(_serie.unique())\r\n\r\n            \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "index_from_pandas", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Index from Pandas", "units": null, "w": 179, "x": 304, "y": 275, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(kind):\n    \"\"\"Returns the data type on human-readable string\n    \"\"\"\n    if kind in {'U', 'S'}:\n        return \"string\"\n    elif kind in {'b'}:\n        return \"boolean\"\n    elif kind in {'i','u','f','c'}:\n        return \"numeric\"\n    elif kind in {'m','M'}:\n        return \"date\"\n    elif kind in {'O'}:\n        return \"object\"\n    elif kind in {'V'}:\n        return \"void\"\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "kind_to_string", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Kind to String", "units": null, "w": 179, "x": 304, "y": 201, "z": 1}, {"color": null, "definition": "def _fn(excel, sheetName=None,namedRange=None,cellRange=None, columnName=None, removeEmpty=True):\r\n    \"\"\" Return a pd.Index from an excel file.\r\n    excel: pp.excel object\r\n    sheetName: sheet name to be read\r\n    namedRange: name of the range to be read\r\n    cellRange: used with sheetname, for read from a simple range\r\n    columnName: dataframe column name used for create pp.index. By default is created using the first column\r\n    removeEmpty: True for remove empty rows\r\n        Ex.\r\n            index_from_excel(excelNode,\"Sheet 1\")\r\n            index_from_excel(excelNode,namedRange=\"name_range\")\r\n            index_from_excel(excelNode,namedRange=\"name_range\", columnName=\"indicadores\")\r\n    \"\"\"                \r\n    if isinstance(excel,str) or \"openpyxl.workbook\" in str(type(excel)):\r\n        _df = pandas_from_excel(excel,sheetName,namedRange,cellRange)\r\n        return index_from_pandas(_df,columnName,removeEmpty)\r\n    else:\r\n        raise ValueError(\"excel can be excel_connection object or a str path to the filename\")\r\n\r\n            \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "index_from_excel", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Index from Excel", "units": null, "w": 179, "x": 304, "y": 312, "z": 1}, {"color": null, "definition": "def _fn(excel, sheetName=None,namedRange=None,cellRange=None, indexes=None, valueColumns=None, indexColumnHeaders=None, replaceByIndex=None, defaultValue=0):\r\n    \"\"\" Return a xr.DataArray from excel file.\r\n    excel: excel_connection object.\r\n    sheetName: sheet name to be read\r\n    namedRange: name of the range to be read.\r\n    cellRange: used with sheetName to read from a simple range.\r\n    indexes: pd.Index objects to perform a change_index operation.\r\n    valueColumns: string with the column name of the dataframe that contains the values.\r\n                pd.Index with column names to convert columns to index.\r\n    indexColumnHeaders: (optional) column names in pandas to parse with indexes. Used if header on dataframe is not equal to index identifiers.\r\n    replaceByIndex: (optional) replace index used in valueColumns by this index (using change_index).\r\n\r\n        Ex.\r\n            dataarray_from_excel(excelNode,\"Sheet 1\",indexes=[indicadores],valueColumns=\"descuentos\")\r\n            pp.dataarray_from_excel(excelNode,namedRange=\"nombre_rango\",indexes=[indicadores],valueColumns=time)\r\n    \"\"\"\r\n\r\n    dataframe = pandas_from_excel(excel,sheetName,namedRange,cellRange)\r\n    # Check size of dataframe. If it is empty, create empty dataArray. Else, proceed\r\n    if len(dataframe) == 0:\r\n        if not isinstance(indexes, list):\r\n            indexes = [indexes]\r\n        if isinstance(valueColumns, pd.Index):\r\n            indexes.append(valueColumns)\r\n        \r\n        _data = np.full(tuple([(len(x)) for x in indexes]), defaultValue)\r\n        return xr.DataArray(_data, indexes)\r\n    else:\r\n        valueIndex=None\r\n        if isinstance(valueColumns,pd.Index):\r\n            valueIndex = valueColumns\r\n            valueColumns = valueIndex.values\r\n        elif isinstance(valueColumns,str):\r\n            valueColumns = [valueColumns]\r\n    \r\n        if indexColumnHeaders is None:\r\n            indexColumnHeaders = [index.name for index in indexes]\r\n            \r\n        # Create total index and index names\r\n        _allindexes = indexes\r\n        _allIndexNames = indexColumnHeaders[:]\r\n        if not valueIndex is None:\r\n            _allindexes.append(valueIndex)\r\n            _allIndexNames.append(\"data_index\")    \r\n            \r\n        #fill other columns for prevent melt error\r\n        cols_not_in_df = [col for col in valueColumns if col not in dataframe.columns]\r\n        for col in cols_not_in_df:\r\n            dataframe[col] = np.nan\r\n    \r\n        _full = dataframe.reset_index().melt(id_vars=indexColumnHeaders,value_vars=valueColumns, var_name=\"data_index\", value_name=\"data_value\")\r\n        \r\n        # sum for acum over duplicate records\r\n        _full = _full.groupby(_allIndexNames, as_index=False).sum()\r\n        _dtype = _full[\"data_value\"].dtype\r\n        \r\n        _dataType = kind_to_string(_dtype.kind )\r\n        if _dataType==\"string\":\r\n            _full = _full[ (_full[\"data_value\"]!=\"\") & (_full['data_value'].notna()) ]\r\n        else:\r\n            _full = _full[ (_full[\"data_value\"]!=0) & (_full['data_value'].notna()) ]\r\n    \r\n        _full.set_index(_allIndexNames, inplace=True)\r\n        _da = _full[\"data_value\"].to_xarray()  \r\n    \r\n        # If indexed, rename index\r\n        if not indexes is None and not indexColumnHeaders is None:\r\n            if not isinstance(indexes,list):\r\n                indexes = [indexes]\r\n            idxPos=0\r\n            for cubeIndex in indexes:\r\n                newIndexName=cubeIndex.name\r\n                if idxPos<= len(indexColumnHeaders)-1:\r\n                    oldIndexName=indexColumnHeaders[idxPos]\r\n                    if not newIndexName in _da.coords:\r\n                        _da.coords[newIndexName] = _da.coords[oldIndexName]\r\n                        _da = _da.swap_dims({oldIndexName:newIndexName}).drop(oldIndexName)\r\n                    idxPos+=1\r\n                    # Reindex to complete combinations\r\n                    _da = _da.reindex({newIndexName:cubeIndex.values})\r\n    \r\n        if not valueIndex is None:\r\n            newIndexName=valueIndex.name\r\n            oldIndexName=\"data_index\"\r\n            if not newIndexName in _da.coords:\r\n                _da.coords[newIndexName] = _da.coords[oldIndexName]\r\n                _da = _da.swap_dims({oldIndexName:newIndexName}).drop(oldIndexName)\r\n            # Reindex to complete combinations\r\n            _da = _da.reindex({newIndexName:valueIndex.values})\r\n    \r\n            if not replaceByIndex is None:\r\n                _da = change_index(_da,valueIndex,replaceByIndex, 2 )    \r\n                \r\n        return _da.fillna(defaultValue)\r\n\r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "dataarray_from_excel", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "DataArray from Excel", "units": null, "w": 179, "x": 306, "y": 386, "z": 1}, {"color": null, "definition": "def _fn(dataArray, indexes, values):\r\n    \"\"\"\r\n    Filter dataArray using the filterList filters. \r\n\r\n    dataArray: dataArray to be filtered\r\n    indexes: the index to filter \r\n    values: the value to filter \r\n        Ex.\r\n            subscript(dataArray, index, value)\r\n    \"\"\"\r\n    if not isinstance(dataArray,xr.DataArray):\r\n        raise ValueError(\"the 'dataArray' parameter must be of the type xr.DataArray\")\r\n\r\n    if not isinstance(indexes,list):\r\n        indexes = [indexes]\r\n    if not isinstance(values,list):\r\n        values = [values]\r\n        \r\n    res = dataArray\r\n    filterDic = {}\r\n    for _pos, indexItem in enumerate(indexes):\r\n        filterDic[indexItem.name] = values[_pos]\r\n\r\n    if len(filterDic)>0:\r\n        res = res.sel(filterDic, drop=True)\r\n\r\n    return res\r\n        \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "subscript", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Subscript", "units": null, "w": 179, "x": 306, "y": 127, "z": 1}, {"color": null, "definition": "def _fn(dataArray,oldIndex,newIndex,compareMode=1,defaultValue=None):\r\n    \"\"\" Change index of a dataArray object.\r\n    \"\"\"\r\n    _da = dataArray\r\n\r\n\r\n    if compareMode==1:\r\n        _temp = _da.reindex({oldIndex.name:newIndex.values})\r\n        _temp[newIndex.name] = _temp[oldIndex.name]\r\n        _temp = _temp.swap_dims({oldIndex.name:newIndex.name}).drop(oldIndex.name)\r\n        if not defaultValue is None:\r\n            _temp = _temp.fillna(defaultValue)\r\n        return _temp\r\n    else:\r\n\r\n        if len(oldIndex.values) == len(newIndex.values):\r\n            _tmp = _da.copy()\r\n            _tmp.coords[newIndex.name] = _tmp.coords[oldIndex.name]\r\n            _tmp.coords[newIndex.name].data = newIndex.values\r\n            _tmp = _tmp.swap_dims({oldIndex.name : newIndex.name}).drop(oldIndex.name)\r\n            return _tmp\r\n        elif len(oldIndex.values) > len(newIndex.values):\r\n            raise ValueError(\"Changeindex by pos for indices of different size is not implemented\")\r\n        else:\r\n            raise ValueError(\"Changeindex by pos for indices of different size is not implemented\")\r\n    \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "change_index", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Change index", "units": null, "w": 179, "x": 306, "y": 164, "z": 1}, {"color": null, "definition": "def _fn(date_start,date_end,freq='M',format='%Y.%m'):\r\n    \"\"\"Create time index usign start and end dates and freq. The result is formated to format parameter\r\n        Ex.\r\n            create_time('2016.01','2018.12')\r\n            create_time('2016.01.01','2016.12.31',freq='D',format='%d/%m/%Y')\r\n    \"\"\"\r\n    if \".\" in date_start:\r\n        date_start = date_start.replace('.', '-')\r\n    if \".\" in date_end:\r\n        date_end = date_end.replace('.', '-')\r\n    return pd.Index(pd.period_range(start=date_start, end=date_end, freq=freq).strftime(format))\r\n        \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "create_time", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "CreateTime", "units": null, "w": 179, "x": 505, "y": 90, "z": 1}, {"color": null, "definition": "def _fn(param1, param2, compareType=1, caseSensitive = True):\r\n    \"\"\"\r\n    param1: value or indexarray for compare\r\n    param2: index compare to\r\n    compareType: exact=1, start_with=2, end_with=3, contain=4  \r\n    caseSensitive: able to differentiate between uppercase and lowercase (by default True)\r\n\r\n    If param1 is a scalar (numeric or str) and param2 is an index:  return a dataArray indexed by param2 with True on ocurrences of param2\r\n        Ex. result = find(\"te\", region, cp.end_with)\r\n    If param1 is an index and param2 is an index too:  return a dataArray indexed by param1 and param2 with True on ocurrences of param1 on param2\r\n        Ex. result = find(subregion, region, cp.contain)\r\n\r\n    \"\"\"\r\n    def _internalFn(item,value):\r\n        if not isinstance(item,str):\r\n            item = str(item)\r\n        if not isinstance(value,str):\r\n            value = str(value)\r\n            \r\n        if compareType==1:\r\n            if caseSensitive:\r\n                return item == value\r\n            else:\r\n                return item.lower() == value.lower()\r\n        elif compareType==2:\r\n            if caseSensitive:\r\n                return item[:len(value)] == value\r\n            else:\r\n                return item[:len(value)].lower() == value.lower()                                    \r\n        elif compareType==3:\r\n            if caseSensitive:\r\n                return item[-len(value):] == value\r\n            else:\r\n                return item[-len(value):].lower() == value.lower()                    \r\n        elif compareType==4:\r\n            if caseSensitive:\r\n                return value in item\r\n            else:\r\n                return value.lower() in item.lower()\r\n\r\n    if (isinstance(param1,str) or str(param1).isnumeric()) and isinstance(param2,pd.Index):\r\n        vfn = np.vectorize(_internalFn)\r\n        return xr.DataArray(vfn(param2.values,param1),[param2])\r\n\r\n    if isinstance(param1,pd.Index) and isinstance(param2,pd.Index):\r\n        _res = create_dataarray(False, [param1,param2], dtype=bool)\r\n        for row in param1.values:\r\n            for col in param2.values:\r\n                _res.loc[ {param1.name:slice(row,row), param2.name:slice(col,col) }] = _internalFn(col,row)\r\n        return _res \r\n            \r\nresult = _fn\r\n", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "find", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Find", "units": null, "w": 179, "x": 107, "y": 201, "z": 1}, {"color": null, "definition": "def _fn(dataArray, dataMap, sharedIndex, defaultValue=0): \n    \"\"\"\n    Returns the value of dataArray indexed by the index of dataMap.\n    dataArray must be indexed by sharedIndex and dataArray values must correspond to elements of sharedIndex.\n    For example: Let's say you have a cube with an estimated inflation rate by Country (\"inflation_rate\" is the name of the cube; \"country\" is the name of the index) and you want to assign it to the corresponding Company depending on its location. On the other hand, there's a many-to-one map where each Company is allocated to a single Country (\"country_to_company_allocation\"). The sharedIndex, in this case, is Country (\"country\").\n    As a result, \n        lookup( inflation_rate , country_to_company_allocation , country )\n    will return the estimated inflation rate by Company.\n    \"\"\"\n\n    try:\n        return dataArray.sel({sharedIndex.name: dataMap }, drop=True) \n    except Exception as ex:\n        filtro =  dataMap.isin(sharedIndex.values)\n        valuesOk =  dataMap[dataMap.isin(sharedIndex.values)]\n        lookOk =  dataArray.sel({sharedIndex.name: valuesOk }, drop=True) \n        final = lookOk.reindex({dataMap.dims[0]:dataMap.coords[dataMap.dims[0]].values})\n        return final.fillna(defaultValue)\n    \nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "lookup", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Lookup", "units": null, "w": 179, "x": 505, "y": 127, "z": 1}, {"color": null, "definition": "def _fn(dataArray, mapInfo, sourceIndex, targetIndex, aggregationFunction='sum'):\r\n    \"\"\" Converts dataArray, originally indexed by sourceIndex, to a dataArray indexed by targetIndex, aggregating according to the mapInfo\u2018s allocation of targetIndex: sourceIndex.\r\n        mapInfo gives the value of targetIndex for each element of sourceIndex (If the map does not match then the element will not be set into target index and information will be lost)\r\n        aggregationFuction (optional) especifies the function to be used when grouping data (sum, mean, min, max, median)\r\n\r\n        i.e. for aggregating time information into annual index, the syntax is:\r\n            aggregate(dataArray, timeToYearsMap, time, years)\r\n    \"\"\"\r\n    # Transform map and targetIndex to list\r\n    if not isinstance(mapInfo, list):\r\n        mapInfo = [mapInfo]\r\n    if not isinstance(targetIndex, list):\r\n        targetIndex = [targetIndex]\r\n    \r\n    if len(mapInfo) == len(targetIndex):\r\n        # Create dataframe map with new indexes\r\n        _map = pd.DataFrame(columns = [sourceIndex.name]).set_index(sourceIndex.name)\r\n        for i in range(len(mapInfo)):\r\n            _map_i = mapInfo[i].to_dataframe(targetIndex[i].name)\r\n            _map = _map.join(_map_i, how = 'outer')\r\n        \r\n        _df = dataArray.to_dataframe('value')\r\n        _empty_filter = _df[\"value\"]!=0\r\n        # Drop rows with 0 if dataframe is not empty (to avoid error)\r\n        if len(_df[_empty_filter]) != 0:\r\n            _df = _df[_empty_filter]\r\n        \r\n        # Join new dimensions (target) and drop original (source)\r\n        _df = _df.join(_map).reset_index()\r\n        _df.drop(columns = [sourceIndex.name], inplace = True)\r\n        _newDimList = [xx for xx in dataArray.dims if xx not in [sourceIndex.name]]\r\n        \r\n        # Groupby dataframe by new dimensions\r\n        for i in range(len(targetIndex)):\r\n            _newDimList.append(targetIndex[i].name)\r\n        _df = _df.groupby(_newDimList).agg(aggregationFunction)\r\n        \r\n        # Transform to Xarray DataArray\r\n        _da = _df[\"value\"].to_xarray()\r\n        \r\n        # Reindex dimensions\r\n        _reindexDic = {}\r\n        for t_index in targetIndex:\r\n            _reindexDic.update({t_index.name: t_index.values})\r\n        for coord in dataArray.coords:\r\n            if coord != sourceIndex.name:\r\n                _reindexDic[coord] = dataArray.coords[coord].values\r\n        _da = _da.reindex(_reindexDic)    \r\n\r\n        return _da.fillna(0)\r\n    else:\r\n        raise ValueError('mapInfo and targetIndex must have the same number of elements')\r\n    \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "aggregate", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Aggregate", "units": null, "w": 179, "x": 505, "y": 164, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(cube):\n    \"\"\"Returns a list of all the elements of the index for which cube is true. The function is used to create a new index that is a subset of an existing index.\n        Ex. subset(sales>0)\n    \"\"\"\n    cond = cube>0\n    values = cond.coords[cond.dims[0]].values[cond.values]\n    return pd.Index(values)\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "subset", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Subset", "units": null, "w": 179, "x": 107, "y": 275, "z": 1}, {"color": "#cb98ff", "definition": "def _fn( param1, separator, part=None ): \n    \"\"\"\n    Description: Returns a DataArray object with text values formed by splitting the elements of param1 text values at each occurrence of separator \"separator\". \n    The DataArray will have the original dimension plus a new dimension 'Parts' of length (number of separators + 1). \n    All text values must have the same number of separators separator.        \n    \"\"\"\n    if isinstance(param1, pd.Index) : \n        param1 = xr.DataArray(param1.values, [param1]) \n\n    _q_separators = apply_fn( param1, lambda x: x.count(separator) ) \n    _max_q_separators = np.asscalar( _q_separators.max().values ) \n    _result_coords = ['Part ' + str(i) for i in range( 1, _max_q_separators + 2)] \n    _result_dim = pd.Index( _result_coords ) \n    _result_dim.name = \"Parts\" \n\n    _results = [] \n\n    for _part in range( _max_q_separators + 1 ): \n        _dataarray = apply_fn( param1, lambda x: x.split(separator)[_part] ) \n        _results.append(_dataarray) \n\n    _res = xr.concat( _results, dim = _result_dim )\n\n    if not part is None:\n        _res = _res.sel(Parts=\"Part \" + str(part),drop=True)\n\n    return _res\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "split_text", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Split Text", "units": null, "w": 179, "x": 107, "y": 312, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(index): \n    \"\"\"\n    Return datarray with pd.index and yours positions as values\n    \"\"\"\n    return xr.DataArray(range(0,len(index)), [index] )\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "get_pos", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Get pos", "units": null, "w": 179, "x": 107, "y": 349, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(*args):\n    \"\"\"\n    Concatenates two or more indexes and/or atomic values into a single new index\n    Return: new index\n        Ex.\n            cp.concatIndex(index1,index2,index3,value1,value2)\n    \"\"\"\n    _list = []\n    for arg in args:\n        if isinstance(arg,pd.Index):\n            values = (arg.values).tolist()\n            _list.extend(values)\n        else:\n            _list.append(arg)\n\n    seripandas = pd.Series(_list)\n    return pd.Index(seripandas.unique())\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "concat_index", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Concat Index", "units": null, "w": 179, "x": 107, "y": 386, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(index,selection,includeAll=False):\n    \"\"\"Return the element in the \"selection\" position of the index. \n    \"\"\"\n    if selection==0 and includeAll==1:\n        return \"All\"\n    else:\n        values = None\n        if isinstance(index,pd.Index):\n            values = (index.values[:1000]).tolist()\n        elif isinstance(index,np.ndarray):\n            values = (index[:1000]).tolist()\n        else:\n            values = list(index)[:1000]\n        if not values is None and len(values)>=selection:\n            return values[selection-1]\n    return \"\"\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "choice", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Choice", "units": null, "w": 179, "x": 505, "y": 201, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(dataArray,index,shift, initialValues=None):\n    \"\"\"\n    Perform cyclic calculations betwwen nodes.\n    dataArray: dataArray to perform the ciclyc dependency calculation\n    index: Index from dataArray to shift \n    shift: number of elemnts to shift. Can be positive or negative\n    initialValues: (optional), initial values to apply to first \"shift\" elemnts\n    \"\"\"\n    _da = dataArray.shift({index.name:(shift*-1)})\n    if not initialValues is None:\n        _da = _da.fillna(initialValues)\n    return _da\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "dynamic", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dynamic", "units": null, "w": 179, "x": 505, "y": 238, "z": 1}, {"color": "#EEEEEE", "definition": null, "description": "Pyplan XArray Extensions - 16-Apr-2020", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 521, "identifier": "a46ff2bbf32b248e9abbbeed6c482547b", "moduleId": "pyplan_xarray_extensions", "nodeClass": "text", "nodeFont": "Helvetica,15", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 0, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 1}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": 851, "x": 46, "y": 53, "z": -1}, {"color": null, "definition": "def _fn(dataArray, index, position):\r\n    \"\"\"\r\n    Filter dataArray by integer position along the specified index.\r\n    \r\n    dataArray: dataArray to be filtered\r\n    index: pp.index \r\n    position: int \r\n        Ex.\r\n            pp.isel(dataArray1, index1, 0)\r\n    \"\"\"\r\n    if not isinstance(dataArray,xr.DataArray):\r\n        raise ValueError(\"the 'dataArray' parameter must be of the type xr.DataArray\")\r\n    return dataArray.isel({index.name:position},drop=True)\r\n    \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "slice_dataarray", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Slice", "units": null, "w": 179, "x": 505, "y": 275, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(param):\n   return xr.DataArray(param.values,[param])\n   \n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "to_dataarray", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "To Dataarray", "units": null, "w": 179, "x": 306, "y": 423, "z": 1}, {"color": null, "definition": "def _fn(dataArray,value=0):\r\n    \"\"\"Fill np.inf values with default value\r\n        Ex.\r\n            fill_inf(dataArray,0)\r\n    \"\"\"\r\n    return apply_fn(dataArray,lambda x: value if np.isinf(x) else x)\r\n    \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "fill_inf", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Fill inf", "units": null, "w": 179, "x": 505, "y": 312, "z": 1}, {"color": null, "definition": "def _fn(dataArray,value=0):\r\n    \"\"\"Fill np.inf and np.nan with default value\r\n        Ex.\r\n            fill_all(dataArray,0)\r\n    \"\"\"\r\n    return fill_inf(dataArray.fillna(value),value)\r\n    \r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "fill_all", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Fill all", "units": null, "w": 179, "x": 505, "y": 349, "z": 1}, {"color": "#cb98ff", "definition": "def _fn( obj, applyFn, *args):\n    \"\"\" Apply \"applyFn\" to \"obj\" where obj can be DataArray or Index\n    \"\"\"\n    vfn = np.vectorize(applyFn)\n    if isinstance(obj,pd.Index):\n        \n        return pd.Index(np.unique(vfn(obj.values,*args)))\n        \n    if isinstance(obj,xr.DataArray):\n        return xr.apply_ufunc(vfn,obj,*args)\n    return None\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "apply_fn", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Apply", "units": null, "w": 179, "x": 107, "y": 238, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(start, periods, freq='M', format='%Y.%m'):\n    \"\"\"Add periods to a date. Can set freq and output format \n        Ex.\n            pp.addPeriods('2016.01',6)\n            pp.apply( pp.addPeriods, inicio_de_proyectos , duracin_de_proyectos)\n    \"\"\"\n    if \".\" in start:\n        start = start.replace('.', '-')\n    if periods<0:\n        return pd.period_range(end=start, periods=-periods+1, freq=freq).strftime(format)[0] \n    else:\n        return pd.period_range(start=start, periods=periods+1, freq=freq).strftime(format)[-1] \n   \n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "add_periods", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Add Periods", "units": null, "w": 179, "x": 505, "y": 386, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(nodeIdX, nodeIdObjective, goal=0, startValue=1, matrixIndex=None ): \n    \"\"\" Finds the value of nodeIdX that makes nodeIdObjective equal to goal.\n    nodeIdX: String with id of node X\n    nodeIdObjective: String with id of node X\n    matrixIndex: Index for multidimensional goal seek\n    \"\"\"\n    _aa=subscript\n    _getNodeFn = globals()[\"getNode\"]\n    from scipy.optimize import newton\n    \n    if matrixIndex is None:\n    \n        def _f(x):\n            _getNodeFn(nodeIdX).definition = \"result = \" + str(x)\n            value = _getNodeFn(nodeIdObjective).result\n            return value - goal\n        \n        _res = newton(_f, x0=startValue)\n        return _res\n        \n    else:\n        _indexName=matrixIndex.name\n        for item in years:\n            def _f(x):\n                _values = _getNodeFn(nodeIdX).result\n                _values.loc[{_indexName: slice(item, item)}] = x\n                np.set_printoptions(threshold = np.prod(_values.values.shape))\n                data = np.array2string(_values.values, separator=\",\", precision=20 , formatter={'float_kind':lambda x: \"np.nan\" if np.isnan(x) else repr(x)}).replace('\\n','')\n                _getNodeFn(nodeIdX).definition = f\"result = xr.DataArray({data},[{_indexName}])\"\n                value = _getNodeFn(nodeIdObjective).result\n                return subscript(value,matrixIndex,item)\n            _res = newton(_f, x0=1)\n\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "goal_seek", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Goal Seek", "units": null, "w": 179, "x": 306, "y": 460, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(rate, flow, time_index, offset = 1): \n    \"\"\"\"Returns the Net Present Value (NPV) of a cash flow with equally spaced periods. The flow parameter must contain a series of periodic payments (negative values) and inflows (positive values), indexed by time_index.\n        The optional offset parameter especifies the offset of the first value relative to the current time period. By default, offset is set to 1, indicating that the first value is discounted as if it is one step in the future\n    \"\"\"\n    _number_of_periods = get_pos(time_index) + offset \n    _present_values = flow / ( 1 + rate ) ** _number_of_periods \n    _npv = _present_values.sum(time_index.name ) \n    return _npv\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "npv", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "NPV", "units": null, "w": 179, "x": 505, "y": 423, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(flow, time_index ):\n    \"\"\"Returns the Internal Rate of Return (IRR) of a series of periodic payments (negative values) and inflows (positive values). The IRR is the discount rate at which the Net Present Value (NPV) of the flows equals zero. \n        The variable flow must be indexed by time_index.\n\n    If the cash flow never changes sign, cp.irr() has no solution and returns NAN (Not A Number).\n    \"\"\"\n    import pandas as pd\n    _getNodeFn = globals()[\"getNode\"]\n    \n\n    _rest_of_indexes_labels = np.setdiff1d( flow.dims, [time_index.name])\n\n    _cube = None\n    if len( _rest_of_indexes_labels ) == 0: \n        _cube = np.irr( flow.values ) \n    else:\n        _rest_of_indexes = [_getNodeFn(xx).result for xx in _rest_of_indexes_labels]\n        _cube = create_dataarray(0.,_rest_of_indexes)\n        _multivalues = [idx.values for idx in _rest_of_indexes] \n        _values = pd.MultiIndex.from_product( _multivalues ).values \n        \n        for _item in _values: \n            _filter = {}\n\n            for _nn in range(len(_item)): \n                _filter[ _rest_of_indexes[_nn].name ] = _item[_nn]\n                \n            _toIrr = flow.sel(_filter).values\n            _irr = np.irr( _toIrr ) \n            _cube.loc[_filter] = _irr\n\n\n    return _cube\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "irr", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "IRR", "units": null, "w": 179, "x": 107, "y": 460, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(investments, usefulLife, timeIndex, includeInCurrentMonth=False, timeIndexFormat='%Y.%m'):\n    \"\"\"Returns the straight-line depreciation of dataArray investments over its usefulLife.\n    investments: DataArray containing investments\n    usefulLife: DataArray with number of years of life expectancy\n    timeIndex: Time dimension of dataArray. Must be a Pandas Index\n    includeInCurrentMonth: Wheter to start depreciating in month t or month t+1\n    timeIndexFormat: i.e. for '2016.01' would be '%Y.%m'\n    \"\"\"\n    # Depreciation amount (safe division by zero)\n    _usefulLife_months = usefulLife.astype(int) * 12\n    _usefulLife_months_den = xr.where(_usefulLife_months == 0, 1, _usefulLife_months)\n    _depreciation = xr.where(_usefulLife_months == 0, 0, investments / _usefulLife_months_den)\n    \n    # Calculate first and last months to depreciate\n    _df_per = _usefulLife_months.to_dataframe('first').reset_index()\n    _df_per['key'] = 1\n    _df_time = pd.DataFrame(timeIndex)\n    _df_time['key'] = 1\n    _df = _df_time.merge(_df_per, on = ['key']).drop(columns = ['key'])\n    _df['ending'] = pd.to_datetime(_df[timeIndex.name].str.replace('.','-')).dt.to_period('M')\n    _df['ending'] = (_df['ending'] + _df['first']).dt.strftime(timeIndexFormat)\n    \n    # Get dimensions indexes and names\n    _model = self.model\n    _da_dims_names = list(usefulLife.dims)\n    _da_dims = {timeIndex.name : timeIndex}\n    for dim in _da_dims_names:\n        _da_dims.update({dim : _model.nodeDic[dim].result})\n    \n    # DataArray with ending date\n    _ending = dataarray_from_pandas( _df, _da_dims, valueColumns = 'ending', defaultValue = '')\n    \n    # Allocate depreciation to corresponding periods\n    _depreciations = investments * 0.\n    for t in timeIndex:\n        _ending_month = subscript(_ending, timeIndex, t)\n        _depreciation_amount_t = subscript(_depreciation, timeIndex, t)\n        if includeInCurrentMonth:\n            _depreciacion_t = xr.where((to_dataarray(timeIndex) >= t) & (to_dataarray(timeIndex) < _ending_month), _depreciation_amount_t, 0.)\n        else:        \n            _depreciacion_t = xr.where((to_dataarray(timeIndex) > t) & (to_dataarray(timeIndex) <= _ending_month), _depreciation_amount_t, 0.)\n        _depreciations = _depreciations + _depreciacion_t\n        \n    return _depreciations\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "linear_depreciation", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Linear Depreciation", "units": null, "w": 179, "x": 107, "y": 423, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(dataArray, sortValues=True):\n    \"\"\"Generates a pd.Index with the unique values of the dataArray.\n    \"\"\"\n    np_values = dataArray.values.flatten()\n    \n    # Numpy unique function automatically reorders. Pandas unique, does not. \n    if sortValues is True:\n        return pd.Index(np.unique(np_values))\n    else:\n        return pd.Index(np_values).unique()\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "copy_index", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Copy Index", "units": null, "w": 179, "x": 505, "y": 460, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(source, targetId):\n    \"\"\"Copy values of datArray \"source\" into dataArray with id 'targetId'. This function alter the definition of dataArray with 'targetId' identifier.\n            source: dataArray/index from copy values\n            targetId: identifier (string) of the target node \n    \"\"\"\n    \n    _getNodeFn = globals()[\"getNode\"]\n\n    if isinstance(source,str):\n        source = self.node.model._getNodeFn(source).result\n\n\n    if not isinstance(source,xr.DataArray) and not isinstance(source,pd.Index) and not isinstance(source,float) and not isinstance(source,int):\n        raise ValueError(\"The 'source' parameter must be a xr.DataArray, pd.Index, float or int\")\n\n    if not isinstance(targetId,str):\n        raise ValueError(\"The 'targetId' parameter must be a string (identifier of node)\")\n    \n        \n    newDef = \"\"\n    if isinstance(source,float) or isinstance(source,int):\n        newDef = f\"result = {str(source)}\" \n    elif isinstance(source,xr.DataArray):\n        _indexes = str(list(source.dims)).replace(\"'\",'')\n        np.set_printoptions(threshold = np.prod(source.values.shape))\n        _data = np.array2string(source.values, separator=\",\", precision=20 , formatter={'float_kind': lambda x: \"np.nan\" if np.isnan(x) else repr(x)}).replace('\\n','')\n        newDef = f\"result = xr.DataArray({_data},{_indexes})\"\n    elif isinstance(source,pd.Index):\n        np.set_printoptions(threshold = np.prod(source.values.shape))\n        _data = np.array2string(source.values, separator=\",\", precision=20 , formatter={'float_kind': lambda x: \"np.nan\" if np.isnan(x) else repr(x)}).replace('\\n','')\n        newDef = f\"result = pd.Index({_data})\"\n    \n    _getNodeFn(targetId).definition = newDef\n    return True\n\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "copy_as_values", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Copy as values", "units": null, "w": 179, "x": 106, "y": 497, "z": 1}, {"color": "#cb98ff", "definition": "def _sequence(_start, _end, _step=1):\n   \"\"\"\n   Returns a pd.Index with the sequence between 'start' and 'end' parameters. Both limits are inclusive. Values are converted to string.\n   \"\"\"\n   \n   try:\n       _start = int(_start)\n       _end = int(_end) + 1\n       _step = int(_step)\n   except:\n       raise ValueError(\"Only numbers are allowed as 'start', 'end' and 'step' parameters\")\n   \n   _list = [str(x) for x in range(_start, _end, _step)]\n   _index = pd.Index(_list)\n   return _index\n\nresult = _sequence", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "sequence_index", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Sequence Index", "units": null, "w": 179, "x": 505, "y": 497, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(dataframe, domainDic, valueColumns, defaultValue = None, valueColumnsAsDim = True, sumDuplicateRecords = True):\r\n    \"\"\" Returns a DataArray (valueColumns is string or (valueColumns is pd.Index and valueColumnsAsDim is True)) or Dataset (valueColumns is a list or (valueColumns is a pd.Index and valueColumnsAsDim is False)) from a Pandas dataframe applying the set_domain function.\r\n    dataframe: Pandas dataframe with no index columns.\r\n    domainDic: Dictionary of column names and index names. Ex. {'Column Name': index_name}.\r\n    valueColumns: String, list or pd.Index. Dataframe's value columns.\r\n    defaultValue: Default value when applying set_domain function.\r\n    valueColumnsAsDim: If True, valueColumns becomes a dimension of resulting DataArray. If False, each value column becomes a variable of the resulting Dataset.\r\n    sumDuplicateRecords: If True, sums identical rows. Otherwise, removes duplicates (except the first one). \r\n    \r\n    Ex. pandas_to_dataarray(sales_dataframe, {'Sales Channel': sales_channels, 'Market Segment': market_segments, 'Month': time}, 'Sales', 0.)\r\n    \"\"\"\r\n    _index_value_columns = None\r\n    \r\n    # Check if valueColumns is string, list, np.ndarray or pd.Index (transform to list) and indexes is dict.\r\n    if isinstance(valueColumns, pd.Index):\r\n        _index_value_columns = valueColumns.copy()\r\n        _index_value_columns_name = _index_value_columns.name\r\n        valueColumns = valueColumns.values.tolist()\r\n    elif isinstance(valueColumns, np.ndarray):\r\n        valueColumns = valueColumns.tolist()\r\n    elif not isinstance(valueColumns, str) and not isinstance(valueColumns, list):\r\n        raise ValueError(\"valueColumns must be a string, a list or a pd.Index\")\r\n    if not isinstance(domainDic, dict):\r\n        raise ValueError(\"Indexes must be a dictionary\")\r\n    \r\n    # Transform indexes into list and create list with all columns.\r\n    _index_cols = list(domainDic.keys())\r\n    _cols = _index_cols.copy()\r\n    \r\n    if isinstance(valueColumns, list):\r\n        _cols = _cols + valueColumns\r\n    else:\r\n        _cols.append(valueColumns)\r\n    \r\n    # If valueColumnsAsDim is True, check if every column is in dataframe and filter it.\r\n    if (valueColumnsAsDim is True) and isinstance(_index_value_columns, pd.Index):\r\n        _df_columns = dataframe.columns.values.tolist()\r\n        _cols = [value for value in _df_columns if value in _cols]\r\n        _filtered_value_columns = [value for value in _cols if value not in _index_cols]\r\n    \r\n    # Filter dataframe by columns.\r\n    _df = dataframe[_cols]\r\n    \r\n    # Sum identical rows or remove duplicates.\r\n    if sumDuplicateRecords is True:\r\n        _df = _df.groupby(_index_cols, as_index = False).sum()\r\n    else:\r\n        _duplicate_rows =_df.duplicated(_index_cols)\r\n        _df = _df[~_duplicate_rows]\r\n    \r\n    # If valueColumnsAsDim is True, melt valueColumns.\r\n    if (valueColumnsAsDim is True) and isinstance(_index_value_columns, pd.Index):\r\n        # Unpivot dataframe from wide format to long format by valueColumns.\r\n        _df = pd.melt(_df, id_vars = _index_cols, value_vars = _filtered_value_columns, var_name = _index_value_columns_name, value_name = 'values')\r\n        _index_cols = _index_cols + [_index_value_columns_name]\r\n        domainDic[_index_value_columns_name] = _index_value_columns\r\n        \r\n        # Create DataArray\r\n        _data = _df.set_index(_index_cols)['values'].to_xarray()\r\n        \r\n        # Appy set_domain function to DataArray / Dataset.\r\n        _data = set_domain(_data, domainDic, defaultValue)\r\n    else:\r\n        # Create DataArray / Dataset.\r\n        _data = _df.set_index(_index_cols)[valueColumns].to_xarray()\r\n        \r\n        # Appy set_domain function to DataArray / Dataset.\r\n        _data = set_domain(_data, domainDic, defaultValue)\r\n        \r\n    return _data\r\n\r\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "dataarray_from_pandas", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "DataArray from Pandas", "units": null, "w": 179, "x": 306, "y": 349, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(dataArray, targetValue, targetIndex, method = 'Last'):\n    \"\"\" Returns a dataArray containing the value of targetIndex for which dataArray (indexed by targetIndex) is equal to targetValue.\n    dataArray: Xarray dataArray.\n    targetValue: Integer, Float or String.\n    targetIndex: Pandas Index.\n    method: There are two options: \"Last\" returns the last occurrence of targetIndex for which dataArray is equal to targetValue. \"First\" returns the first occurrence.\n    \"\"\"\n    \n    # Equals dataArray to targetValue and cumulates it along targetIndex.\n    _matriz_1_0 = xr.where(dataArray == targetValue, 1, 0)\n    _matriz_1_0_acum = xr.where(_matriz_1_0 == 1, _matriz_1_0.cumsum(targetIndex.name), 0)\n    \n    if method == 'Last':\n        # Get max cumulated value along targetIndex\n        _max = _matriz_1_0_acum.max(targetIndex.name)\n        _max = xr.where(_max == 0, np.nan, _max)\n        _matriz_max = xr.where(_matriz_1_0_acum == _max, to_dataarray(targetIndex), np.nan)\n        return _matriz_max.max(targetIndex.name)\n    elif method == 'First':\n        # Get min (1) cumulated value along targetIndex\n        _matriz_min = xr.where(_matriz_1_0_acum == 1, to_dataarray(targetIndex), np.nan)\n        return _matriz_min.max(targetIndex.name)\n    else:\n        raise ValueError(\"Insert a valid method\")\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "subindex", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Subindex", "units": null, "w": 179, "x": 700, "y": 90, "z": 1}, {"color": "#cb98ff", "definition": "def _concat_rows(array_param, index_param):\n   _index = pd.Index([])\n   for i in index_param.values:\n       _index = concat_index(_index , pd.Index(array_param.sel({index_param.name:i}, drop=True).values))\n   return _index\n\nresult = _concat_rows", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "concat_rows", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Concat Rows", "units": null, "w": 179, "x": 700, "y": 127, "z": 1}, {"color": "#cb98ff", "definition": "import plotly.io as pio\nfrom plotly.graph_objs._figure import Figure\n\ndef _fn(fig, **kwargs):\n    \"\"\"\n        Generate HTML with plotly chart\n        Params:\n            fig: plotly fig\n    \"\"\"\n    if isinstance(fig, dict):\n        fig = Figure(fig)\n    \n    if isinstance(fig,Figure):\n        if not \"layout\" in fig or not \"margin\" in fig[\"layout\"] or fig[\"layout\"][\"margin\"][\"b\"] is None:\n            fig.update_layout(margin=dict(b=10))\n        if not \"layout\" in fig or not \"margin\" in fig[\"layout\"] or fig[\"layout\"][\"margin\"][\"t\"] is None:\n            fig.update_layout(margin=dict(t=10))\n        if not \"layout\" in fig or not \"margin\" in fig[\"layout\"] or fig[\"layout\"][\"margin\"][\"l\"] is None:\n            fig.update_layout(margin=dict(l=10))\n            \n\n    return pio.to_html(fig,full_html=False, include_plotlyjs=False, **kwargs)\n\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "plot", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Plot", "units": null, "w": 179, "x": 700, "y": 164, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(task_state=\"PROGRESS\",task_description=None,task_activity=None, task_info=None):\n    \"\"\"\n        Generate log entry. Used for schedule tasks\n        params:\n          task_state: PROGRESS, INFO, WARNING, FAILURE, RETRY, SUCCESS, REVOKED, STARTED, PENDING, RECEIVED\n          task_description: Shot description of task. example: start process\n          task_activity: other short description\n          task_info: json with more info \n    \"\"\"\n\n    import requests\n    from os import environ\n    import json\n    _params = {\n            \"state\": task_state,\n            \"description\": task_description,\n            \"activity\": task_activity,\n            \"info\": json.dumps(task_info)}\n    \n    res=None\n\n    if task_log_endpoint:\n        base_host = environ['PYPLAN_API_HOST'] + task_log_endpoint\n        res = requests.post(base_host, data=_params)\n    else:\n        print(str(_params))\n        \n    return res\n\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "log_task", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Log Task", "units": null, "w": 179, "x": 700, "y": 201, "z": 1}, {"color": "#cb98ff", "definition": "install_library(\"pyxlsb\")\n\ndef _fn(filepath):\n    from pyxlsb import open_workbook as open_xlsb\n    \n    _df = []\n    \n    with open_xlsb(filepath) as wb:\n        with wb.get_sheet(1) as sheet:\n            for row in sheet.rows():\n                _df.append([item.v for item in row])\n    \n    return pd.DataFrame(_df[1:], columns = _df[0])\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "pandas_from_xlsb_file", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pandas from XLSB File", "units": null, "w": 179, "x": 700, "y": 238, "z": 1}, {"color": "#cb98ff", "definition": "from pyplan_engine.classes.PyplanFunctions import Selector\ndef _fn(options, selected, multiselect=False):\n    \"\"\" Create UI Pyplan selector for desicion nodes\n        Params:\n            options: List or pd.Index with available values that can be selected \n            selected: current selected index value's\n            multiselect: True to allow multiple selection\n    \"\"\"\n    return Selector(options, selected, multiselect)\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "selector", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Selector", "units": null, "w": 179, "x": 700, "y": 275, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(message_text, message_title=None):\n    \"\"\"Send message to UI\"\"\"\n    self.model.ws.sendMsg(message_text, message_title) \n    \nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "send_message", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Send message", "units": null, "w": 179, "x": 700, "y": 312, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(progress, message_text=\"\"):\n    \"\"\"Create and update progress bar\"\"\"\n    self.model.ws.progressbar(progress, message_text) \n    \nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "progressbar", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Progress bar", "units": null, "w": 179, "x": 700, "y": 349, "z": 1}, {"color": "#4CBCFF", "definition": "import re\nimport subprocess\nimport pandas as pd\nimport numpy as np\ntry:\n    from StringIO import StringIO as BytesIO\nexcept ImportError:\n    from io import BytesIO\n\nimport re\nimport subprocess\nimport pandas as pd\nimport numpy as np\ntry:\n    from StringIO import StringIO as BytesIO\nexcept ImportError:\n    from io import BytesIO\n\nTABLE_RE = re.compile(\"CREATE TABLE \\[([a-zA-Z_0-9 ]+)\\]\\s+\\((.*?\\));\",\n                      re.MULTILINE | re.DOTALL)\n\nDEF_RE = re.compile(\"\\s*\\[(\\w+)\\]\\s*(.*?),\")\n\n\nclass pandas_from_acc():\n    \n    \"\"\"\n    Class that allows to read access files with pandas\n    \n    EXAMPLES OF USE:\n    \n    # Listing the tables.\n    for tbl in pandas_from_access.list_tables(\"my.mdb\"):\n        print(tbl)\n        \n    # Read a small table.\n    df = pandas_from_access.read_table(\"my.mdb\", \"MyTable\")\n    \n    # Read a huge table.\n    accumulator = []\n    for chunk in pandas_from_access.read_table(\"my.mdb\", \"MyTable\", chunksize=10000):\n        accumulator.append(f(chunk))\n    \"\"\"\n\n    # public class methods\n\n    @classmethod\n    def list_tables(cls, rdb_file, encoding=\"latin-1\"):\n        \"\"\"\n        :param rdb_file: The MS Access database file.\n        :param encoding: The content encoding of the output. I assume `latin-1`\n            because so many of MS files have that encoding. But, MDBTools may\n            actually be UTF-8.\n        :return: A list of the tables in a given database.\n        \"\"\"\n        tables = cls.__get_tables(rdb_file, encoding)\n        return [table for table, _ in tables]\n\n    @classmethod\n    def read_schema(cls, rdb_file, encoding='utf8'):\n        \"\"\"\n        :param rdb_file: The MS Access database file.\n        :param encoding: The schema encoding. I'm almost positive that MDBTools\n            spits out UTF-8, exclusively.\n        :return: a dictionary of table -> column -> access_data_type\n        \"\"\"\n        output = subprocess.check_output(['mdb-schema', rdb_file])\n        lines = output.decode(encoding).splitlines()\n        schema_ddl = \"\\n\".join(l for l in lines if l and not l.startswith('-'))\n        tables = cls.__get_tables(rdb_file, encoding)\n        schema = {}\n        for table, defs in tables:\n            schema[table] = cls.__extract_defs(defs)\n\n        return schema\n\n    @classmethod\n    def to_pandas_schema(cls, schema, implicit_string=True):\n        \"\"\"\n        :param schema: the output of `read_schema`\n        :param implicit_string: mark strings and unknown dtypes as `np.str_`.\n        :return: a dictionary of table -> column -> np.dtype\n        \"\"\"\n        pd_schema = {}\n        for tbl, defs in schema.items():\n            pd_schema[tbl] = None\n            sub_schema = {}\n            for column, data_type in defs.items():\n                dtype = cls.__extract_dtype(data_type)\n                if dtype is not None:\n                    sub_schema[column] = dtype\n                elif implicit_string:\n                    sub_schema[column] = np.str_\n            pd_schema[tbl] = sub_schema\n        return pd_schema\n\n    @classmethod\n    def read_table(cls, rdb_file, table_name, *args, **kwargs):\n        \"\"\"\n        Read a MS Access database as a Pandas DataFrame.\n\n        Unless you set `converters_from_schema=False`, this function assumes you\n        want to infer the schema from the Access database's schema. This sets the\n        `dtype` argument of `read_csv`, which makes things much faster, in most\n        cases. If you set the `dtype` keyword argument also, it overrides\n        inferences. The `schema_encoding keyword argument passes through to\n        `read_schema`. The `implicit_string` argument passes through to\n        `to_pandas_schema`.\n\n        I recommend setting `chunksize=k`, where k is some reasonable number of\n        rows. This is a simple interface, that doesn't do basic things like\n        counting the number of rows ahead of time. You may inadvertently start\n        reading a 100TB file into memory. (Although, being a MS product, I assume\n        the Access format breaks after 2^32 bytes -- har, har.)\n\n        :param rdb_file: The MS Access database file.\n        :param table_name: The name of the table to process.\n        :param args: positional arguments passed to `pd.read_csv`\n        :param kwargs: keyword arguments passed to `pd.read_csv`\n        :return: a pandas `DataFrame` (or, `TextFileReader` if you set\n            `chunksize=k`)\n        \"\"\"\n        if kwargs.pop('converters_from_schema', True):\n            specified_dtypes = kwargs.pop('dtype', {})\n            schema_encoding = kwargs.pop('schema_encoding', 'utf8')\n            schemas = cls.to_pandas_schema(cls.read_schema(rdb_file, schema_encoding),\n                                           kwargs.pop('implicit_string', True))\n            dtypes = schemas[table_name]\n            dtypes.update(specified_dtypes)\n            if dtypes != {}:\n                kwargs['dtype'] = dtypes\n\n        cmd = ['mdb-export', rdb_file, table_name]\n        proc = subprocess.Popen(cmd, stdout=subprocess.PIPE)\n        return pd.read_csv(proc.stdout, *args, **kwargs)\n\n    # private class methods\n\n    def __get_tables(rdb_file, encoding='utf8'):\n        output = subprocess.check_output(['mdb-schema', rdb_file])\n        lines = output.decode(encoding).splitlines()\n        schema_ddl = \"\\n\".join(l for l in lines if l and not l.startswith('-'))\n        return TABLE_RE.findall(schema_ddl)\n\n    def __extract_dtype(data_type):\n        # Note, this list is surely incomplete. But, I only had one .mdb file\n        # at the time of creation. If you see a new data-type, patch-pull or just\n        # open an issue.\n        data_type = data_type.lower()\n        if data_type.startswith('double'):\n            return np.float_\n        elif data_type.startswith('long'):\n            return np.float_\n        elif data_type.startswith('bool'):\n            return np.bool_\n        elif data_type.startswith('text') or data_type.startswith('memo'):\n            return np.str_\n        elif data_type.startswith('ole'):\n            return np.bytes_\n        else:\n            return None\n\n    def __extract_defs(defs_str):\n        defs = {}\n        lines = defs_str.splitlines()\n        for line in lines:\n            m = DEF_RE.match(line)\n            if m:\n                defs[m.group(1)] = m.group(2)\n        return defs\n\n\nresult = pandas_from_acc()", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "pandas_from_access", "moduleId": "pyplan_xarray_extensions", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pandas from Access", "units": null, "w": 179, "x": 699, "y": 386, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(reportItems,reportIndexName=\"Report index\", reportIndex=None):\n    \"\"\" Concatenate the reportItems dic dataarrays along the reportIndex dimension\n    reportItems: dict or list with datarrays to concat (must have the same structure)\n    reportIndexName: Name of the new ReportIndex dimension\n    reportIndex: Overwrite ReportIndex dimension\n    Ex.\n    result = create_report(reportItems={\"Demand\":demand, \"Product Stock\":stock}, reportIndexName=\"New Report\" )\n    \"\"\"\n    if isinstance(reportItems,dict):\n        report_index = list(reportItems)\n        report_values = list(reportItems.values())\n        _titles = [str(xx.name) for xx in report_values]\n        _index = pd.Index(report_index, name=reportIndexName)\n        return xr.concat(report_values,_index)\n    else:\n        _titles = [str(xx.name) for xx in reportItems]\n        _index = None\n        if reportIndex is None:\n            _index = pd.Index( _titles, name=reportIndexName)\n        else:\n            _index = reportIndex\n        return xr.concat(reportItems,_index)\nresult = _fn", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "create_report", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Credate Report", "units": null, "w": 179, "x": 699, "y": 423, "z": 1}, {"color": "#cb98ff", "definition": "def _fn(dataarray_node):\n    return dataarray_node.stack( z=dataarray_node.dims).to_dataframe(\"value\")\n    \nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 33, "identifier": "pandas_from_dataarray", "moduleId": "pyplan_xarray_extensions", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_engine.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pandas from DataArray", "units": null, "w": 179, "x": 699, "y": 460, "z": 1}]}